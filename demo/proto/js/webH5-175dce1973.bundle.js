/*! For license information please see webH5.bundle.js.LICENSE */
!function(e){function t(t){for(var i,a,r=t[0],o=t[1],s=t[2],l=0,c=[];l<r.length;l++)a=r[l],P[a]&&c.push(P[a][0]),P[a]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);for(M&&M(t);c.length;)c.shift()();return $.push.apply($,s||[]),n()}function n(){for(var e,t=0;t<$.length;t++){for(var n=$[t],i=!0,a=1;a<n.length;a++){var r=n[a];0!==P[r]&&(i=!1)}i&&($.splice(t--,1),e=A(A.s=n[0]))}return e}var i=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(!_[e]||!C[e])return;for(var n in C[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(g[n]=t[n]);0==--v&&0===y&&E()}(e,t),i&&i(e,t)};var a,r=!0,o="e6dde558668602dd6cd5",s=1e4,l={},c=[],d=[];var u=[],f="idle";function h(e){f=e;for(var t=0;t<u.length;t++)u[t].call(null,e)}var p,g,m,v=0,y=0,w={},C={},_={};function b(e){return+e+""===e?+e:e}function S(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return r=e,h("check"),(t=s,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var i=new XMLHttpRequest,a=A.p+""+o+".hot-update.json";i.open("GET",a,!0),i.timeout=t,i.send(null)}catch(e){return n(e)}i.onreadystatechange=function(){if(4===i.readyState)if(0===i.status)n(new Error("Manifest request to "+a+" timed out."));else if(404===i.status)e();else if(200!==i.status&&304!==i.status)n(new Error("Manifest request to "+a+" failed."));else{try{var t=JSON.parse(i.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return h("idle"),null;C={},w={},_=e.c,m=e.h,h("prepare");var t=new Promise(function(e,t){p={resolve:e,reject:t}});for(var n in g={},P)x(n);return"prepare"===f&&0===y&&0===v&&E(),t});var t}function x(e){_[e]?(C[e]=!0,v++,function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.charset="utf-8",n.src=A.p+""+e+"."+o+".hot-update.js",t.appendChild(n)}(e)):w[e]=!0}function E(){h("ready");var e=p;if(p=null,e)if(r)Promise.resolve().then(function(){return T(r)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in g)Object.prototype.hasOwnProperty.call(g,n)&&t.push(b(n));e.resolve(t)}}function T(t){if("ready"!==f)throw new Error("apply() is only allowed in ready status");var n,i,a,r,s;function d(e){for(var t=[e],n={},i=t.slice().map(function(e){return{chain:[e],id:e}});i.length>0;){var a=i.pop(),o=a.id,s=a.chain;if((r=I[o])&&!r.hot._selfAccepted){if(r.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:o};if(r.hot._main)return{type:"unaccepted",chain:s,moduleId:o};for(var l=0;l<r.parents.length;l++){var c=r.parents[l],d=I[c];if(d){if(d.hot._declinedDependencies[o])return{type:"declined",chain:s.concat([c]),moduleId:o,parentId:c};t.includes(c)||(d.hot._acceptedDependencies[o]?(n[c]||(n[c]=[]),u(n[c],[o])):(delete n[c],t.push(c),i.push({chain:s.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function u(e,t){for(var n=0;n<t.length;n++){var i=t[n];e.includes(i)||e.push(i)}}t=t||{};var p={},v=[],y={},w=function(){console.warn("[HMR] unexpected require("+S.moduleId+") to disposed module")};for(var C in g)if(Object.prototype.hasOwnProperty.call(g,C)){var S;s=b(C);var x=!1,E=!1,T=!1,$="";switch((S=g[C]?d(s):{type:"disposed",moduleId:C}).chain&&($="\nUpdate propagation: "+S.chain.join(" -> ")),S.type){case"self-declined":t.onDeclined&&t.onDeclined(S),t.ignoreDeclined||(x=new Error("Aborted because of self decline: "+S.moduleId+$));break;case"declined":t.onDeclined&&t.onDeclined(S),t.ignoreDeclined||(x=new Error("Aborted because of declined dependency: "+S.moduleId+" in "+S.parentId+$));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(S),t.ignoreUnaccepted||(x=new Error("Aborted because "+s+" is not accepted"+$));break;case"accepted":t.onAccepted&&t.onAccepted(S),E=!0;break;case"disposed":t.onDisposed&&t.onDisposed(S),T=!0;break;default:throw new Error("Unexception type "+S.type)}if(x)return h("abort"),Promise.reject(x);if(E)for(s in y[s]=g[s],u(v,S.outdatedModules),S.outdatedDependencies)Object.prototype.hasOwnProperty.call(S.outdatedDependencies,s)&&(p[s]||(p[s]=[]),u(p[s],S.outdatedDependencies[s]));T&&(u(v,[S.moduleId]),y[s]=w)}var O,k=[];for(i=0;i<v.length;i++)s=v[i],I[s]&&I[s].hot._selfAccepted&&k.push({module:s,errorHandler:I[s].hot._selfAccepted});h("dispose"),Object.keys(_).forEach(function(e){!1===_[e]&&function(e){delete P[e]}(e)});for(var L,M,D=v.slice();D.length>0;)if(s=D.pop(),r=I[s]){var N={},B=r.hot._disposeHandlers;for(a=0;a<B.length;a++)(n=B[a])(N);for(l[s]=N,r.hot.active=!1,delete I[s],delete p[s],a=0;a<r.children.length;a++){var R=I[r.children[a]];R&&((O=R.parents.indexOf(s))>=0&&R.parents.splice(O,1))}}for(s in p)if(Object.prototype.hasOwnProperty.call(p,s)&&(r=I[s]))for(M=p[s],a=0;a<M.length;a++)L=M[a],(O=r.children.indexOf(L))>=0&&r.children.splice(O,1);for(s in h("apply"),o=m,y)Object.prototype.hasOwnProperty.call(y,s)&&(e[s]=y[s]);var U=null;for(s in p)if(Object.prototype.hasOwnProperty.call(p,s)&&(r=I[s])){M=p[s];var H=[];for(i=0;i<M.length;i++)if(L=M[i],n=r.hot._acceptedDependencies[L]){if(H.includes(n))continue;H.push(n)}for(i=0;i<H.length;i++){n=H[i];try{n(M)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:s,dependencyId:M[i],error:e}),t.ignoreErrored||U||(U=e)}}}for(i=0;i<k.length;i++){var V=k[i];s=V.module,c=[s];try{A(s)}catch(e){if("function"==typeof V.errorHandler)try{V.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:s,error:n,originalError:e}),t.ignoreErrored||U||(U=n),U||(U=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:s,error:e}),t.ignoreErrored||U||(U=e)}}return U?(h("fail"),Promise.reject(U)):(h("idle"),new Promise(function(e){e(v)}))}var I={},P={16:0},$=[];function A(t){if(I[t])return I[t].exports;var n=I[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:a!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var i=0;i<e.length;i++)t._acceptedDependencies[e[i]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:S,apply:T,status:function(e){if(!e)return f;u.push(e)},addStatusHandler:function(e){u.push(e)},removeStatusHandler:function(e){var t=u.indexOf(e);t>=0&&u.splice(t,1)},data:l[e]};return a=void 0,t}(t),parents:(d=c,c=[],d),children:[]};return e[t].call(n.exports,n,n.exports,function(e){var t=I[e];if(!t)return A;var n=function(n){return t.hot.active?(I[n]?I[n].parents.includes(e)||I[n].parents.push(e):(c=[e],a=n),t.children.includes(n)||t.children.push(n)):(console.warn("[HMR] unexpected require("+n+") from disposed module "+e),c=[]),A(n)},i=function(e){return{configurable:!0,enumerable:!0,get:function(){return A[e]},set:function(t){A[e]=t}}};for(var r in A)Object.prototype.hasOwnProperty.call(A,r)&&"e"!==r&&Object.defineProperty(n,r,i(r));return n.e=function(e){return"ready"===f&&h("prepare"),y++,A.e(e).then(t,function(e){throw t(),e});function t(){y--,"prepare"===f&&(w[e]||x(e),0===y&&0===v&&E())}},n}(t)),n.l=!0,n.exports}A.m=e,A.c=I,A.d=function(e,t,n){A.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},A.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},A.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return A.d(t,"a",t),t},A.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},A.p="/js/",A.h=function(){return o};var O=window.webpackJsonp=window.webpackJsonp||[],k=O.push.bind(O);O.push=t,O=O.slice();for(var L=0;L<O.length;L++)t(O[L]);var M=k;$.push([641,0]),n()}([function(e,t,n){"use strict";var i=A(n(34)),a=A(n(9)),r=A(n(21)),o=A(n(100)),s=A(n(2)),l=A(n(69)),c=A(n(32)),d=A(n(47)),u=A(n(8)),f=A(n(20)),h=A(n(25)),p=A(n(13)),g=A(n(17)),m=A(n(33)),v=A(n(26)),y=A(n(44)),w=A(n(27)),C=A(n(18)),_=A(n(97)),b=A(n(15)),S=A(n(12)),x=A(n(80)),E=A(n(22)),T=A(n(105)),I=n(104),P=A(n(259));function A(e){return e&&e.__esModule?e:{default:e}}var O=n(234).create(),k=n(10).EventEmitter,L=.8,M={textContr:0,imageContr:0,wrapboxContr:0,iconContr:0,hotspotContr:0,tableContr:0,symbolContr:0,symbol:0},D={startState:null,endState:null,isShow:!1,contr:null,isCompare:!0},N=[],B={},R={contrs:{},symbols:{}},U={},H={};function V(e,t){if("baseImage"==e.type)return K(e,t);if("baseTable"==e.type)return function(e,t){var n=v.default.add({posi:e.posi}),i="baseTable"==e.type?{width:600,height:200,row:4,line:5,rowPosi:[150,150,150],linePosi:[40,40,40]}:e;t&&$.extend(!0,i,t);n&&$.extend(!0,i,n);++M.tableContr;var a=M.tableContr,r={id:window.userKey?1e3*a+window.userKey:a,name:"表格 "+a,type:"table",isLock:!1,isShow:!0,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!0,row:i.row,line:i.line,width:i.width,height:i.height,left:i.left,top:i.top,rowPosi:i.rowPosi,linePosi:i.linePosi,rowMin:[],lineMin:[],tableStyle:"base"};return console.log(r,"newContr"),r}(e,t);var n=v.default.add({posi:e.posi});if(!n)return e.defaultCallback&&e.defaultCallback(),!1;var i=p.default.getMergeBoxShow(),a=i?p.default.getThisContr():null,r=i?p.default.getContrs():B;return-1!=T.default.getTextType().indexOf(e.type)?T.default.createTextContr(e,n,r,a,M):"hotspot"==e.type?T.default.createHotspotContr(e,n,r,a,M):"baseIcon"==e.type?T.default.createIconContr(e,n,r,a,M):void 0}function K(e,t){var n="baseImage"==e.type?{width:150,height:150,ePosi:e.posi,oriWidth:150,oriHeight:150,oriName:e.name,src:window.baseContrImg.imageImg}:e;t&&$.extend(!0,n,t);var i,a=void 0,r=L,o=n.src==window.baseContrImg.imageImg;if(i=$.getTwoDecimal($.getMultiple(r,[n.oriWidth,n.oriHeight])),!n.posi&&n.ePosi){if(!(a=v.default.add({posi:n.ePosi})))return!1}else if(n.posi||n.ePosi)a=$.getContrInBoxPosi(n.posi,[1*n.oriWidth*i,1*n.oriHeight*i]);else{var s=$.getParentBoxPosi().posi,l=s.left,c=s.top,d=s.width,u=s.height,f=$.getMinPosi({mainboxPosi:[l,c,d,u],midPosi:$.getMidPosi()},!0);a=$.getContrInBoxPosi([f[2]/2+f[0],f[3]/2+f[1]],[1*n.oriWidth*i,1*n.oriHeight*i])}++M.imageContr;var h=M.imageContr,p={id:window.userKey?1e3*h+window.userKey:h,name:"图片 "+h,type:"image",oriWidth:n.oriWidth,oriHeight:n.oriHeight,oriName:n.oriName,multiple:i,src:n.src,width:Math.round(1*n.oriWidth*i),height:Math.round(1*n.oriHeight*i),left:Math.round(a.left),top:Math.round(a.top),filter:{},isLock:!1,isShow:!0,shadow:0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,WHrelation:!o,cutVals:null,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!0};return"baseImage"!=n.type&&j(n.fd,p),p}function j(e,t,n){if(e&&!window.noLogin){var i=u.default.getActivePage();r.default.post("/imageUpload").send(e).set("X-API-Key","foobar").set("Accept","application/json").end(function(e,a){var r=a.body;"0"==r.code?(n?n(r.data[0].images.imgBig):ie.contrUpdate($.getContrId(t),{src:r.data[0].images.imgBig},void 0,!0),window.loginInfo.usedImageData=r.imageDataMsg.usedImageData,window.loginInfo.maxImageData=r.imageDataMsg.maxImageData,x.default.addHistoryImage(r.data[0]),u.default.setAutoSaveChangePages(i+"__pageContrs"),ie.emitChange()):"用户未登录"!=r.msg&&S.default.show(r.msg)})}}function F(e,t,n){var i=t||e.type,a=n||e.id;if(e.type){if(M[i+"Contr"]=Math.max(M[i+"Contr"],$.getContrKeyByUserKey(e,a)),"wrapbox"==i)for(var r in e.contrs)F(e.contrs[r])}else M[""+i]=Math.max(M[""+i],$.getContrKeyByUserKey(e,a))}function z(e,t){"symbol"==e.type&&t["symbolKey_"+e.symbolKey]&&(e.symbolKey=t["symbolKey_"+e.symbolKey])}function W(e){var t=e.contrArr,i=e.isImport,a=e._pageId,r=e._fromProject,o=e._isInProject,s=e._copyPageId,l=e._pagesKey,c=[],d=e.changeKeyObj||{},f=p.default.getMergeBoxShow()&&!r,h=C.default.getSymbolMask(),g=!f&&h.isShow,m=f?p.default.getThisContr():null,v=f?p.default.getContrs():g?R.contrs:B,y=a||u.default.getActivePage(),w=i&&!r,_=i&&r,b={},S=!1;if(e.symbol)for(var x in e.symbol.contrs){var E=e.symbol.contrs[x];E.inSymbolObj=!0,t.unshift(E)}if(t.forEach(function(t){var n=void 0,i=$.getContrId(t);if(_&&!v[t.type+"_"+t.id])n=v[t.type+"_"+t.id]=t,M[t.type+"Contr"]=Math.max(M[t.type+"Contr"],$.getContrKeyByUserKey(t));else{++M[t.type+"Contr"];var o=M[t.type+"Contr"],s=window.userKey?1e3*o+window.userKey:o;t.inSymbolObj?n=R.contrs[t.type+"_"+s]=t:(S||(!function(e){for(var t in e)if("symbolKey"==t.split("_")[0]){var n=R.symbols[e[t]];n.hierarchy=n.hierarchy.map(function(t){return e[t]||t})}}(d),S=!0),n=v[t.type+"_"+s]=t),e.symbol&&z(n,d),window.userKey&&(n.userKey=window.userKey),$.changeContrName(n,t,M,o),n.id=s,$.addUserKeyToContr(n)}g||t.inSymbolObj||(n.interfaceId=y);var l=$.getContrId(n);(n.mergeName=g?null:f?$.getContrId(m):null,function e(t,n,i,a,r,o,s,l){var c=a||{};c[n]=$.getContrId(t);if("wrapbox"==t.type){var d=r,u={},f=[];t.hierarchy.forEach(function(n){var h=t.contrs[n];if(!h)return!1;r&&c[$.getContrId(h)]&&(d=!1);var p=$.getContrId(h),g=void 0,m=void 0;d?(g=parseInt(h.id),m=g,M[h.type+"Contr"]=Math.max(M[h.type+"Contr"],$.getContrKeyByUserKey(h))):(++M[h.type+"Contr"],m=M[h.type+"Contr"],g=window.userKey?1e3*m+window.userKey:m),r&&!d&&o&&(o[p]=h.type+"_"+g),c[p]=h.type+"_"+g;var v=u[h.type+"_"+g]=h;v.id=g,l||(v.interfaceId=i),s&&z(v,a),r||$.addUserKeyToContr(v),$.changeContrName(v,h,M,m),v.mergeName=$.getContrId(t),f.push(h.type+"_"+g),e(h,p,i,c,r,o,s,l)}),t.contrs=u,t.hierarchy=f}}(n,i,y,d,_,b,e.symbol,t.inSymbolObj),a||r||t.inSymbolObj||c.push(l),t.inSymbolObj)?delete t.inSymbolObj:g?ie.getThisSymbolHierarchy().unshift(l):f?(p.default.hierarchyAddContr(l),$.isUsedState(n)&&-1!=n.state.endState&&ie.selectState(n.state.endState,n,n.state.startState)):u.default.pageAddContr(n.interfaceId,l)}),!_||0!==$.objLength(b)){if(t.forEach(function(e){i||n(28).correctPasteContrEvents(e,{type:"pasteContr",isInProject:o,pasteContrsKey:_?b:d})}),l)n(28).deletePageActions({type:"pastePage",pageContrs:t,pageEvents:u.default.getPageByKey(a).events||{},pagesKey:l});if(w){var T=a||u.default.getActivePage();$.isUndefined(u.default.getPageByKey(T))&&console.log("error4",a,u.default.getActivePage()),G(u.default.getPageByKey(T),_?b:d,{importPage:w,pageId:a,copyPageId:s,pagesKey:l})}t.forEach(function(e){G(e,_?b:d,{importPage:w,pageId:a,copyPageId:s,pagesKey:l})})}return a||r||Y(c),{newNamesKeyObj:d}}function G(e,t,n){if(e&&($.changeEventsContrName(e,t,n),$.changeTransitionContrName(e,t),e.states))for(var i in e.states){var a=e.states[i],r={};for(var o in a.contrs)t[o]&&($.changeEventsContrName(a.contrs[o],t,n),r[t[o]]=a.contrs[o]);a.contrs=r,$.changeTransitionContrName(a,t)}if(e&&"wrapbox"==e.type)e.hierarchy.forEach(function(i){G(e.contrs[i],t,n)});else if(e&&"symbol"==e.type&&e.children){var s={};for(var l in e.children)s[t[l]||l]=e.children[l];e.children=s}}function X(e,t,i){ie.initAllContrs();var a=t||[],r=[],o=e||ie.getFirstSelectContr(),s=o.mergeName,l=p.default.getMergeBoxShow(),c=C.default.getSymbolMask().isShow,d=l?p.default.getContrs():c?R.contrs:B,f=$.getContrId(o),h=$.hasStates(o);if(o.hierarchy.forEach(function(e){var t=void 0,n=o.contrs[e];if(d[n.type+"_"+n.id]){++M[n.type+"Contr"];var i=M[n.type+"Contr"],l=window.userKey?1e3*i+window.userKey:i;t=d[n.type+"_"+l]=n,c||(t.interfaceId=u.default.getActivePage()),t.id=l,$.addUserKeyToContr(t),t.name=t.name.split(" ")[0]+" "+i}else t=d[n.type+"_"+n.id]=n;t.left+=+o.left,t.top+=+o.top,c?delete t.mergeName:t.mergeName=s;var f=$.getContrId(t);if(t.states)for(var h in t.states)$.isUndefined(t.states[h].contrs[f])?console.log("warning，不应该出现没有这个子级数据的情况，需要排查"):($.isUndefined(t.states[h].contrs[f].left)||(t.states[h].contrs[f].left+=+o.left),$.isUndefined(t.states[h].contrs[f].top)||(t.states[h].contrs[f].top+=+o.top));t.isShow&&a.push(f),r.push(f)}),l)p.default.insertContr(f,r);else if(c){var g=ie.getThisSymbolHierarchy(),m=[g.indexOf(f),1].concat(r);Array.prototype.splice.apply(g,m)}else u.default.pageInsertContr(f,r);(i||Y(a),s&&"null"!=o.mergeName&&!$.query(".info-box.state-info"))&&(ie.getContrAllParent(o)||[]).forEach(function(e){!function(e,t){if(e.states)for(var n in e.states)e.states[n].contrs[t]&&delete e.states[n].contrs[t]}(ie.getContrByAll(e),f)});(delete d[f],h)&&n(28).deleteRelativedActions({type:"deleteContr",targetId:f})}function Y(e,t,n){var i=void 0,a=p.default.getMergeBoxShow()?p.default.getContrs():B;if(N.forEach(function(t){i=a[t]?a[t]:ie.getContrByAll(t),-1==e.indexOf(t)&&i&&(i.isEdit&&(i.isEdit=!1),i.isOpen&&-1==p.default.getContrListKey().indexOf($.getContrId(i))&&(i.isOpen=!1),i.isOpt=!1)}),e.forEach(function(e){(i=a[e]?a[e]:ie.getContrByAll(e))&&(i.isOpt=!0)}),p.default.getIsWrapEdit()){var r=e[0]&&C.default.getSymbolMaskShow()&&C.default.getIsEditSymbolChild(e[0]);1!==e.length||a[e[0]]||B[e[0]]||r?(1===e.length&&"spotDrag"!=window.mouseDownTarget.name&&!a[e[0]]||0===e.length)&&p.default.wrapBoxEditOut():p.default.wrapBoxEdit(ie.getContrByAll(e[0]))}N=e,window.copySelectChange=!0,ie.initCache(),n||q(e,t)}function q(e,t){var n=void 0,i=[];if(!w.default.hasEditNote()||4==e.length&&"note"==e[3][0]&&e[3][1]||w.default.editBlur(),1==e.length){if("text"==e[0].split("_")[0]){var a=(n=ie.getFirstSelectContr()).isBaseShape?"形状框体":"文字框体";"inputText"==n.baseContrType&&(a="输入框体"),i=N&&!$.isTextLine(N[0])?n.isEdit?[["box",!1,a],["text",!0]]:[["box",!t,a],["text"]]:[["box",!t,"线条框体"]]}else"hotspot"==e[0].split("_")[0]?(n=ie.getFirstSelectContr(),i=[["box",!t,"热区框体"]]):"icon"==e[0].split("_")[0]?i=(n=ie.getFirstSelectContr()).isEdit?[["box",!1,"图标框体"],["icon",!t]]:[["box",!t,"图标框体"],["icon"]]:"table"==e[0].split("_")[0]?i=(n=ie.getFirstSelectContr()).isEdit?[["box",!1,"表格框体"],["table",!t]]:[["box",!t,"表格框体"],["table"]]:"image"==e[0].split("_")[0]?(n=ie.getFirstSelectContr(),i=$.isDefaultImg(n.src)?[["box",!0,"图片框体"]]:m.default.getCutImageShow()?[["box",!1,"图片框体"],["cutImage",!0]]:[["box",!t,"图片框体"],["cutImage"]]):"wrapbox"==e[0].split("_")[0]?i=(n=ie.getFirstSelectContr()).isOpen?[["box",!1,"集合框体"],["wrapBox",!0]]:[["box",!t,"集合框体"],["wrapBox"]]:"symbol"==e[0].split("_")[0]&&(i=C.default.getSymbolMaskShow()&&C.default.getSymbolContrKey()==e[0]?[["box",!1,"引用框体"],["symbol",!0]]:[["box",!t,"引用框体"],["symbol"]]);"symbol"!=e[0].split("_")[0]&&i.push(["event","event"==t]),i.push(["struct"])}else if(0===e.length)i=C.default.getSymbolMaskShow()?[["box",!1,"引用框体"],["symbol",!0],["struct"]]:p.default.getIsWrapEdit()&&!p.default.getMergeBoxIn()?[["box",!1,"集合框体"],["wrapBox",!0],["event"],["struct"]]:[["struct",!t],["pageSet"],["event","event"==t,"页面事件"],["versionManage"],["note"]];else{var r=void 0,o=void 0;e.forEach(function(e,t){var n=e.split("_")[0];if(0===t)switch(n){case"text":r=!0;break;case"icon":o=!0}else switch(n){case"text":o=!1;break;case"icon":r=!1}}),i=[["mutibox",!0]],r?i.push(["textEditAll"]):o&&i.push(["iconEditAll"]),i.push(["struct"])}c.default.change(i)}function Z(e){var t=[];for(var n in B)B[n].interfaceId==e&&t.push(B[n]);return t}function Q(e,t){for(var n in e){var i=e[n];"wrapbox"==(i=ie.getAllValsContr({contrKey:i,changeThisContr:!0})).type&&Q(i.contrs,t);var a=$.getOtherSizeChangeObj(i,t);"symbol"==i.type&&(a.scale=i.scale*a.width/i.width,delete a.width,delete a.height),ie.contrUpdate(n,a,!1,!0)}}function J(e,t,n){ie.contrUpdate($.getContrId(e),{cutVals:{left:t.left*n,top:t.top*n,width:t.width*n,height:t.height*n,boxLeft:t.boxLeft*n,boxTop:t.boxTop*n,boxWidth:t.boxWidth*n,boxHeight:t.boxHeight*n}},!1,!0)}function ee(e){var t=p.default.getContrList(),n=t[t.length-1],i=1==t.length?B:t[t.length-2].contrs;e&&(i[n.type+"_"+n.id]=n),1==t.length?p.default.cancelMergeBoxShow():(p.default.setThisContr(t[t.length-2]),t.pop()),N=[],Y([n.type+"_"+n.id])}function te(e,t){var n=t||ie.getFirstSelectContr();return n=ie.getAllValsContr({contrKey:n}),ie.contrUpdate($.getContrId(n),{multiple:$.getTwoDecimal($.getMultiple(L,[e.width,e.height])),src:e.src,oriName:e.name,oriWidth:e.width,oriHeight:e.height,cutVals:$.getCutValsChangeObj(e,n)},void 0,!0),n}function ne(){var e=p.default.getMergeBoxShow(),t=e?p.default.getThisContr():null,n=e?$.isInState(t,!0):null,i=void 0,a=void 0;t&&$.isEditState(t)?(i=t,a=ie.getContrState(i).endState):t&&n&&(i=n,a=ie.getContrState(i).endState),i&&ie.getSelect().forEach(function(e){var n=ie.getContrByAll($.getContrId(i)).states[a].contrs,r=t.contrs[e];r.isDelete=!0,n[e]?n[e].isDelete=!1:n[e]={isDelete:!1},r.state&&(n[e].state=$.extend({},r.state))})}$.changeWrapChildPosi=Q;var ie=(0,a.default)({},k.prototype,{getInterface:function(e){return Z(e)},getActivePageByHierarchy:function(e){return ie.getPageByHierarchy(u.default.getActivePage(),e)},getPageByHierarchy:function(e,t){var n=[];return u.default.getPageHierarchy(e).forEach(function(e){n.push(t?$.extend(!0,{},B[e]):B[e])}),n.reverse(),n},deletePageContrByHierarchy:function(e){u.default.getPageHierarchy(e).forEach(function(e){B[e]&&delete B[e]})},getActiveInterface:function(){return Z(u.default.getActivePage())},changeImageCut:function(e,t,n){J(e,t,n)},setSelectContr:function(e){N=e},addSymbolContr:function(e){var t=$.getContrId(e),n=ie.getThisOneSymbol().hierarchy;R.contrs[t]=e,-1==n.indexOf(n)&&n.unshift(t)},setSymbolContr:function(e){var t=[],n=[];if(e.contrs)for(var i in e.contrs)t.push(e.contrs[i]);if(E.default.addInitVal(t),e.symbols)for(var a in e.symbols)n.push(e.symbols[a]);if(E.default.addInitVal(n),e.contrs)for(var r in e.contrs)F(e.contrs[r]);if(e.symbols)for(var o in e.symbols)F(e.symbols[o],"symbol",o);R=e},getSymbolContr:function(){return R},getSymbolContrsChange:function(){var e=u.default.getSymbolSaveData(),t=$.extend(!0,{},ie.getSymbolContr()),n=[],i=[];for(var a in t.contrs)n.push(t.contrs[a]);for(var r in E.default.removeInitVal(n),t.symbols)i.push(t.symbols[r]);return E.default.removeInitVal(i),O.diff(e,t)},setSaveDateSymbolContr:function(e,t){var n=$.extend(!0,{},ie.getSymbolContr()),i=[];for(var a in n.contrs)i.push(n.contrs[a]);E.default.removeInitVal(i);var r=[];for(var o in n.symbols)r.push(n.symbols[o]);E.default.removeInitVal(r);try{n=O[t?"unpatch":"patch"](n,e)}catch(e){log(e)}for(var s in n||(n={contrs:{},symbols:{}}),i=[],n.contrs)i.push(n.contrs[s]);for(var l in E.default.addInitVal(i),r=[],n.symbols)r.push(n.symbols[l]);E.default.addInitVal(r),R=n},getThisOneSymbol:function(){return R.symbols[C.default.getSymbolMaskContr().symbolKey]},getSymbolPosi:function(e){var t=R.symbols[e];return{width:t.width,height:t.height}},getCopyContrBySymbolHierarchy:function(e){var t=$.extend(!0,{},e);if(["id","interfaceId","name","symbolKey","mergeName","events","states","isEdit","lastContent","isStructOpen","thisSelf","hoverState","copyKey","transition","isOpen","isOpt","cutVals","width","height","dependType","isDepend"].forEach(function(e){$.isUndefined(t[e])||delete t[e]}),"wrapbox"==t.type)t.hierarchy=t.hierarchy.map(function(e){return ie.getCopyContrBySymbolHierarchy(t.contrs[e])}),$.isUndefined(t.contrs)||delete t.contrs;else if("symbol"==t.type){var n=[];for(var i in t.children)n.push(t.children[i]);t.children=n}return t},importSymbol:function(e,t,n,i,a){var r=!1,o=!1,s=!1,l=void 0;for(var c in R.symbols)if(!r){var d=R.symbols[c];if(d.uniqueKey==e.uniqueKey){o=!0;var u=d.hierarchy.map(function(e){return ie.getCopyContrBySymbolHierarchy(R.contrs[e])}),f=e.hierarchy.map(function(e){return ie.getCopyContrBySymbolHierarchy(n.contrs[e])}),h=O.diff(u,f);log(h,"changePatch"),h&&!$.changePatchRemoveDeviation(h)||(r=!0,e.hierarchy.some(function(e){return!!$.isChangeSymbolChild(e,i,n.contrs[e])&&(s=!0,!0)})),s||($.changeAllSymbolKey(e.hierarchy,d.hierarchy,n.contrs,R.contrs,i),l=$.extend(!0,[],d.hierarchy),i["_symbolKey_"+t]=+c);break}}if(!o||o&&!r||s){var p=P.default.createSymbolFromImport(e,M,R,!o);i["symbolKey_"+t]=+p,a.push(p)}else e.hierarchy.forEach(function(e){delete n.contrs[e]}),e.hierarchy=l},getSymbolByCopy:function(e,t){var n={contrs:{},symbols:{}};if(e.forEach(function(e){n.symbols[e]||(n.symbols[e]=$.extend(!0,{},R.symbols[e]),ie.addSymbolInCopyObj(n.symbols[e],n))}),t){for(var i in n.contrs)E.default.removeInitVal(n.contrs[i]);for(var a in n.symbols)E.default.removeInitVal(n.symbols[a])}return n},addSymbolInCopyObj:function(e,t){e.hierarchy&&e.hierarchy.forEach(function(e){t.contrs[e]||(t.contrs[e]=$.extend(!0,{},R.contrs[e]),ie.getChildSymbolInContr(t.contrs[e],t))})},getChildSymbolInContr:function(e,t){if("symbol"!=e.type||t.symbols[e.symbolKey]){if("wrapbox"==e.type){var n=$.getContrId(e);!t.contrs[n]&&R.contrs[n]&&(t.contrs[n]=$.extend(!0,{},R.contrs[n])),e.hierarchy.forEach(function(n){ie.getChildSymbolInContr(e.contrs[n],t)})}}else t.symbols[e.symbolKey]=$.extend(!0,{},R.symbols[e.symbolKey]),ie.addSymbolInCopyObj(t.symbols[e.symbolKey],t)},getSymbolList:function(){},getSymbolChildContr:function(e,t){if(t&&R.symbols[e]){var n=[];return R.symbols[e].hierarchy.forEach(function(e){n.push(R.contrs[e])}),n}var i={};return R.symbols[e]&&R.symbols[e].hierarchy.forEach(function(e){i[e]=R.contrs[e]}),i},getThisSymbolChildContr:function(e){return ie.getSymbolChildContr(C.default.getSymbolMaskContr().symbolKey,e)},getThisSymbolHierarchy:function(){return ie.getThisOneSymbol().hierarchy},hasEditSymbol:function(e){if(!window.renderSymbol)return!1;if("symbol"==e.type){if(e.symbolKey==window.renderSymbol)return!0;for(var t=ie.getSymbolChildContr(e.symbolKey,!0),n=0;n<t.length;n++){if(ie.hasEditSymbol(t[n]))return!0}}else if("wrapbox"==e.type)for(var i in e.contrs){if(ie.hasEditSymbol(e.contrs[i]))return!0}},contrToSymbol:function(e,t){var n=[],i=e.length>1,a=[],r=void 0;e.forEach(function(e){var o=ie.getContrByAll(e),s=$.extend(!0,{},o),l=ie.getAllValsContr({contrKey:e});if(n.push(s),ie.deleteContr(void 0,[e]),i)a.push(l);else{if("0"!=(r=l).rotate){var c=$.getRotateBoxPosi(!1,l);r.width=c.width,r.height=c.height,r.top=c.top,r.left=c.left}r.name=t,P.default.contrToSymbolClearVal(s,l)}}),++M.symbolContr;var o=window.userKey?1e3*M.symbolContr+window.userKey:M.symbolContr;if(i){var s=$.getSeveralElPosition(a,void 0,!0);r={name:t,left:s.left,top:s.top,width:s.width,height:s.height},n.forEach(function(e){P.default.contrToSymbolClearVal(e,s)})}var l=P.default.createSymbol({Nums:M,contrArr:n,symbolContrs:R,widthHeight:[r.width,r.height],name:t}),c=P.default.createSymbolContr({symbolKey:l,contr:r,contrKey:o});c&&ie.createContr(c),ie.initCache()},deleteSymbol:function(e){var t=R.symbols[e]&&R.symbols[e].hierarchy;t&&t.forEach(function(e){R.contrs[e]&&delete R.contrs[e]}),ie.deleteAllSymbolKey(e),R.symbols[e]&&delete R.symbols[e]},deleteAllSymbolKey:function(e){for(var t in R.contrs)R.contrs[t].symbolKey==e?(delete R.contrs[t],ie.deleteSymbolKeyInSymbols(t)):"wrapbox"==R.contrs[t].type&&ie.deleteSymbolKeyInWrapbox(e,R.contrs[t].contrs,R.contrs[t])},deleteSymbolKeyInSymbols:function(e){for(var t in R.symbols)-1!=R.symbols[t].hierarchy.indexOf(e)&&R.symbols[t].hierarchy.remove(e)},deleteSymbolKeyInWrapbox:function(e,t,n){for(var i in t)"symbol"==t[i].type&&t[i].symbolKey==e?(delete t[i],n.hierarchy.remove(i)):"wrapbox"==t[i].type&&ie.deleteSymbolKeyInWrapbox(e,t[i].contrs,t[i])},changeSymbolChild:function(e,t,n,i,a){var r=t||_.default.getChildKey(),o=n?ie.getContrByAll(n):ie.getFirstSelectContr();o.children?log("thisSymbolContr.children, undefined"):o.children={},o.children[r]||(o.children[r]={}),$.extend(!0,o.children[r],e),ie.initCache(),i||(ie.emitChange(),a||g.default.createData({type:"changeSymbolChild",name:"["+o.name+"] 修改子集属性",handleObjType:"symbol",autoSaveType:"pageContrs"}))},removeSymbolChildVal:function(e,t,n,i){var a=t||_.default.getChildKey(),r=n?ie.getContrByAll(n):ie.getFirstSelectContr();r.children[a]&&!$.isUndefined(r.children[a][e])&&delete r.children[a][e],ie.initCache(),i||(ie.emitChange(),g.default.createData({type:"removeSymbolChildVal",name:"["+r.name+"] 去掉子集属性",handleObjType:"symbol",autoSaveType:"pageContrs"}))},symbolToContr:function(e,t){var n=void 0;e.forEach(function(e){var t=ie.getContrByAll(e);if(!t)return!1;n||(n=t);var i=$.extend(!0,[],ie.getSymbolChildContr(t.symbolKey,!0)).reverse(),a=t.scale,r=[];i.forEach(function(e){var n=$.getContrId(e);if("symbol"==e.type&&r.push(e),$.otherSizeChangeContr(e,a/10,!0),e.left+=t.left,e.top+=t.top,e.states)for(var i in e.states)$.isUndefined(e.states[i].contrs[n])||($.isUndefined(e.states[i].contrs[n].left)||(e.states[i].contrs[n].left+=t.left),$.isUndefined(e.states[i].contrs[n].top)||(e.states[i].contrs[n].top+=t.top))});var o={};r.forEach(function(e){ie.getAllSymbolChildContrKey(e.symbolKey,o,$.getContrId(e))});var s=W({contrArr:i,_isInProject:!0}).newNamesKeyObj;for(var l in console.log(o,"thisSymbolChild"),console.log(s,"newNamesKeyObj"),t.children)if(o[l]){var c=s[o[l]]||o[l],d=ie.getContrByAll(c);d.children[l]?$.extend(!0,d.children[l],t.children[l]):d.children[l]=t.children[l]}else ie.contrUpdate(s[l]||l,t.children[l],void 0,!0)}),ie.deleteContr(void 0,e),t||(u.default.setAutoSaveChangePages("changeSymbol",void 0,!0),ie.emitChange(),g.default.createData({type:"symbolToContr",name:"["+(e.length>1?"多个组件":n.name)+"] 取消引用",handleObjType:n.type,autoSaveType:"pageContrs"}),ie.initCache())},getAllSymbolChildContrKey:function(e,t,n){var i=R.symbols[e];i&&i.hierarchy&&i.hierarchy.forEach(function(i){var a=R.contrs[i];"symbol"==a.type?ie.getAllSymbolChildContrKey(a.symbolKey,t,n):"wrapbox"==a.type?ie.getAllChildByWarpbox(a,e,t,n):t[$.getContrId(a)]=n})},getAllChildByWarpbox:function(e,t,n,i){for(var a in e.contrs){var r=e.contrs[a];"symbol"==r.type?ie.getAllSymbolChildContrKey(r.symbolKey,n,i):"wrapbox"==r.type?ie.getAllChildByWarpbox(r,t,n,i):n[$.getContrId(r)]=i}},getOneSymbolByLib:function(e){var t=$.extend(!0,{key:parseInt(e),id:parseInt(e),type:"symbolLib",bgColor:"rgba(255, 255, 255, 1)",isLock:!1,isShow:!0,isOpt:!0,scale:10,rotate:0,opacity:100,children:{}},R.symbols[e]);return t.contrs={},t.hierarchy.forEach(function(e){t.contrs[e]=R.contrs[e]}),t},selectAllContr:function(e){var t=p.default.getMergeBoxShow()?p.default.getContrsArr():C.default.getSymbolMaskShow()?ie.getThisSymbolChildContr(!0):ie.getActiveInterface(),n=[];t.forEach(function(t){t.isLock&&!e||(t=ie.getAllValsContr({contrKey:t})).isShow&&n.push(t.type+"_"+t.id)}),Y(n)},contrUpdateByAll:function(e,t,n,i){for(var a in i=i||B){var r=i[a];if(e==a)return $.extend(i[e],t),!1;"wrapbox"==r.type&&ie.contrUpdateByAll(e,t,n,r.contrs)}},getHierarchyContr:function(e,t){var n=[],i=t||B;return e.forEach(function(e){n.push(i[e])}),n},getNowHierarchy:function(){return p.default.getMergeBoxShow()?p.default.getThisContr().hierarchy:C.default.getSymbolMaskShow()?ie.getThisSymbolHierarchy():u.default.getActivePage(!0).hierarchy},getAllValsChildContr:function(e){if("wrapbox"==e.type&&e.contrs)for(var t in e.contrs)e.contrs[t]=$.extend(!0,{},ie.getAllValsContr({contrKey:$.getContrId(e.contrs[t])})),ie.getAllValsChildContr(e.contrs[t])},getSelectContrByHierarchy:function(e,t){var n=ie.getSelectContr(t),i=ie.getNowHierarchy().concat().reverse(),a=[],r=[];return n.length>0&&((n=n.map(function(t){var n=$.extend(!0,{},t);return e||!n.mergeName||n.states&&$.objLength(n.states)>0||ie.getAllValsChildContr(n),n})).forEach(function(e){a.push($.getContrId(e))}),i.forEach(function(t){var i=a.indexOf(t);-1!=i&&r.push(e?ie.getContrValsAllChilds($.extend(!0,{},n[i]),!0):n[i])})),r},symbolPosiChange:function(e,t){var n=C.default.getSymbolMaskContr(),i=$.getContrId(n),a=R.symbols[n.symbolKey];$.isUndefined(e.width)||(a.width=e.width),$.isUndefined(e.height)||(a.height=e.height),t||(H[i+"-end"]&&delete H[i+"-end"],ie.emitChange())},contrUpdate:function(e,t,n,i,a){var r=p.default.getMergeBoxShow()?p.default.getContrs():B,o=r[e]&&!C.default.getSymbolMaskShow()?r[e]:ie.getContrByAll(e),s=$.isInState(o),l=void 0;if(!o)return!1;if(n||!s)t.events&&$.handleEventsData(o,t.events),$.extend(!a,o,t);else if(s){var c=ie.getContrState(o);if($.isEditState(o,c))l=ie.getThisStateContr(o,e,c),$.deleteCancel(l,t),t.events&&$.handleEventsData(l,t.events),$.extend(!a,l,t);else{var d=ie.getAllValsContr({contrKey:$.getContrId(s)}),u=s.states[d.state.endState].contrs;u[e]||(u[e]={}),t.events&&$.handleEventsData(u[e],t.events),$.extend(!a,u[e],t)}}H[e+"-end"]&&(H[e+"-start"]&&delete H[e+"-start"],$.extend(!0,H[e+"-end"],t)),i||(p.default.getMergeBoxIn()&&p.default.emitChange(),ie.emitChange())},filterChange:function(e,t,n){1===N.length?ie.contrUpdate(e,{filter:t},!1,!0):N.forEach(function(e){ie.contrUpdate(e,{filter:t},!1,!0)}),m.default.getCutImageShow()&&!n&&m.default.emitChange()},selectChange:function(e,t,n,i){Y(e,t,i),n||(p.default.getMergeBoxIn()&&p.default.emitChange(),ie.emitChange())},backMergeBox:function(){ee(),ie.emitChange(),p.default.emitChange()},getContr:function(e){var t=p.default.getMergeBoxShow()?p.default.getContrs():B;return(t[e]?t[e]:ie.getContrByAll(e))||{}},getContrByAll:function(e,t,n,i,a){var r=e&&-1!=e.indexOf("symbol_");if(!a&&U[e])return U[e];if(R.contrs[e])return R.contrs[e];if(i=i||u.default.getActivePage(),(t=t||B)[e]&&(r||n||$.isNull(i)||t[e].interfaceId==i))return a||(U[e]=t[e]),t[e];for(var o in t){var s=t[o];if(!s||a||U[o]||(U[o]=s),"wrapbox"==s.type&&(r||n||$.isNull(i)||s.interfaceId==i)){var l=ie.getContrByAll(e,s.contrs,n,i);if(l)return a||(U[e]=l),l}else if("symbol"==s.type&&(r||n||$.isNull(i)||s.interfaceId==i)){var c=ie.getSymbolChildContr(s.symbolKey),d=ie.getContrByAll(e,c,!0,i);if(d)return a||(U[e]=d),d}}},getContrName:function(e){var t=ie.getContrByAll(e);return t?t.name:"null"},getSelect:function(e){return e?N:N.concat()},resetSelect:function(){var e=!1;N=N.filter(function(t){var n=ie.getContrByAll(t);return e||n||(e=!0),n}),e&&q(N)},getSelectContr:function(e){var t=[];return(e||ie.getSelect()).forEach(function(e){t.push(ie.getContr(e))}),t},getFirstSelectContr:function(e,t){var n=ie.getContr(N[0]);return e&&(n=ie.getStateToContr(n,t)),n},getStateToContr:function(e,t){var n=ie.getContrState(e,t);return $.isEditState(e,n,t)?$.getStateEndContr(e,t):$.getInStateContr($.extend(!0,{},e),t)},getStateInParent:function(e,t,n){var i=t||$.isInState(e,!0),a=$.getContrId(e),r=e.state,o=void 0,s=void 0;return i&&-1!=(o=$.getThisStateIndex(i,n))&&i.states[o]&&(i.states[o].contrs[a]||(i.states[o].contrs[a]={}),(s=i.states[o].contrs[a]).state||(s.state={}),r=s.state),r},getContrState:function(e,t){return ie.getAllValsContr({contrKey:e,getLastState:!0,type:t?"start":"end"})},getSymbol:function(e,t){try{var n=R.symbols[e];if(t||!n)return n;var i=n.hierarchy||[],a={};return i.forEach(function(e){a[e]=R.contrs[e]}),{contrs:a,hierarchy:i,width:n.width,height:n.height}}catch(e){log(e)}},getSymbolContrVals:function(e){var t=$.isObject(e)?$.getContrId(e):e,n=ie.getContrByAll(t,void 0,void 0,void 0,!0);if(n){var i=$.extend(!0,{},n);return $.extend(!0,i,ie.getSymbol(n.symbolKey)),i}return e},getAllValsContr:function(e){if($.isEmptyObj(e.contrKey)||$.isObject(e.contrKey)&&$.isUndefined(e.contrKey.isOpt))return e.contrKey;var t={contrKey:void 0,notCopy:void 0,type:"end",contrastContr:void 0,hoverContr:void 0,breakContrKey:void 0,thisContrs:void 0,stateIndex:void 0,changeThisContr:!1,parentSaveContrVals:void 0,parentSaveContrId:void 0,getLastState:!1,symbolChild:void 0},n=void 0,i=void 0,a=void 0,r=void 0,o=void 0,s=void 0,l=e.hoverContr,c=e.contrastContr,d=!1,u=!1,f=!1,h=!1,p={};if(d=(t=$.extend(t,e)).parentSaveContrVals||t.notCache||t.changeThisContr&&t.contrKey.id,t.notCopy&&(t.changeThisContr=!0),t.changeThisContr&&t.contrKey.isDragContr){var g=v.default.getDragContr();g.contr&&g.contr.contrs&&(t.thisContrs={},t.thisContrs[$.getContrId(g.contr)]=g.contr)}if("start"==t.type?c=t.contrastContr||ie.getContrastContr():"hover"==t.type&&(l=t.hoverContr||ie.getFirstSelectContr()),t.contrKey.id){var m=$.isUndefined(t.contrKey.interfaceId)?R.contrs:void 0;n=$.getContrId(t.contrKey),a=i="symbol"==t.contrKey.type?ie.getSymbolContrVals(n):t.changeThisContr?t.contrKey:ie.getContrByAll(n,t.thisContrs||m,void 0,t.contrKey.interfaceId,d)||t.contrKey}else n=t.contrKey,a=i="symbol"==n.split("_")[0]?ie.getSymbolContrVals(n):ie.getContrByAll(n,t.thisContrs,void 0,void 0,d);if(i&&!$.isUndefined(t.symbolChild)&&(d=!0),!d){if(t.getLastState&&"hover"!=t.type&&H[n+"-"+t.type+"State"])return H[n+"-"+t.type+"State"];if(!t.getLastState&&"hover"!=t.type&&H[n+"-"+t.type])return H[n+"-"+t.type];if("hover"==t.type&&i.hoverState&&i.hoverState.isEndHover&&H[n+"-"+t.type+i.hoverState.hoverEndIndex])return H[n+"-"+t.type+i.hoverState.hoverEndIndex]}r=t.notCopy?i:$.extend(!0,{},i);var y=ie.getContrAllParent(i,!0,!1,t.thisContrs)||[];if(y&&y.every(function(e){var a=$.getContrId(e);if(t.breakContrKey&&t.breakContrKey==a)return!1;if($.hasStates(e)){var s=p[a],d=void 0,g=void 0;if(t.symbolChild&&t.symbolChild[a]&&!$.isUndefined(t.symbolChild[a].endState)&&(g=+t.symbolChild[a].endState),$.isUndefined(g))if(c&&a==$.getContrId(c))if($.isUndefined(s)){var m=$.isUndefined(t.stateIndex)?$.getStateIndex(e,c,l):t.stateIndex;!$.isUndefined(m)&&e.states[m]&&(f||(f=!0),d=e.states[m])}else d=e.states[$.isUndefined(t.stateIndex)?s.startState:t.stateIndex];else if(l&&a==$.getContrId(l))if($.isUndefined(s)){var v=$.isUndefined(t.stateIndex)?$.getStateIndex(e,c,l):t.stateIndex;!$.isUndefined(v)&&e.states[v]&&(f||(f=!0),d=e.states[v])}else d=e.states[$.isUndefined(t.stateIndex)?s.hoverEndIndex:t.stateIndex];else if($.isUndefined(s)){if(!f){var y=$.getStateIndex(e,c,l);!$.isUndefined(y)&&e.states[y]&&(f=!0,d=e.states[y])}}else d=e.states[s.isEndHover?s.hoverEndIndex:s.endState];else d=e.states[g];if(d){if(d.contrs[n]){if(t.parentSaveContrId)if(h)for(var w in d.contrs[n])$.isUndefined(t.parentSaveContrVals[w])||delete t.parentSaveContrVals[w];else a==t.parentSaveContrId&&(h=!0);t.getLastState?d.contrs[n].state?o=d.contrs[n].state:(d.contrs[n].state={},o=d.contrs[n].state):(u=!0,$.handleEventsData(r,d.contrs[n].events),r=$.extend(!0,r,d.contrs[n]))}for(var C in d.contrs){var _=d.contrs[C];C!=n&&"wrapbox"==C.split("_")[0]&&(l&&C==$.getContrId(l)?p[C]=l.hoverState:p[C]=$.isUsedState(_)?_.state:ie.getContrByAll(C,void 0,void 0,i.interfaceId)?ie.getContrByAll(C,void 0,void 0,i.interfaceId).state:{})}}}return!0}),t.symbolChild&&t.symbolChild[n]&&!$.isUndefined(t.symbolChild[n].endState)&&(s=+t.symbolChild[n].endState),$.isUndefined(s)){if(!t.getLastState&&n!=t.breakContrKey&&$.hasStates(a))if(t.parentSaveContrId&&t.parentSaveContrId!=n){var w=$.getStateIndex(a,c,l);if(a.states[w])for(var C in a.states[w].contrs[n])$.isUndefined(t.parentSaveContrVals[C])||delete t.parentSaveContrVals[C]}else{var _=t.stateIndex||$.getStateIndex(r,c,l);if(!$.isUndefined(_)&&a.states[_]&&a.states[_].contrs[n]){var b=$.extend(!0,{},r.state);u=!0,$.handleEventsData(r,a.states[_].contrs[n].events),(r=$.extend(!0,r,a.states[_].contrs[n])).state=b}}}else{var S=s;if(!$.isUndefined(S)&&a.states[S]&&a.states[S].contrs[n]){var x=$.extend(!0,{},r.state);u=!0,$.handleEventsData(r,a.states[S].contrs[n].events),(r=$.extend(!0,r,a.states[S].contrs[n])).state=x}}if(t.getLastState){var E=o||i.state;return d||(H[n+"-"+t.type+"State"]=E),E}return d||("hover"!=t.type?H[n+"-"+t.type]=r:"hover"==t.type&&i.hoverState&&i.hoverState.isEndHover&&(H[n+"-"+t.type+i.hoverState.hoverEndIndex]=r)),u&&(r.getAllvals=!0),u?r:i},getContrValsAllChilds:function(e,t,n){var i=$.getContrId(e),a=ie.getAllValsContr({contrKey:e,breakContrKey:t?i:void 0,changeThisContr:!0,thisContrs:n});return a.thisSelf&&delete a.thisSelf,a},getContrAllParent:function(e,t,n,i,a){if(i=i||(e&&$.isUndefined(e.interfaceId)?R.contrs:B),e&&i[$.getContrId(e)])return a;for(var r in i){var o=a?[].concat(a):[],s=i[r];if("wrapbox"==s.type&&e&&(s.interfaceId==e.interfaceId||$.isUndefined(s.interfaceId)&&$.isUndefined(e.interfaceId))){n&&!$.hasStates(s)||o.push(t?s:$.getContrId(s));var l=ie.getContrAllParent(e,t,n,s.contrs,o);if(l)return l}}},getContrastContr:function(e){if(1==N.length){e=e||ie.getFirstSelectContr();var t=ie.getAllValsContr({contrKey:e}).state;if(e.isStateContrast&&t&&!$.isUndefined(t.endState))return e;if(e.mergeName){var n=ie.getContrByAll(e.mergeName),i=ie.getContrastContr(n);if(i)return i}}},getStartEndContrs:function(e){return{start:ie.getAllValsContr({contrKey:e,type:"start"}),end:ie.getAllValsContr({contrKey:e})}},changeContr:function(e,t,n,i){var a=e.box&&e.box.length>1,r=e.box&&e.box.length>1?e.boxObj.contrs:B;if(p.default.setIsWrapEdit(e.mergeEdit),a);else{for(var o in r)e.box&&r[o].interfaceId==e.box[0]&&delete r[o];e.contrs.forEach(function(e){var t=r[$.getContrId(e)]=$.extend(!0,{},e);M[t.type+"Contr"]=Math.max(M[t.type+"Contr"],$.getContrKeyByUserKey(t)),p.default.changeMergeContr(r[$.getContrId(e)])}),u.default.setPage(e.box[0],$.extend(!0,{},e.boxObj),t)}n||i?n&&!i&&setTimeout(function(){ie.selectContr(e.selectContr,!0)},0):ie.selectContr(e.selectContr,!0),t||(a?p.default.emitChange():ie.emitMustChange())},importPage:function(e,t,n,i,a,r,o){$.isUndefined(t)&&console.log("errorqewrew ",t);var s=t||u.default.getActivePage();!t&&u.default.getPageHierarchy(s).length>0&&(ie.selectAllContr(!0),ie.deleteSelectContr()),h.default.pageAddGuideAllLine(n,s),i&&w.default.pageAddNote(i,s,!0);var l=e,c=$.getSymbolObjFunc(e);c=$.extend(!0,{},c),E.default.addInitVal(e,t,void 0,void 0,r),W({contrArr:l,isImport:!0,_pageId:t,_copyPageId:a,_pagesKey:o,symbol:c.symbol,changeKeyObj:c.changeKeyObj}),t||Y([])},importPageFormProject:function(e){var t=+e.key;E.default.addInitVal(e.pageContrs,t,void 0,void 0,e.isLandscape),h.default.pageAddGuideAllLine(e.guideLine,t),w.default.pageAddNote(e.note,t),W({contrArr:e.pageContrs,isImport:!0,_pageId:t,_fromProject:!0})},otherChangePage:function(e,t,n,i,a){var r=ie.getSelect();E.default.addInitVal(e,t,void 0,void 0,a),n&&h.default.pageAddGuideAllLine(n,t,!0),i&&w.default.otherChangeNote(i,t,!0),function e(t,n,i){if($.isArray(t))t.forEach(function(t){M[t.type+"Contr"]=Math.max(M[t.type+"Contr"],$.getContrKeyByUserKey(t));var a=t.type+"_"+t.id;"wrapbox"==t.type&&e(t.contrs,n,i),-1!=i.indexOf(a)&&(t.isOpt=!0),t.interfaceId=n,B[a]=t,u.default.pageAddContr(n,a)});else for(var a in t){var r=t[a];M[r.type+"Contr"]=Math.max(M[r.type+"Contr"],$.getContrKeyByUserKey(r));var o=r.type+"_"+r.id;"wrapbox"==r.type&&e(r.contrs,n,i),-1!=i.indexOf(o)&&(r.isOpt=!0),r.interfaceId=n}}(e,t,r),ie.initCache()},deleteContr:function(e,t,i){var a=p.default.getMergeBoxShow(),r=C.default.getSymbolMask(),o=i||(a?p.default.getContrs():r.isShow?R.contrs:B),s=t||N,l=void 0,d=void 0,f=void 0,h=void 0,g=void 0;if((a||i)&&(l=$.query(".wrapBox.openNow:not(.isStartState)"))&&(d=l.getAttribute("data-id"),f=ie.getContrByAll(d),(h=$.isEditState(f))&&(g=$.getThisStateIndex(f))),s.forEach(function(t){var s=$.hasStates(o[t]),l=void 0;if(h&&(l=$.getIsNotOnlyExistInState(f,t,g))&&ie.contrUpdate(t,{isDelete:!0},void 0,!0),!h||h&&!l){if(a||i){var c=o[t]||ie.getContrByAll(t),d=ie.getContrAllParent(c,!0,!0)||[];(f=f||p.default.getThisContr()).hierarchy.remove(t),d.forEach(function(e){e.states&&$.removeStatesThisContrAll(e.states,t,c)})}else if(r.isShow){var m=R.symbols[C.default.getSymbolMaskContr().symbolKey].hierarchy;m&&m.remove(t)}else u.default.pageRemoveContr(o[t].interfaceId,o[t].type+"_"+o[t].id);if(delete U[t],H={},delete o[t],s&&!e)n(28).deleteRelativedActions({type:"deleteContr",targetId:t})}}),!t)if(p.default.getIsWrapEdit()){var m=$.getContrId(p.default.getThisContr());N=[m],q([m]),c.default.change([["box",!1,"集合框体"],["wrapBox",!0],["event"]])}else N=[],q([])},deleteSelectContr:function(e){ie.deleteContr(e)},changeStateName:function(e,t){ie.getFirstSelectContr().states[e].name=t,ie.initCache(),ie.emitChange(),y.default.emitMustChange()},createState:function(e,t){var n=ie.getFirstSelectContr(),i=-1==e?{contrs:{}}:$.extend(!0,{},n.states[e]),a=-1==e&&$.isInState(n,!0),r=$.getContrId(n),o=ie.getContrState(n);i.name=t,n.isOpenState=!0,i.contrs[r]||(i.contrs[r]={rotate:n.rotate}),$.isUndefined(n.stateNum)?(n.states={},n.state={},n.hoverState={},n.stateNum=1,n.isStateContrast=!0,o?(o.endState=0,o.startState=e):o=n.state={endState:0,startState:e}):(n.stateNum++,o.endState=n.stateNum-1,o.startState=e,n.isStateContrast=!0),n.hoverState&&n.hoverState.isEndHover&&(n.hoverState.isEndHover=!1,n.hoverState.hoverEndIndex=-1),"wrapbox"==n.type&&-1==e&&function e(t,n,i){var a=n[$.getContrId(t)]={left:t.left,top:t.top,width:t.width,height:t.height,rotate:t.rotate};t.type;!i&&t.state&&(a.state=$.extend(!0,{},t.state));if("wrapbox"==t.type)for(var r in t.contrs){var o=t.contrs[r];"symbol"==o.type&&(o=$.extend(!0,$.extend(!0,{},o),ie.getSymbolPosi(o.symbolKey))),e(o,n)}}(n,i.contrs,!0),a&&-1==e&&function e(t,n,i){var a=$.getContrId(t);i[a]&&($.extend(!0,n[a],i[a]),n[a].state&&delete n[a].state,n[a].events&&delete n[a].events);if("wrapbox"==t.type)for(var r in t.contrs)e(t.contrs[r],n,i)}(n,i.contrs,a.states[ie.getContrState(a).endState].contrs),n.states[o.endState]=i,ie.initCache(),ie.emitChange()},contrDragToWrap:function(e){var t=p.default.getMergeBoxShow(),n=t?p.default.getThisContr():null,i=t?p.default.getContrs():B,a=$.getContrId(e);i[a]=e,e.mergeName=t?$.getContrId(n):null,t?p.default.hierarchyAddContr(a):u.default.pageAddContr(e.interfaceId,a)},selectState:function(e,t,n){var i=t||ie.getFirstSelectContr(),a=ie.getAllValsContr({contrKey:i}).state,r=ie.getContrState(i);i.isOpenState?-1==e?(i.isOpenState=!1,r.startState=a.endState,r.endState=-1):void 0!==r.endState?(r.startState==e&&(r.startState=n||a.endState),r.endState=e):(r.endState=e,r.startState=n||-1):(i.isOpenState=!0,r.endState=e,r.startState=n||-1),i.hoverState&&i.hoverState.isEndHover&&(i.hoverState.isEndHover=!1,i.hoverState.hoverEndIndex=null),ie.initAllValsContrs(),ie.emitChange()},selectStartState:function(e,t){var n=ie.getFirstSelectContr(),i=ie.getContrState(n);i.startState=e,$.isUndefined(i.endState)&&(i.endState="-1"),n.hoverState.isStartHover=!1,ie.initAllValsContrs(),t||ie.emitChange()},editState:function(e){var t=ie.getFirstSelectContr();D.isShow=!0,D.isHover=!1,D.contr=t,D.startState=e,D.endState=e+1,ie.emitChange()},hoverStartStateIn:function(e){ie.initCache();var t=ie.getFirstSelectContr(),n=ie.getContrState(t);$.isUndefined(t.hoverState)&&(t.hoverState={}),t.hoverState.startOldState=n.startState,t.hoverState.isStartHover=!0,n.startState=e,ie.emitChange()},hoverStartStateOut:function(){ie.initCache();var e=ie.getFirstSelectContr();ie.getContrState(e).startState=e.hoverState.startOldState,e.hoverState.isStartHover=!1,ie.emitChange()},hoverEndStateIn:function(e,t){ie.initCache();var n=t?ie.getContrByAll(t):ie.getFirstSelectContr();n.hoverState&&(n.hoverState.isEndHover=!0,n.hoverState.hoverEndIndex=e),ie.emitMustChange()},hoverEndStateOut:function(e){ie.initCache();var t=e?ie.getContrByAll(e):ie.getFirstSelectContr();t.hoverState&&(t.hoverState.isEndHover=!1,t.hoverState.hoverEndIndex=null),ie.emitMustChange()},changeRightLabel:function(e,t){q(e,t)},deleteState:function(e){var t=ie.getFirstSelectContr(),a=ie.getContrState(t),r=$.getContrId(t),o=a==t.state,s=n(28),l=n(37),c=void 0;a&&a.endState==e?(delete t.states[e],0===(c=(0,i.default)(t.states)).length?a.endState=-1:t.isStateContrast?a.endState=a.startState:a.endState=c[0],t.isStateContrast=!1,a.startState=-1):a&&a.startState==e?(t.isStateContrast=!1,a.startState=-1,delete t.states[e]):delete t.states[e],[t].concat(ie.getContrAllParent(t,!0,!0)||[]).forEach(function(t,n){if(0!=n||o||$.deleteChangeOtherState(t,e,a),t.states)for(var i in t.states)$.deleteChangeOtherState(t.states[i].contrs[r],e,a)}),s.deleteRelativedActions({type:"deleteState",targetId:$.getContrId(t),stateId:e}),l.deleteRelativedTr(t,e),ie.initAllValsContrs(),ie.emitChange()},stateOpen:function(){var e=ie.getFirstSelectContr(),t=$.getContrId(e),n=ie.getContrState(e),a=$.getIsOpenState(e,n),r=(0,i.default)(e.states);a||!n||$.isUndefined(n.endState)?a&&n&&!$.isUndefined(n.endState)?(n.startState=n.endState,n.endState=-1):!a&&n&&$.isUndefined(n.endState)&&(n.endState=r[0],n.startState=-1):(n.endState=n.startState,n.startState=-1),n||e.state||(n=e.state={endState:r[0],startState:"-1"}),ie.contrUpdate(t,{isOpenState:!a},!0)},openStateContrast:function(){var e=ie.getFirstSelectContr(),t=$.getContrId(e),n=ie.getContrState(e),a=(0,i.default)(e.states);n||e.state||(n=e.state={endState:"-1",startState:a[0]}),n&&n.startState==n.endState?"-1"!=n.endState&&e.isOpenState?n.startState="-1":n.startState=a[0]:e.isStateContrast||$.isUndefined(n.startState)||(-1===a.indexOf(n.startState)?(a.splice(a.indexOf(n.endState),1),0===a.length?n.startState="-1":n.startState=a[0]):"-1"!=n.startState||e.isOpenState||(n.startState=a[0])),$.isUndefined(n.endState)&&(n.endState="-1"),ie.contrUpdate(t,{isStateContrast:!e.isStateContrast},!0)},exitState:function(){var e=D.contr;Y([]),D.isShow=!1,D.isHover=!1,D.contr=null,D.startState=null,D.endState=null,Y([$.getContrId(e)]),ie.emitChange()},getState:function(){return D},getThisStateContr:function(e,t,n){var i=n||ie.getContrState(e);return e.states[i.endState].contrs[t]||(e.states[i.endState].contrs[t]={}),e.states[i.endState].contrs[t]},getSpotPosi:function(e,t,n){if(t?(t.left+=e.left,t.top+=e.top,t.rotate+=e.rotate):t={left:-2,top:-2,width:e.width,height:e.height,rotate:0},e.mergeName&&"null"!=e.mergeName){n&&"0"!=e.rotate&&(t.isRotate=!0);var i=ie.getContrByAll(e.mergeName);return i=ie.getAllValsContr({contrKey:i}),this.getSpotPosi(i,t,n)}return t},getParentRotateVals:function(e,t,n){var i={left:e?0:-2,top:e?0:-2,rotate:0},a=void 0;t||(a=o.default.translate(i.left,i.top).rotate(i)),p.default.getIsWrapEdit()&&p.default.getContrList().forEach(function(e){return ie.getSelect()[0]!=$.getContrId(e)&&(e=ie.getAllValsContr({contrKey:e}),i.left+=e.left,i.top+=e.top,i.rotate+=e.rotate,t||(a=n?n(a,e):a.translate(e.left,e.top).rotate($.rotateToAngle(e.rotate))),!0)}),C.default.getSymbolMaskShow()&&C.default.getParentArr().forEach(function(e){i.left+=e.posi.left,i.top+=e.posi.top});var r={left:i.left,top:i.top,rotate:i.rotate};return t||(r.matrix=a),r},createContr:function(e,t){var n=p.default.getMergeBoxShow(),i=n?p.default.getThisContr():null,a=C.default.getSymbolMask();!i&&a.isShow?ie.addSymbolContr(e):((n?p.default.getContrs():B)[$.getContrId(e)]=e,e.interfaceId=u.default.getActivePage(),e.mergeName=i?i.type+"_"+i.id:null);Y([e.type+"_"+e.id]),window.userKey&&$.addUserKeyToContr(e),p.default.getMergeBoxShow()?p.default.hierarchyAddContr(e.type+"_"+e.id):u.default.pageAddContr(e.interfaceId,e.type+"_"+e.id),ne(),ie.initCache(),ie.emitChange(),t||(g.default.createData({type:"createContr",name:"["+e.name+"] 创建",handleObjType:e.type,autoSaveType:"pageContrs",isSymbolChange:"symbol"==e.type}),"symbol"==e.type&&u.default.setAutoSaveChangePages("changeSymbol",void 0,!0))},createBaseContr:function(e,t){return V(e,t)},getContrEvents:function(e){var t=ie.getAllValsContr({contrKey:e});return{events:t.events,tags:t.eventsTag}},getStateContrs:function(){var e={};return ie.getActiveInterface().forEach(function(t){"symbol"==t.type&&(t=ie.getAllValsContr({contrKey:t})),t.states&&$.objLength(t.states)>0&&(e[t.type+"_"+t.id]=t.name),t.contrs&&function t(n){for(var i in n){var a=n[i];"symbol"==a.type&&(a=ie.getAllValsContr({contrKey:a})),a.states&&$.objLength(a.states)>0&&(e[a.type+"_"+a.id]=n[i].name),a.contrs&&t(a.contrs)}}(t.contrs)}),e},getContrStates:function(e,t,n){var i={names:[],keys:[]},a=ie.getAllValsContr({contrKey:e}),r=0;if(t&&(!n||n&&-1!=a.state.endState)&&(i.names.push("原始态"),i.keys.push("-1"),r++),a.states&&$.objLength(a.states)>0)for(var o in a.states)(!n||n&&o!=a.state.endState)&&(i.names[r]=a.states[o].name,i.keys[r]=o,r++);return i},getSelectStateInfo:function(e){var t=e||$.isInState(ie.getFirstSelectContr(),void 0,!0),i=ie.getAllValsContr({contrKey:t}).state,a=n(35).getReverse();return{start:a?i.endState:i.startState,end:a?i.startState:i.endState,reverse:a}},getTransition:function(e,t){var n=e,i=void 0;return $.objLength(n.states)>0&&(-1!=t.start?(n.states[t.start].transition||(n.states[t.start].transition={}),i=n.states[t.start].transition):(n.transition||(n.transition={}),i=n.transition)),i},setContrData:function(e,t){B[e]=t},getContrs:function(){return B},setContrs:function(e){B=e},selectContr:function(e,t,n,i,a){ie.initCache();var r=void 0;if(!e)return!1;$.isArray(e)&&(r=e,e=e[0]);var o=e?ie.getContrByAll(e):void 0;if(a){var s=a||[];ie.selectChange([],!1,!0),p.default.wrapBoxEditOut();var l=!1;s.reverse().forEach(function(e){e&&"wrapbox"==e.type?p.default.wrapBoxEdit(e):e&&"symbol"==e.type&&(l=!0,C.default.init($.getContrId(e),!0))}),t||(l&&g.default.createData({type:"changeToSymbolMask",name:"["+o.name+"] 进入引用编辑",handleObjType:o.type,autoSaveType:"none"}),b.default.emitChange(),C.default.emitChange())}else{if(o&&o.mergeName||i&&i.length>0){var c=i||[];ie.selectChange([],!1,!0),p.default.wrapBoxEditOut(),i&&i.length>0||function e(t,n){if(n.mergeName){var i=ie.getContrByAll(n.mergeName);t.push(i),e(t,i)}}(c,o),c.reverse().forEach(function(e){p.default.wrapBoxEdit(e)})}if(n){var d=!1;n.forEach(function(e){d=!0,C.default.init(e,!0)}),t||(d&&g.default.createData({type:"changeToSymbolMask",name:"["+o.name+"] 进入引用编辑",handleObjType:o.type,autoSaveType:"none"}),b.default.emitChange(),C.default.emitChange())}}ie.selectChange(r||[e],!1,t)},setContrastState:function(e,t,n){e.isStateContrast||ie.openStateContrast(),ie.selectStartState(t),g.default.createData({type:"selectStartState",name:"["+e.name+"] 对比状态切换为"+n,handleObjType:e.type,autoSaveType:"pageContrs"})},updateImageContr:function(e,t){var n=new window.Image;n.src=window.staticUrl+e.images.imgBig,n.onload=function(){N.length>1?ie.getSelectContr().forEach(function(t){te({name:e.name,width:n.width,height:n.height,src:e.images.imgBig},t)}):te({name:e.name,width:n.width,height:n.height,src:e.images.imgBig}),t&&t(),ie.emitChange()}},updateImageContrData:function(e){if(N.length>1)ie.getSelectContr().forEach(function(t){te(e,t)}),j(e.fd,null,function(e){ie.getSelectContr().forEach(function(t){t.src=e})});else{var t=te(e);j(e.fd,t)}ie.emitChange()},cutUseImageSize:function(){var e=ie.getAllValsContr({contrKey:ie.getFirstSelectContr()}),t=e.cutVals,n={width:t.boxWidth,height:t.boxHeight,left:t.boxLeft,top:t.boxTop};ie.contrUpdate($.getContrId(e),{cutVals:n}),m.default.emitChange(),g.default.createData({type:"cutUseImageSize",name:"["+e.name+"] 图片裁剪框宽高改为图片尺寸",handleObjType:e.type,autoSaveType:"pageContrs"})},initImageCutVals:function(e){var t={oriLeft:e.left,oriTop:e.top,oriWidth:e.width,oriHeight:e.height,width:e.width,height:e.height,left:0,top:0,boxWidth:e.width,boxHeight:e.height,boxLeft:0,boxTop:0};return ie.contrUpdate($.getContrId(e),{cutVals:t},!1,!0),t},changeImgByFd:function(e,t,n){j(e,t,n)},initCache:function(){H={},U={}},initAllValsContrs:function(){H={}},getAllValsContrs:function(){return H},initAllContrs:function(){U={}},getAllContrs:function(){return U},getNums:function(){return M},pasteContr:function(e){W(e),ie.initCache(),e.noEmit&&ie.emitChange()},importContrFromSketch:function(e,t){W({contrArr:e,isImport:!0,_pageId:t,_fromProject:!0}),ie.initCache(),ie.emitChange()},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)},emitMustChange:function(){this.emit("mustChange")},addMustChangeListener:function(e){this.on("mustChange",e)},removeMustChangeListener:function(e){this.removeListener("mustChange",e)}});s.default.register(function(e){var t,i,a=void 0,r=void 0,o=void 0,s=void 0;switch(e.actionType){case l.default.CONTR_CREATEBASE:(r=V(e.option))&&ie.createContr(r);break;case l.default.CONTR_CREATEIMAGE:(r=K(e.option))&&ie.createContr(r);break;case l.default.CONTR_CREATEWRAP:(r=function(){var e=ie.getSelectContr(),t=p.default.getMergeBoxShow(),n=$.getSeveralElPosition(e),i=t?p.default.getThisContr():null,a=C.default.getSymbolMask(),r=t?p.default.getContrs():a.isShow?R.contrs:B,o=t?i.hierarchy:a.isShow?ie.getThisSymbolHierarchy():u.default.getActivePage(!0).hierarchy,s={},l=[];o.forEach(function(e){-1!=N.indexOf(e)&&l.push(e)}),++M.wrapboxContr;var c=M.wrapboxContr,d=window.userKey?1e3*c+window.userKey:c;return e.forEach(function(e){var i=$.getContrId(e),l=ie.getContrAllParent(e,!0,!0)||[];if(e.left-=n.left,e.top-=n.top,e.isOpt=!1,e.mergeName="wrapbox_"+d,e.states)for(var c in e.states){var f=e.states[c].contrs[i];f&&($.isUndefined(f.left)||(f.left-=n.left),$.isUndefined(f.top)||(f.top-=n.top))}s[i]=$.extend({},e),t||a.isShow?o.remove(i):u.default.pageRemoveContr(e.interfaceId,i),a.isShow||l.forEach(function(t){t.states&&$.removeStatesThisContrAll(t.states,i,e)}),delete r[i]}),N=[],{contrs:s,id:d,name:"集合 "+c,type:"wrapbox",width:n.width,height:n.height,left:n.left,top:n.top,filter:{},outerHidden:!1,scrollX:!1,scrollY:!1,isLock:!1,isShow:!0,shadow:0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!0,isOpen:!1,isStructOpen:!1,hierarchy:l}}())&&ie.createContr(r);break;case l.default.CONTR_RESOLVE:if((a=ie.getSelectContr()).length>0){if(a.length>1){var c=[];a.forEach(function(e,t){o=(r=e).name,s=r.type,X(e,c,t!=a.length-1)})}else r=a[0],o=r.name,s=r.type,X();ie.emitChange(),g.default.createData({type:"wrapResolve",name:"["+o+"] 集合分解",handleObjType:s,autoSaveType:"pageContrs"})}break;case l.default.CONTR_PASTE:W({contrArr:e.option,_isInProject:e.isInProject,symbol:e.symbol,changeKeyObj:e.changeKeyObj}),ne(),ie.initCache(),ie.emitChange(),setTimeout(function(){a=ie.getSelectContr(),(0,I.moveWindowToCenterByContr)(void 0,$.query("#middlePanel .eigthSpotBox")),a.length>0&&(o=a.length>1?"多元素":a[0].name,s=a.length>1?"mutiContr":a[0].type,e.noSave||(e.symbol&&u.default.setAutoSaveChangePages("changeSymbol",void 0,!0),g.default.createData({type:"pasteContr",name:"["+o+"] 粘贴创建",handleObjType:s,autoSaveType:"pageContrs"})))},0);break;case l.default.CONTR_KEYMOVE:!function(e,t){var n=ie.getSelectContr(),i=1==n.length;if(n.length>0){var a=f.default.getZoom()/100,r=void 0,o=void 0;switch(i&&(r=$.offset($.query("#"+$.getContrId(n[0])+" .rotateBox"),!0)),e){case"up":n.forEach(function(e){o=e=ie.getAllValsContr({contrKey:e}),ie.contrUpdate($.getContrId(e),{top:e.top-t},!1,!0)});break;case"down":n.forEach(function(e){o=e=ie.getAllValsContr({contrKey:e}),ie.contrUpdate($.getContrId(e),{top:e.top+t},!1,!0)});break;case"left":n.forEach(function(e){o=e=ie.getAllValsContr({contrKey:e}),ie.contrUpdate($.getContrId(e),{left:e.left-t},!1,!0)});break;case"right":n.forEach(function(e){o=e=ie.getAllValsContr({contrKey:e}),ie.contrUpdate($.getContrId(e),{left:e.left+t},!1,!0)})}if(i){var s=$.getContrPosi(o,!0);d.default.moveTipUpdate({left:Math.round(r.left+r.width*a/2),top:Math.round(r.top+r.height*a+10*(a-1)),text:"x:"+Math.round(s.left)+" y:"+Math.round(s.top)})}p.default.getMergeBoxShow()?(p.default.emitChange(),ie.emitChange()):ie.emitChange()}}(e.type,e.value);break;case l.default.CONTR_MOVE:t=e.key,i=e.posi,ie.contrUpdate(t,{left:i[0],top:i[1]},!1,!0),"keyframe"==u.default.getViewMode()&&n(37).editFrame({left:i[0],top:i[1]}),e.noEmit||ie.emitChange();break;case l.default.CONTR_POSI:!function(e){var t=p.default.getMergeBoxIn()?p.default.getContrs():B,n=void 0,i=t[e.key]?t[e.key]:ie.getContrByAll(e.key);if($.isEditState(i)&&(n=i,i=ie.getThisStateContr(i,e.key),n.left!=e.left&&i.cancelObj&&i.cancelObj.left&&(i.cancelObj.left=!1),n.top!=e.top&&i.cancelObj&&i.cancelObj.top&&(i.cancelObj.top=!1),n.width!=e.height&&i.cancelObj&&i.cancelObj.width&&(i.cancelObj.width=!1),n.height!=e.height&&i.cancelObj&&i.cancelObj.height&&(i.cancelObj.height=!1)),"image"==(i=ie.getAllValsContr({contrKey:n||i,changeThisContr:!0})).type){var a=i.cutVals||ie.initImageCutVals(i);if(i.WHrelation)J(i,a,e.width/i.width);else{var r=e.width/i.width,o=e.height/i.height;ie.contrUpdate($.getContrId(i),{cutVals:{width:a.width*r,boxWidth:a.boxWidth*r,boxLeft:a.boxLeft*r,height:a.height*o,boxHeight:a.boxHeight*o,boxTop:a.boxTop*o}},!1,!0)}}else"wrapbox"==i.type&&i.isOpt&&!i.isOpen&&Q($.extend(!0,{},i.contrs),e.width/i.width);ie.contrUpdate($.getContrId(i),{width:e.width,height:e.height,left:e.left,top:e.top},!1,!0)}(e),e.noEmit||ie.emitChange();break;case l.default.CONTR_SELECTALL:ie.selectAllContr(),ie.emitChange();break;case l.default.CONTR_DELETESELECT:var h=!1;a=ie.getSelectContr(),o=a.length>1?"多元素":a[0].name,s=a.length>1?"mutiContr":a[0].type,a.some(function(e){return"symbol"==e.type&&(h=!0,!0)}),ie.deleteSelectContr(),ie.emitChange(),g.default.createData({type:"contrDeleteSelect",name:"["+o+"] 删除",handleObjType:s,autoSaveType:"pageContrs",isSymbolChange:h});break;case l.default.CONTR_SELECTCHANGE:Y(e.selectArr,e.tab),ie.emitChange();break;case l.default.CONTR_UPDATE:ie.contrUpdate(e.key,e.option,e.isOriginal,e.noEmit);break;case l.default.CONTR_FILTERCHANGE:ie.filterChange(e.key,e.option),ie.emitChange();break;case l.default.CONTR_UPDATEBYALL:ie.contrUpdateByAll(e.key,e.option,e.isOriginal),ie.emitChange();break;case l.default.CONTR_SAVEMERGE:ee(!0),ie.emitChange();break;case l.default.CONTR_BACKMERGE:ee(),ie.emitChange();break;case l.default.CONTR_IMPORTPAGE:ie.importPage(e.contrs,e.pageId,e.guideLine,e.note,void 0,e.isLandscape),ie.emitChange();break;case l.default.CONTR_CREATESTATE:ie.createState(e.index,e.name);break;case l.default.CONTR_SELECTSTATE:ie.selectState(e.index);break;case l.default.CONTR_EDITSTATE:ie.editState(e.index);break;case l.default.CONTR_REWHPROP:!function(){var e=void 0,t=void 0,n=void 0,i=ie.getFirstSelectContr(),a=$.getContrId(i);"image"==i.type?(e=i.oriWidth/i.oriHeight,i.cutVals||te({src:i.src,name:i.oriName,width:i.oriWidth,height:i.oriHeight},i),n=i.cutVals.boxTop>i.cutVals.height/2?1:i.cutVals.boxTop>i.cutVals.boxHeight>i.cutVals.height/2?-1:2*((i.cutVals.boxHeight-i.cutVals.height)/2+i.cutVals.boxTop)/i.cutVals.boxHeight,ie.contrUpdate(a,{cutVals:{boxHeight:i.cutVals.boxWidth/e,boxTop:i.cutVals.boxTop+(i.cutVals.boxHeight-i.cutVals.boxWidth/e)*(1-n)/2}},!1,!0),t="图片"):(ie.contrUpdate(a,{height:i.width},!1,!0),t="图标"),m.default.getCutImageShow()&&m.default.emitChange(),g.default.createData({type:"reWHprop",name:"["+i.name+"] "+t+"比例恢复",handleObjType:i.type,autoSaveType:"pageContrs"})}(),ie.emitChange()}}),e.exports=ie},,function(e,t,n){"use strict";var i=n(82).Dispatcher;e.exports=new i},,,,,,function(e,t,n){"use strict";var i=w(n(294)),a=w(n(36)),r=w(n(9)),o=w(n(2)),s=w(n(72)),l=w(n(15)),c=w(n(35)),d=w(n(44)),u=w(n(32)),f=w(n(26)),h=w(n(94)),p=w(n(101)),g=w(n(38)),m=w(n(18)),v=w(n(12)),y=w(n(228));function w(e){return e&&e.__esModule?e:{default:e}}var C=n(234).create(),_=n(10).EventEmitter,b=n(31),S={num:0,total:0,folderTotal:0,zoom:.5,type:"mainBox",prevMode:"normal",mode:"normal",pageIndexKey:-1,leftUnFold:!1,isGrid:!1,isRule:!0,isGuide:!0,isHideHotspot:!1,isHideOtherPage:!1,isHideNote:!1,isHideEventTag:!1,isHideAnimTag:!1,isShowName:!0,isShowPageNo:!0,isShowPageGuide:!0,stateFold:!1,addNote:!1,proid:null,name:"",isInit:!1,isLoaded:!0,multiViewType:window.isPc?"free-view":"fixed-view",pageToolFold:!1,structHierarchy:[],isShowPageStruct:!1,isAutoSaving:!1,autoSaveDate:null,oldChangeNum:0,noStructHierarchy:!1,versionSet:{desc:"",title:"初始版本",isDelete:!1,activeKey:""},versionIndexKey:"",isOffLine:!1,iconImg:""},x={},E={},T=[],I=void 0,P=null,A={},O=[],k={},L=void 0,M=void 0,D=[],N=[],B=void 0,R=[],U=0,H=void 0,V={date:null,content:null};function K(){P=oe.getActivePage(),$.setPhoneConBoxTrans(),oe.switchMode("multi-view",!0),x[P]&&(x[P].active=!1),y.default.choosePageSocket(-1,S.proid)}function j(e){var t=n(0),i="fixed-view"==S.multiViewType,a=oe.getActivePage(!0),r=a&&a.isLandscape;if(t.initCache(),!window.isPc)if(oe.isMultiView()&&S.isShowPageStruct&&(S.isShowPageStruct=!1,u.default.reset()),"multi-view"==S.mode)$.setPhoneConBoxTrans(),oe.switchMode("normal",!0);else if(!e.noPosiChange)if(e.noAnim||$.setPhoneConBoxTrans(),i){var o=$.getElById(a.id),s=$.getElById(x[e.index].id);o&&s&&l.default.changePrevPos({left:0,top:o.offsetTop-s.offsetTop})}else l.default.changePrevPos({left:a.left-x[e.index].left,top:a.top-x[e.index].top});var c=oe.getActivePage();c&&(x[c].active=!1),x[e.index].active=!0,e.noEmit||e.isNotSendSocket||y.default.choosePageSocket(e.index,S.proid),oe.selectChange([],!e.noAnim),window.isPc||(i&&(x[e.index].isLandscape||r)?(l.default.emitChange(),setTimeout(function(){l.default.setCenter({activePage:x[e.index],isFixedView:i,noEmit:e.noEmit})},0)):l.default.setCenter({activePage:x[e.index],isFixedView:i,noEmit:e.noEmit}))}function F(e){var t=n(28),i=oe.findStructFolder(e,"page");delete x[e],S.num--,i.hierarchy.splice(i.index,1),t.deleteRelativedActions({type:"deletePage",pageId:e})}function z(e,t){x[e]&&(x[e]=$.extend(!0,x[e],t),t.events&&(x[e].events=$.extend(!0,{},t.events)))}function W(e,t,n){for(var i in A={},L=e.lastSaveKey,h.default.initUpdateTime(e.updateTime),e)if("content"==i)for(var a in A.content={},e[i])A.content[a]=$.extend(!0,{},e[i][a]),t&&t(a);else A[i]=e[i];n||(S.initStructHierarchy=$.extend(!0,[],S.structHierarchy))}function G(e){oe.setViewProp({name:e.name,pageIndexKey:e.pageIndexKey,isGrid:e.isGrid,isRule:e.isRule,isGuide:e.isGuide,isHideHotspot:e.isHideHotspot,isHideOtherPage:e.isHideOtherPage,isHideNote:e.isHideNote,isShowName:e.isShowName,isShowPageNo:e.isShowPageNo,isShowPageGuide:e.isShowPageGuide,isHideEventTag:e.isHideEventTag,isHideAnimTag:e.isHideAnimTag,proid:$.getUrlParam("proid"),multiViewType:e.multiViewType,versionSet:e.versionSet,versionIndexKey:e.versionIndexKey,iconImg:e.iconImg},!0)}function X(e,t){oe.create({key:+e.key,name:e.name,left:window.isPc?0:e.left,top:window.isPc?0:e.top,backColor:e.backColor,pageHeight:e.pageHeight,events:e.events,serverKey:e.serverKey,isShow:e.isShow,isLandscape:e.isLandscape},!0),t.importPageFormProject(e)}function Y(e,t,n){$.fixedHierarchy(e,t,n),S.structHierarchy=e,t.forEach(function(e){n&&n(),S.structHierarchy.push({key:e,type:"page"})}),S.folderTotal=function e(t,n){t.forEach(function(t){"folder"==t.type&&(n=Math.max(parseInt(t.key),n),n=Math.max(n,e(t.folderHierarchy,n)))});return n}(S.structHierarchy,S.folderTotal)}function q(e,t){var i,r="object"==(0,a.default)(e.content)?e.content:$.stringToObj(e.content),o=n(0),s=$.getElById("middlePanel"),l=r&&r.projectSet&&r.projectSet.structHierarchy,c=void 0,u=void 0,f=void 0,m=void 0,w=$.getUrlParam("proid");if($.removeClass(s,"noZoom"),(i=e.versionList)&&i.length>0&&p.default.initVersion(i.map(function(e){return{key:e._id,desc:e.desc,title:e.title,time:b(e.update_date).format("YYYY/MM/DD HH:mm")}})),g.default.setCooperationUserNum(e.cooperationUserLength),t&&t[w]){var _=t[w].data;_&&(f=!0,u||(u=$.extend(!0,{},r)),oe.setProjectData(),r=C.patch(r,_)),delete t[w],window.localStorage.offLineData=$.objToString(t)}W(e,function(t){"projectSet"!=t&&"symbolContrs"!=t&&(parseInt(t)==t&&r[t].backColor?(c||r&&r[e.pageIndexKey]||(e.pageIndexKey=t,c=r[t]),R.push(""+t),l||S.structHierarchy.push({key:t,type:"page"})):(u||(u=$.extend(!0,{},r)),delete r[t],f=!0))},!0),l&&(Y(r.projectSet.structHierarchy,R,function(){u||(u=$.extend(!0,{},r)),f=!0}),r.projectSet.structHierarchy=$.extend(!0,[],S.structHierarchy)),f&&!m&&(m=C.diff(u,r)),r&&r.projectSet&&(window.isPc&&(r.projectSet.multiViewType="free-view"),G($.extend({name:e.name,pageIndexKey:e.pageIndexKey,iconImg:e.iconImg},r.projectSet)),function(e){$.isUndefined(window.versionKey)&&(window.versionKey=""),window.versionIndexKey||(window.versionIndexKey=""),e.versionSet||(e.versionSet={});var t=$.getUrlParam("versionKey");window.versionKey?e.versionSet.activeKey=window.versionKey:"true"==$.getUrlParam("baseversion")?e.versionSet.activeKey="":e.versionSet.activeKey=t||window.versionKey,window.isDeleteVersion&&(e.versionSet.isDelete=!0),S.versionIndexKey=e.versionIndexKey=window.versionIndexKey,S.versionSet.activeKey=e.versionSet.activeKey}(r.projectSet)),A.content.projectSet.structHierarchy||(S.noStructHierarchy=!0,A.content.projectSet.structHierarchy=$.extend(!0,[],S.structHierarchy)),S.initStructHierarchy=$.extend(!0,[],S.structHierarchy),r.symbolContrs&&o.setSymbolContr(r.symbolContrs),r&&r[S.pageIndexKey]&&X(r[S.pageIndexKey],o),e.pageIndexKey&&j({index:e.pageIndexKey,noEmit:!0,noPosiChange:!0}),o.emitChange(),oe.emitViewChange(),window.windowNums=o.getNums(),log(window.windowNums,"getNums"),log(o.getContrs(),"getContrsInit"),log(o.getSymbolContr(),"getSymbolContrInit"),setTimeout(function(){for(var t in r){var n=r[t];"projectSet"!=t&&"symbolContrs"!=t&&S.pageIndexKey!=n.key&&X(n,o)}E=$.extend(!0,{},x),S.isInit=!0,o.emitChange(),h.default.emitChange(),d.default.emitMustChange(),setTimeout(function(){oe.setLoad(!0),oe.emitViewChange(),e.pageIndexKey&&j({index:e.pageIndexKey,noEmit:!1,noPosiChange:!0}),$.addClass(s,"noZoom"),m&&y.default.post({proid:S.proid,lastSaveKey:L,data:$.objToString(m),name:S.name,pageIndexKey:oe.getPageIndexKey(),callback:function(e){0==e.code?L=e.lastSaveKey:v.default.show(e.msg)}})},0)},500)}function Z(){k={}}function Q(e,t,n){return t.forEach(function(t){"folder"==t.type?Q(e,t.folderHierarchy,n):e.push(""+t.key)}),t}function J(e,t){x[e].backColor=t}function ee(){"normal"==S.mode&&"fixed-view"==S.multiViewType&&setTimeout(function(){var e=oe.getActivePage();e&&j({index:e})},0)}function te(){var e=$.extend(!0,{},S.versionSet);return delete e.activeKey,{isGrid:S.isGrid,isRule:S.isRule,isGuide:S.isGuide,isHideHotspot:S.isHideHotspot,isHideOtherPage:S.isHideOtherPage,isHideNote:S.isHideNote,isShowName:S.isShowName,isShowPageNo:S.isShowPageNo,isShowPageGuide:S.isShowPageGuide,isHideEventTag:S.isHideEventTag,isHideAnimTag:S.isHideAnimTag,structHierarchy:$.extend(!0,[],S.structHierarchy),multiViewType:S.multiViewType,versionSet:e}}function ne(e){if(!S.isOffLine)return!1;y.default.isOffLine({callback:function(t){if(0==t.code){var n=S.proid,i=window.localStorage.offLineData&&$.stringToObj(window.localStorage.offLineData);if(i&&i[n]&&i[n].data){var a=i[n].data;oe.setProjectData();var r=$.extend(!0,{},A.content);r=C.unpatch(r,a);var o=C.diff(r,A.content);o&&(k=o,delete i[n],window.localStorage.offLineData=$.objToString(i),S.isAutoSaving=!0,S.isOffLine=!1,ie(!0))}else e&&(S.isOffLine=!1)}}})}function ie(e,t){var n=oe.getPageIndexKey();h.default.setSaving(),window.isDevelop||window.navigator.onLine||v.default.show("您处于无网环境中，请检测网络是否正常"),$.isUndefined(n)?(e||t||v.default.show("当前项目没有页面，不能保存！"),t&&$.isFunc(t)&&v.default.show("当前项目没有页面，不能预览！"),h.default.setNotSaving(),S.isAutoSaving=!1):(S.oldChangeNum=oe.getAutoSaveChangePages().length,S.autoSaveDate=new Date,S.lastAutoSaveData=$.extend(!0,{},k),H={data:S.lastAutoSaveData,sendDate:S.autoSaveDate,lastSaveKey:L},y.default.post({proid:S.proid,lastSaveKey:L,data:$.objToString(S.lastAutoSaveData),name:S.name,pageIndexKey:n,callback:function(n){0==n.code?(Z(),h.default.saveToCloud(S.oldChangeNum),oe.initAutoSaveChangePages(S.oldChangeNum),L=n.lastSaveKey,S.isAutoSaving=!1,S.autoSaveDate=null,S.lastAutoSaveData=null,e||t||v.default.show("保存成功"),t&&$.isFunc(t)&&t()):v.default.show(n.msg)}}))}function ae(){var e=void 0;S.isOffLine=!0;var t=S.proid,n=function(e){H&&H.data&&(e[t]={data:H.data,startDate:H.sendDate,lastSaveKey:H.lastSaveKey,num:1},H={data:null,sendDate:null,lastSaveKey:null})};window.localStorage.offLineData?(e=$.stringToObj(window.localStorage.offLineData))[t]||n(e):n(e={}),window.localStorage.offLineData=$.objToString(e)}function re(e){var t,i,a,r=n(25),o=n(27),s=n(0),l=n(22),c=void 0,d=te(),u={remove:[],add:[],oldPages:[],newPages:[]};t=u,i=A.content.projectSet.structHierarchy,a=S.structHierarchy,Q(t.oldPages,i),Q(t.newPages,a),function(e){e.oldPages.forEach(function(t){-1==e.newPages.indexOf(t)&&e.remove.push(t)}),e.newPages.forEach(function(t){-1==e.oldPages.indexOf(t)&&e.add.push(t)})}(t),k.projectSet?c=C.diff(C.unpatch(A.content.projectSet,k.projectSet),d):(S.noStructHierarchy&&delete A.content.projectSet.structHierarchy,c=C.diff(A.content.projectSet,d)),c&&(e&&e(),A.content.projectSet=d,k.projectSet=c,S.noStructHierarchy=!1),0!==u.remove.length&&(e&&e(),u.remove.forEach(function(e){var t=void 0;t=k[e]?C.unpatch(A.content[e],k[e]):A.content[e],k[e]=[$.extend(!0,{},t),0,0],delete A.content[e]})),0!==u.add.length&&(e&&e(),u.add.forEach(function(e){var t=$.extend(!0,{},A.content[e]),n=x[e];t.top=n.top,t.left=n.left,t.name=n.name,t.key=n.key,t.serverKey=n.serverKey,t.isShow=n.isShow,t.guideLine=r.getPageLineArr(n.key),t.note=o.getNoteArr(n.key,!0),t.backColor=n.backColor,t.isLandscape=n.isLandscape,t.pageHeight=n.pageHeight,n.events?t.events=$.extend(!0,{},n.events):t.events={},t.pageContrs=s.getPageByHierarchy(e,!0),l.removeInitVal(t.pageContrs,void 0,n.isLandscape),A.content[e]=t,k[e]=[$.extend(!0,{},t)]}))}var oe=(0,r.default)({},_.prototype,{getProjectData:function(e){var t=n(25),i=n(27),a=n(0),r=n(22),o=oe.getStructAll(),s=$.extend(!0,{},a.getSymbolContr()),l={};o.forEach(function(n){if("page"===n.type){var o=n.key;l[o]={};var s=l[o],c=x[o];if(!c)return!1;s.top=c.top,s.left=c.left,s.name=c.name,s.guideLine=t.getPageLineArr(c.key),s.note=i.getNoteArr(c.key,!0),s.backColor=c.backColor,s.pageHeight=c.pageHeight,s.isLandscape=c.isLandscape,s.key=o,s.serverKey=c.serverKey,s.isShow=c.isShow,c.events&&(s.events=c.events),e&&e(n,o),s.pageContrs=a.getPageByHierarchy(o,!0),r.removeInitVal(s.pageContrs,void 0,c.isLandscape)}});var c=$.extend(!0,{},S.versionSet);delete c.activeKey,l.projectSet={isGrid:S.isGrid,isRule:S.isRule,isGuide:S.isGuide,isHideHotspot:S.isHideHotspot,isHideOtherPage:S.isHideOtherPage,isHideNote:S.isHideNote,isShowName:S.isShowName,isShowPageGuide:S.isShowPageGuide,isShowPageNo:S.isShowPageNo,isHideEventTag:S.isHideEventTag,isHideAnimTag:S.isHideAnimTag,structHierarchy:S.structHierarchy,multiViewType:S.multiViewType,versionSet:c};var d=[],u=[];for(var f in s.contrs)d.push(s.contrs[f]);for(var h in r.removeInitVal(d),s.symbols)u.push(s.symbols[h]);return r.removeInitVal(u),l.symbolContrs=s,l},setProjectData:function(){var e=oe.getProjectData();for(var t in A.content={},e)A.content[t]=$.extend(!0,{},e[t])},saveFunc:function(e,t){var i,a,r=oe.getAutoSaveChangePages();if(M&&clearTimeout(M),window.noLogin)v.default.show("登录后才能保存哟");else if(S.isOffLine||window.isDevelop||window.navigator.onLine)if(e)if(!S.isAutoSaving||S.isOffLine){if(r.length>0){var o=n(0),s=n(13),l=!1,c=!1,d=oe.getOtherAutoSaveDataLength();if(S.isAutoSaving=!0,!$.isUndefined(B)&&B!=d){var u=$.extend(!0,{},A.content);oe.setProjectData();for(var f=B;f<d;f++){var p=D[f];oe.otherChangeProject(p.data,void 0,p.user,N)}var g=C.diff(u,A.content);g&&(k=g,l=!0)}else r.forEach(function(e){var t,i,a;-1!=e.indexOf("__")?function(e,t){var i=n(0),a=n(22),r=n(25),o=n(27),s=e.split("__"),l=s[0],c=x[l],d=void 0,u=$.extend(!0,{},A.content[l]);"pageContrs"==s[1]?($.isArray(k[l])&&1===k[l].length&&(u=k[l][0]),u.pageContrs=i.getPageByHierarchy(l,!0),a.removeInitVal(u.pageContrs,void 0,c&&c.isLandscape),(d=$.isArray(k[l])&&1===k[l].length?k[l]:k[l]?C.diff(C.unpatch(A.content[l],k[l]),u):C.diff(A.content[l],u))&&(t&&t(),A.content[l]=u,k[l]=d)):"pageVals"==s[1]&&($.isArray(k[l])&&1===k[l].length&&(u=k[l][0]),u.top=c.top,u.left=c.left,u.name=c.name,u.key=c.key,u.serverKey=c.serverKey,u.isShow=c.isShow,u.guideLine=r.getPageLineArr(c.key),u.note=o.getNoteArr(c.key,!0),u.backColor=c.backColor,u.pageHeight=c.pageHeight,u.isLandscape=c.isLandscape,c.events?u.events=$.extend(!0,{},c.events):u.events={},(d=$.isArray(k[l])&&1===k[l].length?k[l]:k[l]?C.diff(C.unpatch(A.content[l],k[l]),u):C.diff(A.content[l],u))&&(t&&t(),A.content[l]=u,k[l]=d))}(e,function(){l=!0}):"changePages"==e?re(function(){l=!0}):"changeStruct"==e?(t=function(){l=!0},i=void 0,a=te(),k.projectSet?i=C.diff(C.unpatch(A.content.projectSet,k.projectSet),a):(S.noStructHierarchy&&delete A.content.projectSet.structHierarchy,i=C.diff(A.content.projectSet,a)),i&&(t&&t(),A.content.projectSet=a,k.projectSet=i,S.noStructHierarchy=!1)):"changeSymbol"==e?function(e){var t=void 0,i=n(0),a=n(22),r=$.extend(!0,{},i.getSymbolContr()),o=[],s=[];for(var l in r.contrs)o.push(r.contrs[l]);for(var c in a.removeInitVal(o),r.symbols)s.push(r.symbols[c]);a.removeInitVal(s),(t=k.symbolContrs?C.diff(C.unpatch(A.content.symbolContrs,k.symbolContrs),r):C.diff(A.content.symbolContrs,r))&&(e&&e(),A.content.symbolContrs=r,k.symbolContrs=t)}(function(){l=!0}):"changePagesPosi"==e?c=!0:"changeProject"==e&&(l=!0)});l&&(-1!=N.indexOf("ContrStore.emitMustChange")&&o.emitMustChange(),-1!=N.indexOf("ViewStore.emitViewChange")&&oe.emitViewChange(),-1!=N.indexOf("MergeBoxStore.emitChange")&&s.emitChange()),N=[],B=void 0,c&&(i=function(){l=!0},Q(a=[],S.structHierarchy),a.forEach(function(e){var t=A.content[e],n=x[e];n.top==t.top&&n.left==t.left||(n.top!=t.top&&(i&&i(),A.content[e].top=n.top,k[e]?k[e].top=[t.top,n.top]:k[e]={top:[t.top,n.top]}),n.left!=t.left&&(i&&i(),A.content[e].left=n.left,k[e]?k[e].left=[t.left,n.left]:k[e]={left:[t.left,n.left]}))})),l?S.isOffLine?function(){var e=oe.getPageIndexKey();if($.isUndefined(e))v.default.show("当前项目没有页面，不能保存！");else{var t=void 0;S.isOffLine=!0;var n=S.proid,i=function(e){S.lastAutoSaveData?e[n]={data:S.lastAutoSaveData,startDate:S.autoSaveDate,lastSaveKey:L,num:1}:e[n]={data:S.lastAutoSaveData,startDate:new Date,lastSaveKey:L,num:1}};window.localStorage.offLineData?(t=$.stringToObj(window.localStorage.offLineData))[n]?(t[n].data=$.extend(!0,{},k),t[n].endDate=new Date,t[n].num++):i(t):i(t={}),window.localStorage.offLineData=$.objToString(t),window.navigator.onLine&&ne()}}():ie(e,t):(S.isOffLine||(S.isAutoSaving=!1),Z(),h.default.saveToCloud(),oe.initAutoSaveChangePages())}}else S.autoSaveDate&&(new Date).getTime()-S.autoSaveDate>1e4&&r.length>0&&ae();else S.isOffLine?v.default.show("数据已离线保存"):window.isDevelop||window.navigator.onLine?S.isAutoSaving?v.default.show("正在上传数据中，请稍等"):v.default.show("已实时保存你的操作"):v.default.show("您处于无网环境中，请检测网络是否正常");else ae()},saveOtherAutoSaveDataArr:function(e){D.push(e)},getOtherAutoSaveDataLength:function(){return D.length},getInitPagesKeyArr:function(){return R},isInInitPagesKeyArr:function(e){return R.indexOf(e)},otherChangeProject:function(e,t,i,a){var r=n(0),o=$.stringToObj(e.data),s=oe.getActivePage(),d=[],f=S.multiViewType,h=!1,p=!1,g=!1,w=!1,_=!1,b=!1;$.isUndefined(t)||(L=t),oe.setViewProp({name:e.name,pageIndexKey:e.pageIndexKey,pageNum:e.pageNum},!0);try{A.content=C.patch(A.content,o)}catch(e){log(e)}if(o&&o.symbolContrs&&A.content&&A.content.symbolContrs){var E=$.extend(!0,{},A.content.symbolContrs);if(o.symbolContrs.contrs)for(var T in o.symbolContrs.contrs)!h&&$.query(".mainBox.active #"+T)&&(window.renderActivePage=!0,h=!0);r.setSymbolContr(E),_=!0}if(_){var I=m.default.getSymbolMask();I.isShow&&(r.getSymbol(I.thisSymbolKey,!0)||(b=!0,m.default.exit(!0,!0),setTimeout(function(){v.default.show("正在编辑的引用组件被["+i.nickName+"]删除")},0)))}for(var P in o){var O=A.content[P]?$.extend(!0,{},A.content[P]):void 0;if("projectSet"==P){for(var k in A.content)"projectSet"!=k&&"symbolContrs"!=k&&d.push(k);G($.extend({name:e.name,pageIndexKey:e.pageIndexKey,iconImg:e.iconImg},O)),Y(O.structHierarchy,d),f!=A.content.projectSet.multiViewType&&(p=!0,w=!0),h=!0}else if(O&&"symbolContrs"!=P){var M=void 0;if(P==s){var D=oe.getPage(P,!0);D&&(M=[D.left,D.top])}if(r.deletePageContrByHierarchy(+O.key),oe.create({key:+O.key,name:O.name,left:O.left,top:O.top,backColor:O.backColor,pageHeight:O.pageHeight,events:O.events,serverKey:O.serverKey,isShow:O.isShow,isLandscape:O.isLandscape},!0),r.otherChangePage(O.pageContrs,+O.key,O.guideLine,o[P].note?O.note:void 0,O.isLandscape),P==s){if(!b){var N=m.default.getSymbolMask();N.isShow&&(r.getContrByAll(N.thisContrKey)||(b=!0,m.default.exit(!0,!0),setTimeout(function(){r.selectContr([]),v.default.show("["+i.nickName+"] 删除了你正在编辑的引用组件")},0)))}!M||M[0]==O.left&&M[1]==O.top||(p=!0),r.resetSelect(),x[P].active=!0,a?a.push("ContrStore.emitMustChange"):r.emitMustChange()}h=!0}else P==s&&(g=!0)}if(window.renderActivePage&&setTimeout(function(){window.renderActivePage=!1},0),g&&!a&&y.default.otherDeleteActivePage(i),h||b||_){if(a)a.push("ViewStore.emitViewChange"),(b||_&&m.default.getSymbolMaskShow())&&(a.push("PhoneConBoxStore.emitChange"),a.push("SymbolMaskStore.emitChange"),a.push("ContrStore.emitMustChange"));else{oe.emitViewChange(),(b||_&&m.default.getSymbolMaskShow())&&(l.default.emitChange(),m.default.emitChange(),r.emitMustChange());var B=$.query("#rightPanel .tabLabel.active").id;"pageSetLabel"==B?oe.emitPagesChange():"structLabel"==B?u.default.emitChange():"boxLabel"!=B&&"textLabel"!=B||r.emitChange(),c.default.getFold()||n(37).emitChange()}r.initCache()}"fixed-view"==A.content.projectSet.multiViewType&&o.projectSet&&o.projectSet.structHierarchy&&(p=!0),!g&&p&&s&&j({index:s,noEmit:!1,noPosiChange:!0,isNotSendSocket:w})},socketConnect:function(){S.isOffLine&&ne(!0)},socketDisconnect:function(){ae()},setRedoUndoIndex:function(e){B=e},addRedoUndoEmitArr:function(e){N.push(e)},getView:function(){return S},getIsInit:function(){return S.isInit},getPages:function(){return x},resetPagePos:function(){ee()},getOnePagesKey:function(){if(x[S.pageIndexKey])return S.pageIndexKey;for(var e in x)return e},getPagesKey:function(e){var t={};for(var n in x)e&&oe.getActivePage(),t[n]=x[n].name;return t},backOutPageIndex:function(){x[P]?oe.choosePage(P):oe.choosePage(oe.getPageIndexKey())},backColorChange:function(e,t,n){J(e,t),n||oe.emitPagesChange()},isLandscapeToggle:function(e,t,n){!function(e,t){x[e].isLandscape=t}(e,t),n||(oe.emitViewChange(),oe.emitPagesChange())},getPageName:function(e){return x[e].name},getSymbolSaveData:function(){return A.content&&A.content.symbolContrs},getViewMode:function(){return S.mode},getViewPrevMode:function(){return S.prevMode},getViewTotal:function(){return S.total},getPageByKey:function(e){return x[e]},choosePage:function(e,t,n,i){if(x[e].active&&!i)return!1;j({index:e,noAnim:n}),t||(oe.emitViewChange(),oe.emitPagesChange())},changePages:function(e){x=$.extend(!0,{},e),S.num=(0,i.default)(e).length,oe.emitPagesChange()},pageInsertContr:function(e,t){var n=oe.getActivePage(),i=[x[n].hierarchy.indexOf(e),1].concat(t);Array.prototype.splice.apply(x[n].hierarchy,i)},pageAddContr:function(e,t){x[e]&&-1==x[e].hierarchy.indexOf(t)&&x[e].hierarchy.splice(0,0,t)},pageRemoveContr:function(e,t){x[e].hierarchy.remove(t)},getActivePage:function(e){for(var t in x)if(x[t].active)return e?x[t]:t;return null},getPage:function(e,t){return t?x[e]:null},setPage:function(e,t,n){x[e]=t,n||oe.emitPagesChange()},changePcPageHeight:function(e,t,n){(t||oe.getActivePage(!0)).pageHeight=e,n||oe.emitPagesChange()},changeMultiViewType:function(e){"free-view"==e?l.default.resetFreeViewPos():"fixed-view"==e&&l.default.resetFixedViewPos(),oe.setViewProp({multiViewType:e})},setViewProp:function(e,t){S=$.extend(S,e),!t&&e.changePages&&oe.emitPagesChange(),t||oe.emitViewChange()},zoomOut:function(){K(),oe.emitViewChange(),oe.emitPagesChange(),n(20).emitChange()},inEditView:function(e){oe.switchMode("edit-view",!0),e||(oe.emitViewChange(),oe.emitPagesChange(),n(44).emitMustChange())},getZoom:function(){return S.zoom},create:function(e,t,n){var i=t?+e.key:++S.total;x[i]=$.extend({active:!!(t&&x[i]&&x[i].active)&&x[i].active,key:i,id:S.type+i,name:"页面 "+i,backColor:"rgba(255, 255, 255, 1)",left:0,top:0,isShow:!0,grid:!0,hierarchy:[],canvasDom:null,isSelect:!1,type:"page"},e),S.num++,t?S.total=Math.max(S.total,+e.key):(ee(),n||S.structHierarchy.push({key:i,type:"page"}))},getPagesMaxPosi:function(){var e={};for(var t in x)e[t]=[x[t].left,x[t].top];return $.pagesMaxPosi(e)},getNewPagePosi:function(){if(window.isPc)return{left:0,top:0};var e=oe.getPagesMaxPosi();return{left:e.left+window.phoneSize.width+90,top:e.top}},isShowPageStruct:function(){return S.isShowPageStruct},getProjectName:function(){return S.name},setProjectName:function(e){S.name=e},setPageIndexKey:function(e,t){S.pageIndexKey=e,"multi-view"!=S.mode||t||oe.emitViewChange()},getPageIndexKey:function(){var e=S.pageIndexKey;if(x[e])return e;for(var t in x)return t},getPageHierarchy:function(e){return x[e]?x[e].hierarchy:[]},getActivePageHierarchy:function(){return x[oe.getActivePage()].hierarchy},switchMode:function(e,t){if("multi-view"==S.mode&&"normal"==e){var n=$("#allPanel");l.default.savePrevPos(),n.on("webkitTransitionEnd",function(){n.removeClass("bottomUnfold"),n.off("webkitTransitionEnd")})}else"multi-view"==e?(l.default.replacePrevPos(),S.bottomUnfold=!c.default.getPanel().fold):"edit-view"==e&&"multi-view"!=S.mode&&(S.bottomUnfold=!c.default.getPanel().fold);S.prevMode=S.mode,S.mode=e,t||oe.emitViewChange()},switchToPrevMode:function(){S.mode=S.prevMode,oe.emitViewChange()},updateProp:function(e,t){z(e,t)},getPageSelect:function(e){return e?T:T.concat()},structCopyPage:function(e,t,i){var a=n(0),r=n(22),o=oe.getNewPagePosi(),s=x[e];oe.create(o,!1,i);var l=oe.getViewTotal();oe.updateProp(l,{serverKey:s.serverKey,backColor:s.backColor,pageHeight:s.pageHeight,events:s.events});var c=a.getPageByHierarchy(parseInt(e),!0);r.removeInitVal(c,void 0,s.isLandscape),a.importPage(c,l,void 0,void 0,s.key,s.isLandscape),i||oe.addStructPageAfter([e,"page"],l),t||(oe.emitViewChange(),oe.emitPagesChange(),a.emitChange())},structCopyFolder:function(e,t){var i=n(0),a=oe.findStructFolder(""+e,"folder");a.hierarchy.splice(a.index+1,0,oe.copyFolder(a.val)),t||(oe.emitViewChange(),oe.emitPagesChange(),i.emitChange())},copyFolder:function(e){var t=[],n={key:++S.folderTotal,type:"folder",name:"分组"+S.folderTotal,folderHierarchy:t,fold:e.fold,isShow:e.isShow};return e.folderHierarchy.forEach(function(e){"page"==e.type?(oe.structCopyPage(e.key,!0,!0),t.push({key:S.total,type:"page"})):"folder"==e.type&&t.push(oe.copyFolder(e))}),n},copyPage:function(e){var t=n(0),i=n(17),a=n(22),r=void 0,o=oe.getZoom(),s=$.getSelectPageList().reverse(),l=$.offset($.query(".phoneConBox")),c=[],d=oe.isMultiFixed();s.length>0&&(s.length>1&&oe.setLoad(!1),setTimeout(function(){if(s.forEach(function(e){var n=void 0,i=x[e];if(d)n=oe.getNewPagePosi();else{var s=$.offset($.getElById("mainBox"+e));n={left:(s.left-l.left)/o+window.phoneSize.width/3,top:(s.top-l.top)/o+window.phoneSize.height/3}}oe.create(n),r=oe.getViewTotal(),oe.updateProp(r,{serverKey:i.serverKey,backColor:i.backColor,pageHeight:i.pageHeight,isLandscape:i.isLandscape,events:i.events});var u=t.getPageByHierarchy(parseInt(e),!0);a.removeInitVal(u,void 0,i.isLandscape),t.importPage(u,r,void 0,void 0,i.key,i.isLandscape),c.push(""+r)}),d){if(1==c.length)oe.addStructPageAfter([s[0],"page"],c[0]);else{var n=oe.findStructFolder($("#phoneConBox .mainBox.select")[0].id.replace("mainBox",""),"page").parentKey;c.forEach(function(e){oe.addStructPageInFolder(n,e)})}setTimeout(function(){$.scrollPhoneConBoxPage($.getElById("mainBox"+c[0]),oe.getZoom())},0)}if(oe.selectChange(c,!0),e||(oe.emitViewChange(),oe.emitPagesChange(),t.emitChange(),s.length>1&&oe.setLoad(!0)),i.createData({type:"createSelectCopyPage",name:"["+(s.length>1?"多页面":"页面"+s[0])+"] 复制",handleObjType:"page",autoSaveType:"changePages"}),d){var u=$.getElById("mainBox"+c[0]);u?$.scrollPhoneConBoxPage(u,oe.getZoom()):setTimeout(function(){u=$.getElById("mainBox"+c[0]),$.scrollPhoneConBoxPage(u,oe.getZoom())},0)}},0))},getPageNum:function(){return $.objLength(x)},deletePages:function(e,t,n){var i=e||oe.getPageSelect(),a=$.getWinSize(),r=window.phoneSize.width,o=window.phoneSize.height,s=$.getElById("trashBox"),l=oe.isMultiView(),c=!1,d=void 0;if(y.default.isOtherEditing(i))return!1;t&&(d=$.getElById("allPanel"),$.addClass(d,"multi-fixed-remove")),$.addClass(s,"active"),i.forEach(function(e,n){if(l){var i=t?$.getElById("dragContr"):$.getElById("mainBox"+e),s=x[e],d=$.offset(i),u=void 0;s&&((!t||t&&0===n)&&(u={left:(a.width-25-d.left-r*S.zoom)/S.zoom,top:(a.height-25-d.top-o*S.zoom)/S.zoom},i&&($.removeClass(i,"shiver"),$.addClass(i,"multi-remove")),setTimeout(function(){i&&(t&&$.addClass(i,"remove"),i.style.transform=" translate("+u.left+"px, "+u.top+"px) scale(0.01)")},10)),F(parseInt(e)),c=!0)}else x[e]&&(F(parseInt(e)),c=!0)}),c&&(oe.selectChange([],!0),l?setTimeout(function(){$.removeClass(s,"active"),t&&($.removeClass(d,"multi-fixed-drag"),$.removeClass(d,"multi-fixed-remove"),f.default.hide()),n||(oe.emitPageStructChange(),0==oe.getPageNum()&&v.default.show("页面数不能为0，请创建新页面"))},300):n||(oe.emitPageStructChange(),0==oe.getPageNum()&&v.default.show("页面数不能为0，请创建新页面")))},deletePage:function(e,t){if(y.default.isOtherEditing([e]))return!1;F(parseInt(e)),t||(oe.emitPageStructChange(),0==oe.getPageNum()&&v.default.show("页面数不能为0，请创建新页面"))},selectChange:function(e,t){if(!$.checkArrayEqual(T,e)){for(var n in T=e.concat(),x){var i=x[n];-1!=T.indexOf(""+n)?i.isSelect=!0:i.isSelect=!1}t||oe.emitPagesChange()}},selectAll:function(e){var t=[];$(".mainBox.inactive:not(.hide)").forEach(function(e){t.push(e.id.replace("mainBox",""))}),t.length>0&&oe.selectChange(t,e)},setActiveMainbox:function(e){I=e},getActiveMainbox:function(){return I},getIsHideNote:function(){return S.isHideNote},changePageHide:function(e,t){x[e].isShow=!x[e].isShow,t||(oe.emitPageStructChange(),ee())},getAddNote:function(){return S.addNote},toggleEditing:function(){S.editing=!S.editing&&oe.getActivePage()},setStateFold:function(e){S.stateFold=e},getStateFold:function(){return S.stateFold},removeIsNew:function(e){delete x[e].isNew},updatePageEvents:function(e,t,n){$.handleEventsData(x[e],t,!0),n||oe.emitPagesChange()},isMultiFixed:function(){return"fixed-view"==S.multiViewType&&"multi-view"==S.mode},isMultiView:function(){return"multi-view"==S.mode},isFreeView:function(){return"free-view"==S.multiViewType},isFixedView:function(){return"fixed-view"==S.multiViewType},addStructFolder:function(e,t,n){var i=[];e&&e.forEach(function(e){var t=oe.findStructFolder(e.key,e.type);i.push(t.val),t.hierarchy.splice(t.index,1)}),(n||S.structHierarchy).push({key:++S.folderTotal,type:"folder",name:"分组"+S.folderTotal,folderHierarchy:i,fold:!e,isShow:!0}),t&&oe.emitPageStructChange()},addStructFolderAfter:function(e,t){var n=oe.findStructFolder(e[0],e[1]);n.hierarchy.splice(n.index+1,0,{key:++S.folderTotal,type:"folder",name:"分组"+S.folderTotal,folderHierarchy:[],fold:!0,isShow:!0}),t&&oe.emitPageStructChange()},addStructPageBefore:function(e,t,n){var i=void 0,a=oe.findStructFolder(e[0],e[1]);if(t){var r=oe.findStructFolder(t,n?"folder":"page");i=r.val,r.hierarchy.splice(r.index,1)}a.hierarchy.splice(parseInt(a.index),0,n?i:{key:t?parseInt(t):S.total,type:"page"})},addStructPageAfter:function(e,t,n){var i=void 0,a=oe.findStructFolder(e[0],e[1]);if(t){var r=oe.findStructFolder(t,n?"folder":"page");i=r.val,r.hierarchy.splice(r.index,1)}a.hierarchy.splice(a.index+1,0,n?i:{key:t?parseInt(t):S.total,type:"page"})},addStructPageInFolderBefore:function(e,t,n){var i=void 0;if(t){var a=oe.findStructFolder(t,n?"folder":"page");i=a.val,a.hierarchy.splice(a.index,1)}var r=oe.findStructFolder(e,"folder");r.hierarchy.splice(parseInt(r.index),0,n?i:{key:t?parseInt(t):S.total,type:"page"})},addStructPageInFolder:function(e,t,n,i){var a=void 0;if(t){var r=oe.findStructFolder(t,i?"folder":"page");a=r.val,r.hierarchy.splice(r.index,1)}if($.isUndefined(e))S.structHierarchy[n?"unshift":"push"](i?a:{key:t?parseInt(t):S.total,type:"page"});else{var o=oe.findStructFolder(e,"folder");o&&o.val.folderHierarchy[n?"unshift":"push"](i?a:{key:t?parseInt(t):S.total,type:"page"})}},addStructPageInFolderIndex:function(e,t,n){if(t){var i=oe.findStructFolder(t,"page");i.hierarchy.splice(i.index,1)}-1==n?e.unshift({key:t?parseInt(t):S.total,type:"page"}):e.splice(n+1,0,{key:t?parseInt(t):S.total,type:"page"})},getInitStructHierarchy:function(){return S.initStructHierarchy},getInitPages:function(){return E},getStructHierarchy:function(e,t){return e?(t||S.structHierarchy).map(function(e){if("page"==e.type)return x[e.key];if("folder"==e.type){var t=$.extend(!0,{},e);return t.folderHierarchy=oe.getStructHierarchy(!0,e.folderHierarchy),t}}):S.structHierarchy},setStructHierarchy:function(e,t){S.structHierarchy=e,t&&oe.emitPageStructChange()},getStructTree:function(e,t,n,i){var a=0;return t||(t={folderNum:0,pageLine:0,children:[],layers:0},n=S.structHierarchy,i=[t]),n.forEach(function(n){if("folder"==n.type&&n.isShow){var r=oe.findStructFolder(n.key,"folder"),o=i.concat(),s={key:n.key,folderNum:0,pageLine:0,children:[],before:{folderNum:t.folderNum,pageLine:t.pageLine+Math.ceil(a/e)}};t.children.push(s),i.forEach(function(t){t.folderNum++,t.pageLine+=Math.ceil(a/e)}),a=0,o.push(s),oe.getStructTree(e,s,r.val.folderHierarchy,o)}else"page"==n.type&&x[n.key].isShow&&a++}),i[0].layers=Math.max(i[0].layers,i.length-1),i.forEach(function(t){t.pageLine+=Math.ceil(a/e)}),t},getFolderAllPage:function(e,t){e&&e.forEach(function(e){"page"==e.type?t.push(e.key):"folder"==e.type&&oe.getFolderAllPage(e.folderHierarchy,t)})},deleteFolder:function(e){var t=oe.findStructFolder(e.key,"folder"),n=[];if(oe.getFolderAllPage(t.val.folderHierarchy,n),y.default.isOtherEditing(n))return!1;$.extend(!0,[],t.val.folderHierarchy).forEach(function(e){"page"==e.type?F(e.key):"folder"==e.type&&oe.deleteFolder(e,!0)}),t.hierarchy.splice(t.index,1)},findStructFolder:function(e,t,n,i,a){var r=n||S.structHierarchy;return i||(i={}),r.forEach(function(n,o){n.key==e&&n.type==t&&(i.hierarchy=r,i.val=n,i.index=o,i.parentKey=a),"folder"!=n.type||i.val||oe.findStructFolder(e,t,n.folderHierarchy,i,n.key)}),i},changeStructFolderFold:function(e){var t=oe.findStructFolder(e,"folder").val;t.fold=!t.fold},changeStructFolderName:function(e,t){oe.findStructFolder(e,"folder").val.name=t},changeStructFolderHide:function(e,t){var n=oe.findStructFolder(e,"folder").val;n.isShow=!n.isShow,t||oe.emitPageStructChange(),ee()},changeStructFolderDrag:function(e,t){oe.findStructFolder(e,"folder").val.isDrag=t,oe.emitPageStructChange()},getStructAll:function(e,t,n,i){var a=e||[];return i=i||1,(t||S.structHierarchy).forEach(function(e){(e=$.extend(!0,{},e)).parentHide=n,a.push(e),"folder"==e.type&&(e.index=i,oe.getStructAll(a,e.folderHierarchy,!e.isShow||n,i+1),a.push({type:"endLine",key:e.key,name:e.name,isShow:e.isShow,parentHide:n}))}),a},changeStructHierarchy:function(e,t,n){("bottom"==n?e.reverse():e).forEach(function(e){var i=$.structDragKeyArr(e),a=oe.findStructFolder(i[0],i[1]),r=oe.findStructFolder(t[0],t[1]),o=a.index,s=r.index;"folder"==t[1]?"middle"==n&&r.val?r.val.folderHierarchy.push(a.val):"bottom"==n&&r.val?r.val.fold?(o>s&&a.hierarchy==r.hierarchy&&o++,r.hierarchy&&r.hierarchy.splice(s+1,0,a.val)):r.val.folderHierarchy.unshift(a.val):(o>s&&a.hierarchy==r.hierarchy&&o++,r.hierarchy&&r.hierarchy.splice(s,0,a.val)):("bottom"==n&&s++,o>s&&a.hierarchy==r.hierarchy&&o++,r.hierarchy&&r.hierarchy.splice(s,0,a.val)),a.hierarchy&&a.hierarchy.splice(o,1)}),oe.emitPageStructChange(),ee()},initAutoSaveChangePages:function(e){e?O.splice(0,e):O=[]},setAutoSaveChangePages:function(e,t,n){if(!oe.getProid()||!window.window.noNew)return!1;var i=(t?n||oe.getActivePage():"")+e,a=$.extend(!0,[],O);S.isAutoSaving&&a.splice(0,S.oldChangeNum),m.default.getSymbolMaskShow()&&"__pageContrs"==e&&-1==a.indexOf("changeSymbol")&&O.push("changeSymbol"),"changeStruct"==i&&-1!=a.indexOf("changePages")&&S.isInit||("changePages"==i&&-1!=a.indexOf("changeStruct")&&S.isInit?(O.remove("changeStruct"),-1==a.indexOf(i)&&O.push(i)):-1==a.indexOf(i)&&S.isInit&&O.push(i)),n||(clearTimeout(M),M=setTimeout(function(){oe.saveFunc(!0)},U),h.default.addSaveNum())},removeAutoSaveChangePages:function(e){O.remove(e)},getAutoSaveChangePages:function(){return O},getTouchIcon:function(){return S.iconImg},setTouchIcon:function(e,t){S.iconImg=e,t||oe.emitViewChange()},getLoad:function(){return S.isLoaded},setLoad:function(e,t){S.isLoaded=e,t||oe.emitLoadingChange()},getProid:function(){return S.proid},addProjectInit:function(e){W(e)},getStructPagesLength:function(){var e=0;return oe.getStructAll().forEach(function(t){"page"==t.type&&e++}),e},setLocalPageClipboard:function(e,t){V.date=t,V.content=e},getLocalPageClipboard:function(){return V},changeVersion:function(e){S.versionSet.title=e.title,S.versionSet.desc=e.desc},getVersionSet:function(){return S.versionSet},getVersionIndexKey:function(){return S.versionIndexKey},getIsOffLine:function(){return S.isOffLine},setVersionKey:function(e){var t=S.versionSet.activeKey==S.versionIndexKey;return S.versionSet.activeKey=e,t&&(window.versionIndexKey=e,S.versionIndexKey=e),t},setVersionIndexKey:function(e,t){S.versionIndexKey=e,t&&(window.versionIndexKey=e)},getUpdateTime:function(){return A.updateTime},emitViewChange:function(){this.emit("viewChange")},addViewChangeListener:function(e){this.on("viewChange",e)},removeViewChangeListener:function(e){this.removeListener("viewChange",e)},emitLoadingChange:function(){this.emit("loadingChange")},addLoadingChangeListener:function(e){this.on("loadingChange",e)},removeLoadingChangeListener:function(e){this.removeListener("loadingChange",e)},emitPagesChange:function(){this.emit("pagesChange")},addPagesChangeListener:function(e){this.on("pagesChange",e)},removePagesChangeListener:function(e){this.removeListener("pagesChange",e)},emitPageStructChange:function(){this.emit("pageStructChange")},addPageStructChangeListener:function(e){this.on("pageStructChange",e)},removePageStructChangeListener:function(e){this.removeListener("pageStructChange",e)}});o.default.register(function(e){switch(e.actionType){case s.default.VIEW_PROJECTWEBINIT:q(e.option,e.addOffLineData);break;case s.default.VIEW_CHOOSEPAGE:j({index:e.index}),oe.emitViewChange(),oe.emitPagesChange();break;case s.default.VIEW_ZOOMOUT:K(),oe.emitViewChange(),oe.emitPagesChange();break;case s.default.VIEW_CREATE:oe.create(e.options),oe.emitViewChange(),oe.emitPagesChange();break;case s.default.VIEW_UPDATEPROP:z(e.index,e.prop),oe.emitPagesChange();break;case s.default.VIEW_UPDATEACTIVEPROP:z(oe.getActivePage(),e.prop),oe.emitPagesChange();break;case s.default.VIEW_SWITCHMODE:oe.switchMode(e.mode);break;case s.default.VIEW_SWITCHTOPREVMODE:oe.switchToPrevMode();break;case s.default.VIEW_CHANGEZOOM:t=e.zoom,S.zoom=t/100,oe.emitViewChange();break;case s.default.VIEW_BACKCOLOR:J(e.pageId,e.backColor),oe.emitPagesChange();break;case s.default.VIEW_SETVIEWPROP:oe.setViewProp(e.obj);break;case s.default.VIEW_SELECTCHANGE:oe.selectChange(e.selectArr);break;case s.default.VIEW_SELECTALL:oe.selectAll();break;case s.default.VIEW_COPYPAGE:oe.copyPage();break;case s.default.VIEW_DELETEPAGES:oe.deletePages()}var t}),e.exports=oe},,,,function(e,t,n){"use strict";var i=r(n(2)),a=r(n(54));function r(e){return e&&e.__esModule?e:{default:e}}var o={show:function(e,t,n){i.default.dispatch({actionType:a.default.TOAST_SHOW,text:e,callback:t,time:n})}};e.exports=o},function(e,t,n){"use strict";var i=s(n(9)),a=s(n(239)),r=s(n(2)),o=s(n(32));function s(e){return e&&e.__esModule?e:{default:e}}var l=n(10).EventEmitter,c={isShow:!1,isEdit:!1,style:{left:0,top:0},contrList:[],thisContr:null};function d(e){c.isShow||(c.contrList=[]);var t=$.getMidPos(e.width,e.height);c.style.left=t.left,c.style.top=t.top,c.contrList.push(e),c.isShow=!0,c.thisContr=e,c.backColor=4}var u=(0,i.default)({},l.prototype,{init:function(e){d(e),u.emitChange()},wrapBoxEdit:function(e,t){var i=void 0,a=$.getContrId(e),r=n(0),s=n(20).getZoom()/100;if(!c.isEdit||c.isEdit&&c.thisContr.contrs[a]){if(c.isEdit||(c.contrList=[]),r.contrUpdate($.getContrId(e),{isOpen:!0},!0,!0),c.contrList.push(e),c.isEdit=!0,c.thisContr=e,t){var l=!1;e.hierarchy.forEach(function(n){var a=e.contrs[n],o=$.getElById(n);if(o&&!l){var c=$.offset(o);$.collide([t.clientX,t.clientY,1,1],[c.left,c.top,o.offsetWidth*s,o.offsetHeight*s])?(i=$.getContrId(a),r.selectChange([n],!1,!0),l=!0):r.contrUpdate(n,{isOpt:!1},!0,!0)}})}}else for(var d=!1,u=c.contrList.length-1;u>=0&&!d;u--)c.contrList[u].contrs[a]?(d=!0,c.thisContr=c.contrList[u],c.contrList.length=u+1):r.contrUpdate($.getContrId(c.contrList[u]),{isOpen:!1},!0,!0);i||o.default.change([["box",!1,"集合框体"],["wrapBox",!0],["event"],["struct"]])},wrapBoxEditOpt:function(){},wrapBoxEditOut:function(){var e=n(0);c.isEdit=!1,c.contrList.forEach(function(t){e.contrUpdate($.getContrId(t),{isOpen:!1},!0,!0)}),c.contrList=[]},insertContr:function(e,t){var n=[c.thisContr.hierarchy.indexOf(e),1].concat(t);Array.prototype.splice.apply(c.thisContr.hierarchy,n)},cancelMergeBoxShow:function(){c.isShow=!1},getMergeBoxShow:function(){return c.isShow||c.isEdit},getMergeBoxIn:function(){return c.isShow},getIsWrapEdit:function(){return c.isEdit},setIsWrapEdit:function(e){c.isEdit=e},getContrsArr:function(){var e=n(0),t=[],i=u.getContrs();for(var a in i){var r=i[a];t.push(e.getAllValsContr({contrKey:r}))}return t},getHierarchyContrsArr:function(){for(var e=[],t=c.thisContr.hierarchy,n=0;n<t.length;n++)e.push(c.thisContr.contrs[t[t.length-1-n]]);return e},getContrList:function(){return c.contrList},initContrList:function(){var e=n(0);c.contrList.forEach(function(t){e.contrUpdate($.getContrId(t),{isOpen:!1},!0,!0)}),c.contrList=[]},setContrList:function(e){c.contrList=e},getContrListKey:function(){return c.contrList.map(function(e){return $.getContrId(e)})},hierarchyAddContr:function(e){c.thisContr.hierarchy.splice(0,0,e)},getContrs:function(){return c.thisContr.contrs},getThisContr:function(){return c.thisContr},changeMergeContr:function(e){var t=!1,n=$.getContrId(e);c.contrList.every(function(e,i){return $.getContrId(e)!=n||(t=i,!1)}),!1!==t&&(c.contrList[t]=e),c.thisContr&&$.getContrId(c.thisContr)==n&&(c.thisContr=e)},setRedoThisContr:function(e){var t=$.getMidPos(e.width,e.height);c.style.left=t.left,c.style.top=t.top,c.thisContr=e,u.emitChange()},setRedoContrList:function(){},setThisContr:function(e){var t=$.getMidPos(e.width,e.height);c.style.left=t.left,c.style.top=t.top,c.thisContr=e,c.backColor=4},getMergeBoxBackColor:function(){return c.backColor},getMergeBoxHierarchy:function(){return c.thisContr.hierarchy},getStyle:function(){return c.style},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});r.default.register(function(e){switch(e.actionType){case a.default.MERGEBOX_MOVE:i=e.left,r=e.top,c.style.left=i,c.style.top=r,u.emitChange();break;case a.default.MERGEBOX_INIT:d(e.initContr),u.emitChange();break;case a.default.MERGEBOX_BACKCOLOR:n=e.color,c.backColor=n,u.emitChange();break;case a.default.MERGEBOX_THISCONTR:t=e.option,c.thisContr=$.extend(c.thisContr,t),u.emitChange()}var t,n,i,r}),e.exports=u},,function(e,t,n){"use strict";var i=o(n(9)),a=o(n(71)),r=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(10).EventEmitter,l={left:0,top:0},c={left:0,top:0};if(window.isPc){var d=$.getMidPosi(),u=parseInt(window.pSize),f=(d[2]-u-45)/2;c={left:66+(f>0?f:0),top:66}}var h={left:0,top:0},p=void 0,g=[0,0],m=!1,v=!1,y=null;function w(e){var t=n(8).isMultiFixed();v=!!$.isUndefined(e.optimization)||e.optimization,e.autoOff&&(y&&clearTimeout(y),y=setTimeout(function(){v=!1,C.emitChange()},800)),$.isUndefined(e.left)||(c.left=parseInt(e.left)),$.isUndefined(e.top)||(c.top=parseInt(e.top)),t&&(c.top=$.setRegion(c.top,e.minTop,0)),m&&$.removePhoneConBoxTrans(null,null,!0),e.transition&&$.setPhoneConBoxTrans("trans300")}var C=(0,i.default)({},s.prototype,{savePrevPos:function(){l={left:c.left,top:c.top}},setTransition:function(e){m=e},getOptimizationTimer:function(){return y},changePrevPos:function(e){l.left+=parseInt(e.left),l.top+=parseInt(e.top)},replacePrevPos:function(){$.extend(c,l),n(8).isMultiFixed()&&(c.left=0)},getCurPos:function(){return c},saveBeforeMovePos:function(){h={left:c.left,top:c.top}},getDspl:function(){return[c.left-h.left,c.top-h.top]},savePageMoveDspl:function(e){g=e},getPageMoveDspl:function(){return g},changePos:function(e,t){w(e),t||C.emitChange()},setCenter:function(e){var t=[e.activePage.left,e.activePage.top];if(e.isFixedView){var i=$.getElById(e.activePage.id);i&&(t=[i.offsetLeft,i.offsetTop])}var a=t[0]+c.left+(e.activePage.isLandscape?window.phoneSize.height:window.phoneSize.width)/2,r=t[1]+c.top+((e.activePage.isLandscape?window.phoneSize.width:window.phoneSize.height)-40)/2,o=C.setPageCenter(e.activePage.isLandscape);if(e.isMultiFixed){var s=n(8).getZoom();c.top+=o.top/s-r,c.top=$.setRegion(c.top,e.minTop,0)}else c.left+=o.left-a,c.top+=o.top-r;c.left=parseInt(c.left),c.top=parseInt(c.top),e.noEmit||C.emitChange()},emitChange:function(){this.emit("change")},setPageCenter:function(e){var t=e?window.phoneSize.width:window.phoneSize.height;return{left:window.document.body.clientWidth/2,top:$.midMainboxPosi(e).top+t/2}},resetFixedViewPos:function(){p||(p={}),p.left=c.left,p.top=c.top,c.left=0,c.top=0},resetFreeViewPos:function(){p&&(c.left=p.left,c.top=p.top)},getOptimization:function(){return v},optimizationOn:function(){v=!0},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});r.default.register(function(e){switch(e.actionType){case a.default.PHONECONBOX_MOVE:c.left==e.options.left&&c.top==e.options.top||(w(e.options),C.emitChange());break;case a.default.PHONECONBOX_OPTIMIZATIONOFF:v=!1,C.emitChange();break;case a.default.PHONECONBOX_OPTIMIZATIONON:v=!0,C.emitChange()}}),e.exports=C},function(e,t,n){"use strict";var i=T(n(1)),a=T(n(232)),r=T(n(258)),o=T(n(256)),s=T(n(255)),l=T(n(254)),c=T(n(252)),d=T(n(251)),u=T(n(250)),f=T(n(0)),h=T(n(20)),p=T(n(8)),g=T(n(13)),m=T(n(17)),v=T(n(26)),y=T(n(56)),w=T(n(18)),C=T(n(30)),_=T(n(85)),b=T(n(57)),S=T(n(88)),x=n(103),E=n(102);function T(e){return e&&e.__esModule?e:{default:e}}var I={tl:"lX",ml:"lX",bl:"lX",tr:"rX",mr:"rX",br:"rX"},P={tl:"tY",tm:"tY",tr:"tY",bl:"bY",bm:"bY",br:"bY"},A=[["lX","lX"],["mX","mX"],["rX","rX"],["lX","rX"],["rX","lX"]],O=[["tY","tY"],["mY","mY"],["bY","bY"],["tY","bY"],["bY","tY"]],k=["lX","mX","rX"],L=["tY","mY","bY"],M={createContr:function(e,t,n,a,h,g,m,v){var y=p.default.getViewMode(),w=$.getContrId(e),C=void 0,_={key:w+(a?"_startState":""),i:"symbolLib"==e.type||"isInLib"==h&&"symbol"!=e.type?e:f.default.getAllValsContr({contrKey:e.isDragContr||e.id&&$.isUndefined(e.interfaceId)?e:w,changeThisContr:e.isDragContr,type:e.isDragContr?"drag":g?"hover":a?"start":void 0,symbolChild:v})};if(e.isDragContr&&e.isDragPosi&&$.extend(!0,_.i,e.isDragPosi),!_.i.isDelete&&_.i.isShow||!$.isContrShow(_.i,y)||(_.i.getAllvals||(_.i=$.extend(!0,{},_.i)),_.i.opacity=0),$.isContrShow(_.i,y))return n&&(_.isWrap=n),a&&(_.isStartState=a),h&&(_.specialType=h),t&&(_.contrastContr=t),g&&(_.isHover=g),m&&(_.isInSymbol=m),v&&(_.symbolChild=v),_.contrId=w+(_.isStartState?"_startState":"")+(_.specialType&&"preview"!==_.specialType?"_"+_.specialType:""),"text"==_.i.type?C=i.default.createElement(r.default,_):"icon"==_.i.type?C=i.default.createElement(o.default,_):"table"==_.i.type?C=i.default.createElement(s.default,_):"image"==_.i.type?C=i.default.createElement(l.default,_):"wrapbox"==_.i.type?C=i.default.createElement(c.default,_):"symbol"==_.i.type||"symbolLib"==_.i.type?C=i.default.createElement(d.default,_):"hotspot"==_.i.type&&"edit-view"!=y&&(C=i.default.createElement(u.default,_)),C},getmDivCoverEvent:function(e){return e?{onDoubleClick:M._mDivDoubleClickStart}:{onDoubleClick:M._mDivDoubleClick}},_mDivDoubleClickStart:function(){var e=f.default.getContrastContr(),t=f.default.getContrState(e);f.default.selectChange([$.getContrId(e)],!1,!0),C.default.selectState(t.startState)},_mDivDoubleClick:function(e){var t=$(e.currentTarget.parentNode),n=w.default.getSymbolParentKeyArr(t);g.default.getMergeBoxShow()&&(g.default.wrapBoxEditOut(),g.default.emitChange()),f.default.selectContr($.getParentAttr(e.currentTarget,"data-id"),void 0,n),e.stopPropagation()},_coverDoubleClick:function(e){var t=f.default.getSelect();if(1==t.length){var n=t[0].split("_")[0];if("wrapbox"==n)a.default.init(e,t[0]);else if("text"==n)$.isTextLine(t[0])||$.getElById("textLabel").click();else if("image"==n){var i=$.getElById("cutImageLabel");i&&i.click()}else if("symbol"==n){var r=f.default.getContrByAll(t[0]),o={clientX:e.clientX,clientY:e.clientY,target:e.target,stopPropagation:e.stopPropagation};if(10!=r.scale){var s=$.offset(e.currentTarget);o.clientX=s.left+10*(o.clientX-s.left)/r.scale,o.clientY=s.top+10*(o.clientY-s.top)/r.scale}$.getElById("symbolLabel").click(),setTimeout(function(){(0,x.mouseDown)(o),(0,E.mouseUp)(o)},0)}else"icon"==n&&$.getElById("iconLabel").click()}else t.length>1&&C.default.selectChange([e.target.parentNode.id]);e.stopPropagation()},_coverContextMenu:function(e){var t=[["复制 ["+window.hotKey.command+"+c]",function(){window.Mousetrap.trigger(window.hotKey.command+"+c")}],["剪切 ["+window.hotKey.command+"+x]",function(){window.Mousetrap.trigger(window.hotKey.command+"+x")}],["删除 [delete]",function(){window.Mousetrap.trigger(window.hotKey.delete)}]],n=f.default.getSelect();if(window.localStorage.copy&&t.splice(1,0,["粘贴 ["+window.hotKey.command+"+v]",function(){$("body").trigger("paste")}]),n.length>1)t.push(["进行合并 ["+window.hotKey.command+"+g]",function(){C.default.createWrapboxContr()}]);else if(1==n.length)if(t.push(["保存 ["+window.hotKey.command+"+s]",function(){$.getElById("saveControl").click()}]),"wrapbox"==n[0].split("_")[0])t.push(["进行分解 ["+window.hotKey.command+"+shift+g]",function(){C.default.wrapResolve()}]),t.push(["集合编辑 [双击]",function(){$.getElById("wrapBoxLabel").click()}]);else if("text"==n[0].split("_")[0])$.isTextLine(n[0])||t.push(["文本编辑 [双击]",function(){$.getElById("textLabel").click(),setTimeout(function(){$.query(".opt.cDiv textarea").focus()},0)}]);else if("image"==n[0].split("_")[0]){var i=f.default.getFirstSelectContr();$.isDefaultImg(i.src)||t.push(["图片编辑 [双击]",function(){var e=$.getElById("cutImageLabel");e&&e.click()}]),t.push(["替换原图",function(){$.getElById("changeImgBtn").click()}]),$.isDefaultImg(i.src)||t.push(["下载原图",function(){window.open((-1!=i.src.indexOf("userImages")||-1!=i.src.indexOf("static")||-1!=i.src.indexOf("images")?window.imgUrl:"")+i.src)}])}else"icon"==n[0].split("_")[0]&&t.push(["图标编辑 [双击]",function(){$.getElById("iconLabel").click()}]);b.default.rightMenuUpdate({left:e.clientX,top:e.clientY,content:t}),e.stopPropagation(),e.preventDefault()},_coverDoubleClickStart:function(){var e=f.default.getContrastContr(),t=f.default.getContrState(e);f.default.selectChange([$.getContrId(e)],!1,!0),C.default.selectState(t.startState),p.default.setAutoSaveChangePages("__pageContrs",!0)},_coverContextMenuStart:function(e){b.default.rightMenuUpdate({left:e.clientX,top:e.clientY,content:[["交换对比状态 [双击]",function(){var e=f.default.getContrastContr(),t=f.default.getContrState(e);f.default.selectChange([$.getContrId(e)],!1,!0),C.default.selectState(t.startState),p.default.setAutoSaveChangePages("__pageContrs",!0)}]]}),e.stopPropagation(),e.preventDefault()},getCoverEvent:function(e){return"edit-view"==p.default.getViewMode()?{}:e?{onDoubleClick:M._coverDoubleClickStart,onMouseDown:$.stopPropagation,onContextMenu:M._coverContextMenuStart}:{onDoubleClick:M._coverDoubleClick,onContextMenu:M._coverContextMenu,onMouseDown:M._coverMouseDown}},_coverMouseDown:function(e){var t=h.default.getZoom(),n=e,i=[],a=$.getParentAttr(e.currentTarget,"data-id"),r=void 0,o=void 0,s=void 0,l=void 0,c=void 0,d=void 0,u=f.default.getSelect(),p=void 0,g=void 0,w=void 0,b=void 0,x=void 0,E=void 0,T=void 0,I=void 0,P=new Date,A=e.altKey;1===u.length&&u[0]==a||A||(M._contrSelect(a,u),1==(u=f.default.getSelect()).length&&u[0]!=a&&(a=u[0]));var O=f.default.getContrByAll(a),k=u.length>1;if(A){var L=[e.clientX,e.clientY],D=f.default.getAllValsContr({contrKey:$.extend(!0,{},O),notCopy:!0,changeThisContr:!0});!D.mergeName||D.states&&$.objLength(D.states)>0||f.default.getAllValsChildContr(D),"symbol"==D.type&&10!=D.scale&&(D.width=Math.round(D.scale*D.width/10),D.height=Math.round(D.height*D.scale/10)),$.exitCutImage(),S.default.init({type:"myContr",posi:L,contr:D,isAlt:!0}),$.setDrag({name:"myContrDragAdd",posi:L,target:n,moveFunc:function(e){S.default.move({posi:[e.clientX,e.clientY]})},endFunc:function(){var e=v.default.getContrPosi(),t={contr:O},n=void 0;e?(n=$.extend(!0,{},t.contr),$.changeContrPosiAllState(n,e,t),$.isUndefined(n.isDragContr)||delete n.isDragContr,$.isUndefined(n.isDragPosi)||delete n.isDragPosi,v.default.hide(),!n.mergeName||n.states&&$.objLength(n.states)>0||f.default.getAllValsChildContr(n),C.default.pasteContr([n],void 0,!0)):v.default.hide()}})}else{if(window.isKeyDown.isShift,s=f.default.getParentRotateVals(!1,!0),1==u.length?(c=f.default.getSelectContr(),O=f.default.getAllValsContr({contrKey:$.extend(!0,{},O),notCopy:!0}),o=[Math.round(O.left),Math.round(O.top)],b="null"!=O.mergeName&&O.mergeName):(c=f.default.getSelectContr(),d=$.getSeveralElPosition(c),c.forEach(function(e){e=f.default.getAllValsContr({contrKey:e}),i.push([Math.round(e.left),Math.round(e.top)])}),b="null"!=c[0].mergeName&&c[0].mergeName),b&&(g=$.extend(!0,{},f.default.getContrByAll(b)),g=f.default.getAllValsContr({contrKey:g,notCopy:!0}),w="0"==g.rotate?g:$.getRotateBoxPosi(!1,g),x=g.independWH)){for(var N in T=[],g.contrs)T.push(g.contrs[N]);E=$.getPosiByContrs(T),I=$.getMaxPosi(E)}r=x?[]:M.getInterfaceContr(a,u),l=$.rotateToAngle(s.rotate),y.default.initDragOption({contrs:r}),O&&O.isLock?O.isLock&&($.addAttention("lockToggle",!0),$.setDrag({name:"contrLockCover",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){_.default.moveTipUpdate({left:e.clientX+50,top:e.clientY-50,text:"组件已锁定"})},endFunc:function(){_.default.show(!1)}})):$.setDrag({name:"contrCoverMove",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){if((new Date).getTime()-P.getTime()<100)return!1;var n=void 0,r=[0,0],s=[0,0],c=void 0,h=void 0,m=[100*(e.clientX-window.mouseDownTarget.posi[0])/t,100*(e.clientY-window.mouseDownTarget.posi[1])/t],v=0;if(1==u.length){if(m=$.angleChangeArrVals(m,l),O.left=o[0]+m[0],O.top=o[1]+m[1],c=$.getContrPosi(O),$.isDependBottomContr(O)?(h=$.extend(!0,{},c),v=$.getDependBottomVal(),h.top+=v):h=c,s=M._redLine(h),"0"!=O.rotate){var y=$.rotateChangePosiVal([O.width+2,O.height+2],O.rotate);p=[c.left+s[0]-y.left,c.top+s[1]-y.top]}else p=[c.left+s[0],c.top+s[1]];if(x){var b=E[a];b[0]=p[0],b[1]=p[1];var S=$.getMaxPosi(E);if(r=[I.left-S.left,I.top-S.top],window.isKeyDown.isShift){var T=[Math.abs(r[0]),Math.abs(r[1])];T[0]<T[1]?r[0]=0:r[1]=0}for(var A in C.default.contrPosi({key:$.getContrId(g),width:S.width,height:S.height,left:w.left-r[0],top:w.top-r[1]},!0),E){var k=E[A];C.default.moveContr(A,[k[0]+r[0],k[1]+r[1]],!0)}f.default.emitChange()}else{if(window.isKeyDown.isShift){var L=[Math.abs(p[0]-o[0]),Math.abs(p[1]-o[1])];L[0]<L[1]?p[0]=o[0]:p[1]=o[1]}C.default.moveContr(a,p)}if("0"!=O.rotate){var D={left:O.left,top:O.top,width:O.width,height:O.height,type:O.type,rotate:O.rotate};$.extend(!0,D,{left:p[0]+r[0],top:p[1]+r[1]});var N=$.getRotateBoxPosi(!1,D);n="x:"+Math.round(N.left)+" y:"+Math.round(N.top+v)}else n="x:"+Math.round(p[0]+r[0])+" y:"+Math.round(p[1]+r[1]+v)}else{if(s=M._redLine({left:d.left+m[0],top:d.top+m[1],width:d.width,height:d.height}),s=[m[0]+ +s[0],m[1]+ +s[1]],window.isKeyDown.isShift){var B=[Math.abs(s[0]),Math.abs(s[1])];B[0]<B[1]?s[0]=0:s[1]=0}if(x){u.forEach(function(e,t){var n=E[e];n[0]=i[t][0]+s[0],n[1]=i[t][1]+s[1]});var R=$.getMaxPosi(E);if(r=[I.left-R.left,I.top-R.top],window.isKeyDown.isShift){var U=[Math.abs(r[0]),Math.abs(r[1])];U[0]<U[1]?r[0]=0:r[1]=0}for(var H in C.default.contrPosi({key:$.getContrId(g),width:R.width,height:R.height,left:w.left-r[0],top:w.top-r[1]},!0),E){var V=E[H];C.default.moveContr(H,[V[0]+r[0],V[1]+r[1]],!0)}}else u.forEach(function(e,t){C.default.moveContr(e,[i[t][0]+s[0],i[t][1]+s[1]],!0,[s[0],s[1]])});f.default.emitChange(),n="x:"+Math.round(d.left+s[0]+r[0])+" y:"+Math.round(d.top+s[1]+r[1])}_.default.moveTipUpdate({left:e.clientX+50,top:e.clientY-50,text:n})},endFunc:function(){if((new Date).getTime()-P.getTime()<100)return!1;y.default.init(),_.default.show(!1),k?Math.round(c[0].left)==i[0][0]&&Math.round(c[0].top)==i[0][1]||m.default.createData({type:"contrMove",name:"[多个组件] 位置改变",handleObjType:"mutiContrs",autoSaveType:"pageContrs"}):p&&(Math.round(p[0])==o[0]&&Math.round(p[1])==o[1]||m.default.createData({type:"contrMove",name:"["+O.name+"] 位置改变",handleObjType:O.type,autoSaveType:"pageContrs"}))}})}e.stopPropagation(),e.preventDefault()},getInterfaceContr:function(e,t){var n=void 0,i=g.default.getThisContr(),a=g.default.getMergeBoxShow(),r=g.default.getIsWrapEdit();if(t||(t=f.default.getSelect()),1==t.length&&i&&$.getContrId(i)==e&&t[0]==e&&f.default.selectChange([e]),i&&(i=f.default.getAllValsContr({contrKey:i})),n=a&&$.getContrId(i)!=e?g.default.getContrsArr():w.default.getSymbolMaskShow()?f.default.getThisSymbolChildContr(!0):f.default.getActiveInterface(),!a||r)if(r)n.push({type:i.type,id:i.id,left:0,top:0,width:i.width,height:i.height});else if(w.default.getSymbolMaskShow()){var o=w.default.getSymbolMaskContr();n.push({type:"symbolBox",id:o.id,left:0,top:0,width:o.width,height:o.height})}else $.addMainbox(n);else n.push({type:"mergeBox",left:0,top:0,width:i.width,height:i.height});return n=n.filter(function(e){return-1==t.indexOf($.getContrId(e))})},_redLine:function(e){var t=void 0,n=y.default.getDragOption(),i={minVal:n.minSize+1,minContr:[],vals:[]},a={minVal:n.minSize+1,minContr:[],vals:[]},r={vals:[],contrs:[]},o={vals:[],contrs:[]},s=void 0,l=void 0,c="lX"==I[n.dragPointKey]?1:-1,d="tY"==P[n.dragPointKey]?1:-1;t=n.isWrapEdit&&!n.isWrapBox?$.getContrLinePosi(e,n.parentPosi,n.isRotate):$.getContrLinePosi(e,void 0,n.isRotate),n.isSymbolWH&&("width"==n.isSymbolWH?s=!0:"height"==n.isSymbolWH&&(l=!0)),!p.default.getView().isGuide||s||l||(n.thisGuideLineX.forEach(function(a){var o=Math.round(a.value*window.ss),s=parseInt(n.isMergeIn?o-1:o);k.forEach(function(a){e.width-(s-t[a])*c>=n.minWHarr[0]&&(!n.dragPointKey||n.dragPointKey&&I[n.dragPointKey]==a?Math.abs(s-t[a])<Math.abs(i.minVal)?(i.minVal=s-t[a],i.vals=[s]):s-t[a]==i.minVal&&i.minVal!=n.minSize+1&&-1==i.vals.indexOf(s)&&i.vals.push(s):Math.abs(s-t[a])<1&&-1==r.vals.indexOf(s)&&r.vals.push(s))})}),n.thisGuideLineY.forEach(function(i){var r=Math.round(i.value*window.ss),s=parseInt(n.isMergeIn?r-1:r);L.forEach(function(i){e.height-(s-t[i])*d>=n.minWHarr[1]&&(!n.dragPointKey||n.dragPointKey&&P[n.dragPointKey]==i?Math.abs(s-t[i])<Math.abs(a.minVal)?(a.minVal=s-t[i],a.vals=[s]):s-t[i]==a.minVal&&a.minVal!=n.minSize+1&&-1==a.vals.indexOf(s)&&a.vals.push(s):Math.abs(s-t[i])<1&&-1==o.vals.indexOf(s)&&o.vals.push(s))})})),n.contrs.forEach(function(u){$.isContrShow(u,n.viewMode)&&function(){var f=void 0,h=n.isWrapEdit&&"mainBox"!=u.type&&"symbolBox"!=u.type?$.getContrLinePosi(u,n.parentPosi):$.getContrLinePosi(u);if(f="mainBox"==u.type?u.type+u.id:"mergeBox"==u.type&&n.isMergeIn?"mainBoxBorderEditor":u.isOpt?u.type+"_"+u.id+"_startState":u.type+"_"+u.id,n.isRotate){var p=function(c){var d=parseInt(h[c]);-1!==k.indexOf(c)?l||s&&"rX"!=c||k.forEach(function(a){(("mX"==c||"mX"==a)&&"mX"==c&&"mX"==a||"mX"!=c&&"mX"!=a)&&(e.width-(d-t[a])>=n.minWHarr[0]?Math.abs(d-t[a])<Math.abs(i.minVal)?(i.minContr=[f],i.minVal=d-t[a],i.vals=[d]):d-t[a]==i.minVal&&i.minVal!=n.minSize+1&&(-1==i.minContr.indexOf(f)&&i.minContr.push(f),-1==i.vals.indexOf(d)&&i.vals.push(d)):d-t[a]<1&&(-1==r.contrs.indexOf(f)&&r.contrs.push(f),-1==r.vals.indexOf(d)&&r.vals.push(d)))}):s||l&&"bY"!=c||L.forEach(function(i){(("mY"==c||"mY"==i)&&"mY"==c&&"mY"==i||"mY"!=c&&"mY"!=i)&&(e.height-(d-t[i])>=n.minWHarr[1]?Math.abs(d-t[i])<Math.abs(a.minVal)?(a.minContr=[f],a.minVal=d-t[i],a.vals=[d]):d-t[i]==a.minVal&&a.minVal!=n.minSize+1&&(-1==a.minContr.indexOf(f)&&a.minContr.push(f),-1==a.vals.indexOf(d)&&a.vals.push(d)):Math.abs(d-t[i])<1&&(-1==o.contrs.indexOf(f)&&o.contrs.push(f),-1==o.vals.indexOf(d)&&o.vals.push(d)))})};for(var g in h)p(g)}else l||A.forEach(function(a){var o=parseInt(h[a[0]]);e.width-(o-t[a[1]])*c>=n.minWHarr[0]&&(!n.dragPointKey||n.dragPointKey&&I[n.dragPointKey]==a[1]?Math.abs(o-t[a[1]])<Math.abs(i.minVal)?(i.minContr=[f],i.minVal=o-t[a[1]],i.vals=[o]):o-t[a[1]]==i.minVal&&i.minVal!=n.minSize+1&&(-1==i.minContr.indexOf(f)&&i.minContr.push(f),-1==i.vals.indexOf(o)&&i.vals.push(o)):(Math.abs(o-t[a[1]])<1||"mX"==a[1]&&Math.abs(o-t[a[1]])<n.minSize)&&(-1==r.contrs.indexOf(f)&&r.contrs.push(f),-1==r.vals.indexOf(o)&&r.vals.push(o)))}),s||O.forEach(function(i){var r=parseInt(h[i[0]]);e.height-(r-t[i[1]])*d>=n.minWHarr[1]&&(!n.dragPointKey||n.dragPointKey&&P[n.dragPointKey]==i[1]?Math.abs(r-t[i[1]])<Math.abs(a.minVal)?(a.minContr=[f],a.minVal=r-t[i[1]],a.vals=[r]):r-t[i[1]]==a.minVal&&a.minVal!=n.minSize+1&&(-1==a.minContr.indexOf(f)&&a.minContr.push(f),-1==a.vals.indexOf(r)&&a.vals.push(r)):(Math.abs(r-t[i[1]])<1||"mY"==i[1]&&Math.abs(r-t[i[1]])<n.minSize)&&(-1==o.contrs.indexOf(f)&&o.contrs.push(f),-1==o.vals.indexOf(r)&&o.vals.push(r)))})}()});var u=$.arrayUnique(i.vals.concat(r.vals)),f=$.arrayUnique(a.vals.concat(o.vals));return y.default.change({redLineX:u,redLineY:f},function(){[].slice.call(window.document.querySelectorAll(".redLineC")).forEach(function(e){$.removeClass(e,"redLineC")}),$.arrayUnique(i.minContr.concat(r.contrs).concat(a.minContr).concat(o.contrs)).forEach(function(e){$.addClass($.query("#middlePanel #"+e),"redLineC")})}),[Math.abs(i.minVal)<n.minSize+1&&i.minVal,Math.abs(a.minVal)<n.minSize+1&&a.minVal]},_contrSelect:function(e,t){-1==t.indexOf(e)?window.isKeyDown.isShift?f.default.getContr(e).isLock||1==t.length&&f.default.getFirstSelectContr().isLock?C.default.selectChange([e]):1==t.length&&"wrapbox"==t[0].split("_")[0]&&f.default.getContrByAll(t[0]).contrs[e]?C.default.selectChange([e]):"wrapbox"==e.split("_")[0]&&g.default.getIsWrapEdit()&&$.getContrId(g.default.getThisContr())==e?C.default.selectChange([e]):(t.push(e),C.default.selectChange(t)):C.default.selectChange([e]):window.isKeyDown.isShift&&(t.remove(e),C.default.selectChange(t))},getEventTag:function(e){var t=void 0;if("edit-view"!=p.default.getViewMode()&&e.events)for(var n in e.events)if(!e.events[n].disable){t=i.default.createElement("div",{className:"event-tag tool-img contr-tag",onClick:function(){C.default.selectChange([$.getContrId(e)],"event")},onMouseDown:$.stopPropagation});break}return t},getAnimTag:function(e){var t=void 0;return"edit-view"!=p.default.getViewMode()&&e.isStateContrast&&(t=i.default.createElement("div",{className:"anim-tag tool-img contr-tag",onClick:function(){C.default.selectChange([$.getContrId(e)]),setTimeout(function(){$.getElById("animPreviewBtn").click()},0)},onMouseDown:$.stopPropagation})),t},getImageNode:function(e,t){var n=void 0,a=void 0,r=$.rotateToAngle(e.rotate);if(t)a={width:e.cutVals?e.cutVals.boxWidth:"100%",height:e.cutVals?e.cutVals.boxHeight:"100%"};else{var o=$.getCutBgImgPosi(e.cutVals,r,!0);a={left:o.left,top:o.top,width:e.cutVals&&!$.isUndefined(e.cutVals.boxWidth)?e.cutVals.boxWidth:e.width,height:e.cutVals&&!$.isUndefined(e.cutVals.boxHeight)?e.cutVals.boxHeight:e.height,WebkitFilter:$.getFilter(e.filter)}}if(e.layers&&!e.isSvg){var s=[];e.layers.forEach(function(e,t){s.push(i.default.createElement("path",{d:e.path,key:e.type+t}))}),n=i.default.createElement("div",{className:"cImg",style:a},i.default.createElement("svg",{fill:e.hasBackColor?e.backColor:"rgba(0, 0, 0, 0)",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",version:"1.1"},s))}else-1!=e.src.indexOf("defaultImg")?(a.backgroundColor=e.hasBackColor?e.backColor:"#d9d9d9",n=i.default.createElement("div",{className:"cImg default-img material-icons",style:a})):(a.backgroundImage="url("+(-1!=e.src.indexOf("userImages")||-1!=e.src.indexOf("static")||-1!=e.src.indexOf("images")?window.imgUrl:"")+e.src+")",e.isSvg&&e.svgToGray&&(e.filter?(e.filter.saturate=0,a.WebkitFilter=$.getFilter(e.filter)):a.WebkitFilter="saturate(0)"),n=i.default.createElement("div",{className:"cImg",title:e.oriName,style:a}));return n},getStyles:function(e,t,n,i){var a=t?[]:n,r={};switch(t){case"box":a=["width","height","left","top","rotate"];break;case"textBox":a=["opacity","radius","backColor","insetBorder","shadow"]}return a.forEach(function(t){$.extend(r,M.getSingleStyle(e,t,i))}),r},getSingleStyle:function(e,t,n){var i={};switch(t){case"rotate":i.transform="rotate("+e.rotate+"deg)";break;case"opacity":i.opacity=e.opacity/100;break;case"radius":i.borderRadius=e.isMaxRadius?Math.ceil(Math.min(e.width,e.height)/2):Math.ceil(e.radius);break;case"backColor":e.gradientColor&&e.hasBackColor?i.background=e.gradientColor:i.background=e.hasBackColor?e.backColor:"none";break;case"insetBorder":i.border=e.insetBorder&&null!==(e.insetBorder&&e.insetBorder[0])?Math.ceil(e.insetBorder[1])+"px solid "+e.insetBorder[0]:"none";break;case"border":case"shadow":var a=e.border||e.border&&e.border[1]?" 0 0 0 "+e.border[1]+"px "+e.border[0]:"",r=e.border&&!$.isUndefined(e.shadow)&&"0"!=e.shadow?"0px "+e.shadow+"px "+e.shadow+"px "+(e.border[1]?e.border[1]:0)+"px rgba(0,0,0,0.5)":"";i.boxShadow=a||r?a+(a&&r?",":"")+r:"none";break;case"outerHidden":i.overflow=!e.independWH&&e.outerHidden?"hidden":"visible";break;case"filter":i.WebkitFilter=$.getFilter(e.filter);break;case"left":case"top":i[t]=Math.round(("top"==t?$.getDependBottomTopVal(e):e[t])+(n?1:0));break;case"height":case"width":i[t]=Math.round(e[t]);break;default:i[t]=e[t]}return i}};e.exports=M},function(e,t,n){"use strict";var i=d(n(9)),a=d(n(2)),r=d(n(238)),o=d(n(32)),s=d(n(33)),l=d(n(35)),c=d(n(18));function d(e){return e&&e.__esModule?e:{default:e}}var u=n(10).EventEmitter,f=0,h=[],p=["changeToMultiView","createCopyPage","createSelectCopyPage","createPage","pageMove","interfaceAlign","deletePage","deleteFolder","createFolder","fixedMovePage","fixedMoveFolder","changeFolder"],g=["useOriginEvent","saveAddEventChange","saveEditEventChange","deleteEventOneAction"],m=["trTime","trDelay","trDelayOneContr","trTimeOneContr","trDelayTimeOneContr","bottomSelectState","bottomSelectStartState","bottomReverse"],v=["pageBackColorChange"],y=["projectInit"];function w(e){var t=n(8),i=n(0),a=n(13),r=$.midMainboxPosi(),l=(0!=--f||window.noNew||$.getUrlParam("type")&&$.getUrlParam("id"))&&h[f-1]?h[f-1]:{type:"createContr",contrs:[],box:[1],boxObj:{active:!0,key:1,id:"mainBox1",left:r.left,top:r.top+20,name:"页面 1",backColor:"rgba(255, 255, 255, 1)",isShow:!0,new:!1,grid:!0,events:["enter","exit"],hierarchy:[]},selectContr:[]},d=h[f];if($.isUndefined(d)&&console.log(f,h),"deletePageNotMutiview"==d.type){var u=$.query(".struct-tab.page-tab");t.setStructHierarchy($.extend(!0,[],d.structHierarchy)),t.changePages($.extend(!0,{},d.pages)),t.resetPagePos(),i.selectChange([]),t.emitPageStructChange(),u&&$.hasClass(u,"active")&&o.default.emitChange()}else if("changeFolderNotMutiview"==d.type){var g=$.query(".struct-tab.page-tab");t.setStructHierarchy($.extend(!0,[],d.oldStructHierarchy)),t.resetPagePos(),t.emitPageStructChange(),g&&$.hasClass(g,"active")&&o.default.emitChange()}else if("deleteFolderNotMutiview"==d.type){var m=$.query(".struct-tab.page-tab");t.setStructHierarchy($.extend(!0,[],d.oldStructHierarchy)),t.changePages($.extend(!0,{},d.oldPages)),d.activePage&&t.choosePage(+d.activePage),t.resetPagePos(),t.emitPageStructChange(),m&&$.hasClass(m,"active")&&o.default.emitChange()}else if("createNotMutiviewPage"==d.type){var y=$.extend(!0,{},d.pages),w=$.extend(!0,[],d.structHierarchy),C=$.query(".struct-tab.page-tab");delete y[d.addPage],t.choosePage(+d.lastPage),y[d.lastPage].active=!0,t.setStructHierarchy(w);var b=t.findStructFolder(d.addPage,"page");b.hierarchy.splice(b.index,1),t.changePages(y),t.resetPagePos(),t.emitPageStructChange(),C&&$.hasClass(C,"active")&&o.default.emitChange()}else if(-1!=p.indexOf(l.type)){var S=$.getElById("structSetting");"multi-view"!=t.getViewMode()&&t.zoomOut(),t.setStructHierarchy($.extend(!0,[],l.structHierarchy)),t.changePages($.extend(!0,{},l.pages)),S&&o.default.emitChange()}else"multi-view"==t.getViewMode()&&l.box&&1==l.box.length||l.box&&1==l.box.length&&t.getActivePage()!=l.box[0]?t.choosePage(l.box[0]):"changeToMergeBox"==h[f].type?i.backMergeBox():"backMergeBox"==h[f].type||"saveMergeBox"==h[f].type?a.init(i.getContrByAll(l.box[l.box.length-1])):"changeToCutImage"==h[f].type?s.default.exit():"backFromCutImage"==h[f].type&&s.default.init(l.selectContr[0]),d.symbolContrsChange&&i.setSaveDateSymbolContr(d.symbolContrsChange,!0),l.contrs&&i.changeContr(l,!0,!0,e),l.symbolMask&&c.default.setSymbolMaskData(l.symbolMask,!0),l.contrs&&(-1!=v.indexOf(d.type)&&t.emitPagesChange(),"pageLandscapeChange"==d.type&&t.choosePage(l.boxObj.key),t.addRedoUndoEmitArr("ContrStore.emitMustChange"));_(l,d)}function C(e){var t=h[f],i=n(8),a=n(0),r=n(13);if("deletePageNotMutiview"==t.type){var l=$.extend(!0,{},t.pages),d=$.extend(!0,[],t.structHierarchy),u=$.query(".struct-tab.page-tab");delete l[t.deletePage],i.setStructHierarchy(d);var g=i.findStructFolder(t.deletePage,"page");g.hierarchy.splice(g.index,1),i.changePages(l),i.resetPagePos(),i.emitPageStructChange(),u&&$.hasClass(u,"active")&&o.default.emitChange()}else if("changeFolderNotMutiview"==t.type){var m=$.query(".struct-tab.page-tab");i.setStructHierarchy($.extend(!0,[],t.structHierarchy)),i.resetPagePos(),i.emitPageStructChange(),m&&$.hasClass(m,"active")&&o.default.emitChange()}else if("deleteFolderNotMutiview"==t.type){var y=$.query(".struct-tab.page-tab");i.setStructHierarchy($.extend(!0,[],t.structHierarchy)),i.changePages($.extend(!0,{},t.pages)),i.resetPagePos(),i.emitPageStructChange(),y&&$.hasClass(y,"active")&&o.default.emitChange()}else if("createNotMutiviewPage"==t.type)i.setStructHierarchy($.extend(!0,[],t.structHierarchy)),i.changePages($.extend(!0,{},t.pages)),i.choosePage(+t.addPage),i.resetPagePos(),a.selectChange([]),i.emitPageStructChange();else if(-1!=p.indexOf(t.type)){var w=$.getElById("structSetting");"multi-view"!=i.getViewMode()&&i.zoomOut(),i.setStructHierarchy($.extend(!0,[],t.structHierarchy)),i.changePages($.extend(!0,{},t.pages)),i.emitPagesChange(),w&&o.default.emitChange()}else"multi-view"==i.getViewMode()&&1==t.box.length||1==t.box.length&&i.getActivePage()!=t.box[0]?i.choosePage(t.box[0]):t&&"changeToMergeBox"==t.type?r.init(a.getContrByAll(t.box[t.box.length-1])):!t||"backMergeBox"!=t.type&&"saveMergeBox"!=t.type?t&&"changeToCutImage"==t.type?s.default.init(t.selectContr[0]):t&&"backFromCutImage"==t.type&&s.default.exit():a.backMergeBox(),t.symbolContrsChange&&a.setSaveDateSymbolContr(t.symbolContrsChange),t.contrs&&a.changeContr(t,!0,!0,e),t.symbolMask&&c.default.setSymbolMaskData(t.symbolMask,!0),t.contrs&&(-1!=v.indexOf(t.type)&&i.emitPagesChange(),"pageLandscapeChange"==t.type&&i.choosePage(t.boxObj.key),i.addRedoUndoEmitArr("ContrStore.emitMustChange"));_(t,void 0),f++}function _(e,t){var i=n(8),a=n(0),r=n(55),s=i.getActivePage(),c=t||e;a.initCache(),-1!=g.indexOf(e.type)?o.default.change([["box"],["wrapBox"],["event",!0]]):-1!=m.indexOf(e.type)&&(l.default.getFold()&&l.default.toggleFold(!0),"bottomReverse"==e.type&&l.default.reverse(),"preview"==e.viewMode&&r.setPreviewData(!0)),"normal"!=e.viewMode&&e.viewMode||"preview"!=i.getViewMode()||r.exit(),i.setRedoUndoIndex(e.otherAutoSaveIndex),c.isSymbolChange&&i.setAutoSaveChangePages("changeSymbol",void 0,!0),s&&"pageLandscapeChange"==c.type?(i.setAutoSaveChangePages("__pageContrs",!0),i.setAutoSaveChangePages("__pageVals",!0)):"changePages"==c.autoSaveType?i.setAutoSaveChangePages("changePages"):s&&"pageContrs"==c.autoSaveType?i.setAutoSaveChangePages("__pageContrs",!0):s&&"pageVals"==c.autoSaveType?i.setAutoSaveChangePages("__pageVals",!0):"changeStruct"==c.autoSaveType?i.setAutoSaveChangePages("changeStruct"):"changePagesPosi"==c.autoSaveType&&i.setAutoSaveChangePages("changePagesPosi")}var b=(0,i.default)({},u.prototype,{createData:function(e){window.isDevelop&&console.log("saveData: "+e.type,e.name),h.length!=f&&(h.length=f);var t=n(0),i=n(13),a=n(8),r=i.getMergeBoxIn(),o=a.getActivePage();if("deletePageNotMutiview"==e.type);else if("changeFolderNotMutiview"==e.type)$.extend(!0,e,{structHierarchy:a.getStructHierarchy()});else if("deleteFolderNotMutiview"==e.type)$.extend(!0,e,{pages:a.getPages(),structHierarchy:a.getStructHierarchy()});else if("createNotMutiviewPage"==e.type)$.extend(!0,e,{addPage:a.getViewTotal(),pages:a.getPages(),structHierarchy:a.getStructHierarchy()});else if("changeToMultiView"==e.type)$.extend(!0,e,{activePageKey:o,pages:a.getPages(),structHierarchy:a.getStructHierarchy()});else if(-1!=p.indexOf(e.type))$.extend(!0,e,{pages:a.getPages(),structHierarchy:a.getStructHierarchy()});else{switch(e.type){case"changeToCutImage":case"backFromCutImage":e.cutImage=$.extend(!0,{},s.default.getCutImage())}-1!=m.indexOf(e.type)&&(e.viewMode=a.getViewMode()),$.extend(e,{contrs:(r?[]:t.getActiveInterface()).map(function(e){return $.extend(!0,{},e)}),mergeEdit:i.getIsWrapEdit(),selectContr:t.getSelect()})}$.extend(e,{symbolContrsChange:t.getSymbolContrsChange()}),-1==y.indexOf(e.type)&&(e.isSymbolChange&&a.setAutoSaveChangePages("changeSymbol",void 0,!0),"changePages"==e.autoSaveType?a.setAutoSaveChangePages("changePages"):o&&"pageContrs"==e.autoSaveType?a.setAutoSaveChangePages("__pageContrs",!0):o&&"pageVals"==e.autoSaveType?a.setAutoSaveChangePages("__pageVals",!0):"changeStruct"==e.autoSaveType?a.setAutoSaveChangePages("changeStruct"):"changePagesPosi"==e.autoSaveType&&a.setAutoSaveChangePages("changePagesPosi"));var l=r?i.getThisContr():a.getActivePage(!0);$.extend(e,{box:r?$.getNewContrBox([o],$.getContrId(l)):[o],boxObj:$.extend(!0,{},l),otherAutoSaveIndex:a.getOtherAutoSaveDataLength()}),e.symbolMask=$.extend(!0,{},c.default.getSymbolMaskData()),h.push(e),f++,b.emitChange()},getSaveData:function(){return h},getSaveDataLength:function(){return h.length},getSaveDataIndex:function(){return f},historyClick:function(e){var t=n(13),i=n(8),a=h.length-f-e,r=void 0;if(a<0)for(r=0;r<Math.abs(a);r++)w(!0);else if(a>0)for(r=0;r<Math.abs(a);r++)C(!0);b.emitChange(),t.getMergeBoxShow()&&i.addRedoUndoEmitArr("MergeBoxStore.emitChange"),o.default.change([["history",!0]])},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});a.default.register(function(e){switch(e.actionType){case r.default.SAVEDATA_CREATE:break;case r.default.SAVEDATA_UNDO:w(),b.emitChange();break;case r.default.SAVEDATA_REDO:C(),b.emitChange()}}),e.exports=b},function(e,t,n){"use strict";var i=r(n(9)),a=r(n(12));function r(e){return e&&e.__esModule?e:{default:e}}var o=n(10).EventEmitter,s=["#ffffff","#000000","#808080","#D43030","#FFEB3B","#43CF7C","#2A82E4","#AC33C1"],l={isShow:!1,parentKey:null,parentPosi:null,posi:null,backColor:0,colorArr:s,thisContrKey:null,thisSymbolKey:null,parentArr:[]},c=!1,d=(0,i.default)({},o.prototype,{init:function(e,t){var i=n(15),a=n(0),r=n(13),o=[0,0];if(l.isShow){var s=$.extend(!0,{},l);delete s.isShow,delete s.parentArr,delete s.backColor,delete s.colorArr,l.parentArr.unshift(s),o=[l.posi.left,l.posi.top]}l.isShow=!0,l.thisContrKey=e;var c=d.getSymbolMaskContr();l.posi={left:c.left-o[0],top:c.top-o[1],width:c.width,height:c.height},l.thisSymbolKey=c.symbolKey,l.parentPosi=a.getParentRotateVals(!0),r.wrapBoxEditOut(),a.selectChange([],!0,!0),t||(i.emitChange(),d.emitChange())},initAll:function(){l={isShow:!1,parentKey:null,parentPosi:null,posi:null,backColor:0,colorArr:s,thisContrKey:null,thisSymbolKey:null,parentArr:[]}},isInSymbolLoop:function(e){if(!l.isShow)return!1;var t=[l.thisSymbolKey];return l.parentArr&&l.parentArr.forEach(function(e){t.push(e.thisSymbolKey)}),-1!=t.indexOf(e)},getParentArr:function(){return l.parentArr},isAddingSymbol:function(){return c},setAdding:function(e){c=e},getSymbolMaskShow:function(){return l.isShow},getIsEditSymbolChild:function(e){return-1!=d.getSymbolMaskContr().hierarchy.indexOf(e)},getSymbolMask:function(){return l},getSymbolMaskData:function(){return{isShow:l.isShow,parentArr:l.parentArr,parentKey:l.parentKey,parentPosi:l.parentPosi,posi:l.posi,thisContrKey:l.thisContrKey,thisSymbolKey:l.thisSymbolKey}},setSymbolMaskData:function(e,t){var i=n(15),r=n(0),o=$.extend(!0,{},e),s=l.isShow!=e.isShow;for(var c in o)l[c]=o[c];if(l.thisSymbolKey&&!r.getSymbol(l.thisSymbolKey,!0))return d.initAll(),setTimeout(function(){i.emitChange(),d.emitChange(),r.emitMustChange(),a.default.show("引用组件不存在！")},10),!1;setTimeout(function(){i.emitChange(),d.emitChange(),r.emitMustChange()},10),t||(d.emitChange(),r.initCache(),r.selectChange([],void 0,!0),r.emitChange(),s&&i.emitChange())},getSymbolContrKey:function(){return l.thisContrKey},getSymbolIsEditThisContr:function(e){return l.isShow&&l.thisContrKey==e},getSymbolMaskContr:function(){var e=n(0),t=e.getContrByAll(l.thisContrKey);return t&&e.getAllValsContr({contrKey:t})},getCutVals:function(){return d.getSymbolMaskContr().cutVals},setInputVal:function(e){n(0).contrUpdate(l.thisContrKey,{cutVals:e})},setSymbolMask:function(e){l=e,d.emitChange()},getSymbolParentKeyArr:function(e,t){var n=e.parents(".isC[data-type=symbol]:not(.isSymbolEdit)"),i=void 0;return n.length>0&&(i=[],n.each(function(e,t){i.unshift(t.id)}),t&&t()),i},getSymbolBackColor:function(){return l.colorArr[l.backColor]},setSymbolBackColor:function(e){e!=l.backColor&&(l.backColor=e,d.emitChange())},into:function(e){l.isShow=!0,l.thisContrKey=e,d.emitChange()},exit:function(e,t,i){var a=n(15),r=n(0),o=n(13),s=n(33),c=void 0;if(t&&l.parentArr.length>0&&(c=l.parentArr[l.parentArr.length-1].thisContrKey),l.parentArr.length>0&&!t){var u=0;i&&l.parentArr.some(function(e,t){return e.thisContrKey==i&&(t>0&&(c=l.parentArr[t-1].thisContrKey),u=t,!0)});var f=$.extend(!0,{},l.parentArr[u]),h=r.getContrByAll(l.thisContrKey);h&&(window.renderSymbol=h.symbolKey),l.parentArr.splice(0,u+1),l.parentKey=f.parentKey,l.parentPosi=f.parentPosi,l.posi=f.posi,l.thisContrKey=f.thisContrKey,l.thisSymbolKey=f.thisSymbolKey}else{r.initCache(),l.isShow=!1;var p=r.getContrByAll(l.thisContrKey);p&&(window.renderSymbol=p.symbolKey),l.thisContrKey=null,l.thisSymbolKey=null,l.parentPosi=null,l.parentKey=null,l.parentArr=[],l.posi=null}return e||(s.getCutImageShow()&&$.exitCutImage(!0),o.getMergeBoxShow()&&(o.wrapBoxEditOut(),o.emitChange()),r.selectChange([],void 0,!0),r.emitChange(),a.emitChange(),d.emitChange()),setTimeout(function(){window.renderSymbol=!1},0),c},exitAndSave:function(e,t,i){var a=n(0),r=n(17),o=n(33),s=l.thisContrKey,c=d.exit(e,t,i);c&&(s=c),e||(o.getCutImageShow()&&$.exitCutImage(!0),setTimeout(function(){a.selectContr(s),r.createData({type:"backFromSymbolMask",name:"退出引用编辑",handleObjType:"symbol",autoSaveType:"pageContrs"})},0))},exitAndSaveByKey:function(e,t){"page"==e?d.exitAndSave(t,!0):d.exitAndSave(t,void 0,e)},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});e.exports=d},,function(e,t,n){"use strict";var i=o(n(9)),a=o(n(67)),r=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(10).EventEmitter,l=100;var c=(0,i.default)({},s.prototype,{getZoom:function(){return l},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});r.default.register(function(e){switch(e.actionType){case a.default.ZOOM_CHANGE:t=e.zoom,l=t,c.emitChange()}var t}),e.exports=c},,function(e,t,n){"use strict";var i={content:"文本",fontSize:14,lineHeight:5,indent:0,adjaceney:0,shadow:0,textShadow:0,textColor:"rgba(80, 80, 80, 1)",isB:!1,isI:!1,isU:!1,horizontal:"hC",vertical:"vM",filter:{},isLock:!1,isShow:!0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!1,mergeName:null,left:0,top:0},a={multiple:1,filter:{},isLock:!1,isShow:!0,shadow:0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,WHrelation:!0,cutVals:null,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!1,mergeName:null,left:0,top:0},r={filter:{},outerHidden:!1,scrollX:!1,scrollY:!1,isLock:!1,isShow:!0,shadow:0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,hasBackColor:!1,hierarchy:[],backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!1,isOpen:!1,mergeName:null,left:0,top:0},o={filter:{},isLock:!1,isShow:!0,WHrelation:!0,rotate:0,iconColor:"rgba(153, 153, 153, 1)",opacity:100,isOpt:!1,mergeName:null,left:0,top:0},s={isLock:!1,isShow:!0,WHrelation:!1,rotate:0,isOpt:!1,mergeName:null,left:0,top:0},l={isLock:!1,isShow:!0,rotate:0,isOpt:!1,mergeName:null,left:0,top:0,opacity:100},c=["isDepend","dependType"],d=["name","content"],u=["contrs","width","height","hierarchy"],f=["name","width","height","top","left","id","type","oriWidth","oriHeight","oriName","multiple","src","cutVals","contrs","content","hasBackColor","backColor","isBaseShape","baseContrType","hierarchy","fontSize","textColor","isB","serverKey","radius","lineHeight","horizontal","rotate","opacity","outerHidden","shadow","WHrelation","iconKey","iconColor","isMaxRadius","events","border","indent","adjaceney","textShadow","isI","isU","vertical","filter","isLock","isShow","insetBorder","isOpt","isOpenState","states","state","stateNum","isStateContrast","transition","dependType","isDepend","scrollX","scrollY","stateBindMove","userKey"],h=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49"],p={removeInitVal:function(e,t,n,c){if($.isArray(e))e.forEach(function(e){p.removeInitVal(e,void 0,n,c)});else{var d=void 0,f=void 0;if("text"==e.type?d=i:"image"==e.type?d=a:"wrapbox"==e.type?d=r:"icon"==e.type?d=o:"hotspot"==e.type?d=s:"symbol"==e.type&&(d=l),"wrapbox"==e.type)for(var h in e.contrs)p.removeInitVal(e.contrs[h],!0,n,c);if(!window.isPc&&!window.isAppView&&(n?window.phoneSize.height!=window.phoneBaseSize.height:window.phoneSize.width!=window.phoneBaseSize.width)&&$&&$.otherSizeChangeContr&&(f=n?window.phoneBaseSize.height/window.phoneSize.height:window.phoneBaseSize.width/window.phoneSize.width,$.otherSizeChangeContr(e,f,!0)),$.isUndefined(e.type)&&e.uniqueKey&&(delete e.left,delete e.top),d){if(d==l){if(c&&-1==c.indexOf(e.symbolKey)&&c.push(e.symbolKey),!$.isUndefined(f)&&e.children)for(var g in e.children)e.children[g]&&e.children[g].cutVals&&(e.children[g].cutVals=$.changeCutValsSize(e.children[g].cutVals,f));u.forEach(function(t){$.isUndefined(e[t])||delete e[t]})}for(var m in $.isUndefined(e.src)||0!=e.src.indexOf("data:image")&&0!=e.src.indexOf("blob:")||(e.src="/userImages/defaultImage.png",$&&$.updateImage&&$.updateImage(e)),d){var v=d[m],y=e[m];if(!$.isUndefined(y))if($.isArray(v)&&v[0]==y[0]&&v[1]==y[1])delete e[m];else if("isOpen"==m||"isOpt"==m)delete e[m];else if("filter"==m&&0==$.objLength(y))delete e[m];else if("cutVals"==m&&null==y)delete e[m];else if("cutVals"==m){var w=$.getDefaultCutVals(e);for(var C in w)"oriHeight"==C||"oriLeft"==C||"oriTop"==C||"oriWidth"==C?delete e[m][C]:Math.abs(+e[m][C]-+w[C])<.5&&delete e[m][C];0==$.objLength(e[m])&&delete e[m]}else v==y&&delete e[m]}t&&($.isUndefined(e.isDepend)||delete e.isDepend,$.isUndefined(e.dependType)||delete e.dependType,$.isUndefined(e.id)||delete e.id,$.isUndefined(e.type)||delete e.type,$.isUndefined(e.mergeName)||delete e.mergeName),$.isUndefined(e.interfaceId)&&($.isUndefined(e.isDepend)||delete e.isDepend,$.isUndefined(e.dependType)||delete e.dependType),$.isUndefined(e.transition)||p.removeTransition(e.transition),$.isUndefined(e.states)||p.statesChangeNameToKey(e.states),$.isUndefined(e.thisSelf)||delete e.thisSelf,$.isUndefined(e.hoverState)||delete e.hoverState,$.isUndefined(e.isStructOpen)||delete e.isStructOpen,$.isUndefined(e.interfaceId)||delete e.interfaceId,$.isUndefined(e.lastContent)||delete e.lastContent,$.isUndefined(e.isEdit)||delete e.isEdit,$.isUndefined(e.copyKey)||delete e.copyKey,p.changeNameToKey(e)}}},addInitVal:function(e,t,n,c,d,u){if($.isArray(e)){var f=[];e.forEach(function(e,n){e[6]||e.type||e.uniqueKey?p.addInitVal(e,t,void 0,void 0,d,u):(f.push(n),log("数据异常",e))}),f.length>0&&f.reverse().forEach(function(t){e.splice(t,1)})}else{var h=void 0;if(p.changeKeyToName(e),$.isUndefined(e.states)||p.statesChangeKeyToName(e.states),!$.isUndefined(e.stateNum)&&$.isUndefined(e.hoverState)&&(e.hoverState={}),n){var g=n.split("_");e.type=g[0],e.id=g[1]}c&&(e.mergeName=c),$.isUndefined(t)||(e.interfaceId=t);var m=void 0;if("text"==e.type?m=i:"image"==e.type?m=a:"wrapbox"==e.type?m=r:"icon"==e.type?m=o:"hotspot"==e.type?m=s:"symbol"==e.type&&(m=l),"wrapbox"==e.type)for(var v in e.contrs)p.addInitVal(e.contrs[v],t,v,e.type+"_"+e.id,d,u);if(m)for(var y in m){var w=m[y],C=e[y];$.isUndefined(C)?$.isArray(w)?e[y]=w.concat():e[y]="hierarchy"==y?[]:"filter"==y?{}:"cutVals"==y?null:w:"isOpen"==y?e[y]=!1:"cutVals"==y&&(e[y]=$.extend($.getDefaultCutVals(e),e[y]))}if(window.isPc||u||window.isAppView||(d?window.phoneSize.height==window.phoneBaseSize.height:window.phoneSize.width==window.phoneBaseSize.width)||!$||!$.otherSizeChangeContr||(h=d?window.phoneSize.height/window.phoneBaseSize.height:window.phoneSize.width/window.phoneBaseSize.width,$.otherSizeChangeContr(e,h,!0)),!u&&m==l&&!$.isUndefined(h)&&e.children)for(var _ in e.children)e.children[_]&&e.children[_].cutVals&&(e.children[_].cutVals=$.changeCutValsSize(e.children[_].cutVals,h))}},statesChangeNameToKey:function(e){for(var t in e){var n=e[t].contrs,i=e[t].transition;for(var a in $.isUndefined(i)||p.removeTransition(i),n)p.changeNameToKey(n[a],!0)}},changeNameToKey:function(e,t){for(var n in e)if(t&&-1!=c.indexOf(n)&&!$.isUndefined(e[n]))delete e[n];else{-1==d.indexOf(n)&&(e[n]=$.floatNum(e[n],2));var i=f.indexOf(n);-1==i||$.isUndefined(e[n])||(e[h[i]]=e[n],delete e[n])}},statesChangeKeyToName:function(e){for(var t in e){var n=e[t].contrs;for(var i in n)p.changeKeyToName(n[i],!0)}},changeKeyToName:function(e,t){for(var n in e){var i=h.indexOf(n);-1==i||$.isUndefined(e[n])||(t&&-1!=c.indexOf(f[i])||(e[f[i]]=e[n],-1!=d.indexOf(f[i])&&(e[f[i]]=""+e[f[i]])),delete e[n])}},removeTransition:function(e){for(var t in e){var n=e[t].contrs;for(var i in n){var a=n[i].units[0];!$.isUndefined(a.keyframes)&&2!=$.objLength(a.keyframes)||!$.isUndefined(a.props)&&0!=$.objLength(a.props)?($.isUndefined(a.index)||delete a.index,$.isUndefined(a.props)||0!=$.objLength(a.props)||delete a.props,$.isUndefined(a.keyframes)||2!=$.objLength(a.keyframes)||delete a.keyframes,$.isUndefined(a.active)||delete a.active):$.isUndefined(n[i])||delete n[i]}}}};e.exports=p},function(e,t,n){"use strict";var i=r(n(2)),a=r(n(48));function r(e){return e&&e.__esModule?e:{default:e}}var o={init:function(e){i.default.dispatch({actionType:a.default.POPUP_INIT,option:e})},hide:function(e){i.default.dispatch({actionType:a.default.POPUP_HIDE})}};e.exports=o},function(e,t,n){"use strict";var i=c(n(1)),a=c(n(23)),r=c(n(38)),o=c(n(12)),s=c(n(247)),l=c(n(246));function c(e){return e&&e.__esModule?e:{default:e}}var d={project:"项目",page:"页面库",contr:"组件库"};function u(e,t,i,a){if(-1!=window.location.href.indexOf("www.xiaopiu.com/user?"))n(45).setCooperationNum(e,t,i,a);else if(window.isPrototypeTool){if("contr"==e)n(91).changeLibCooperationLength(t,i,a);else if("page"==e){n(77).changeLibCooperationLength(t,i,a)}else"project"==e&&r.default.setCooperationUserNum(i,a)}}var f={getCooperators:function(e){r.default.setInitCooperation({type:e.type,id:e.id,deleteFunc:e.deleteFunc}),$.ajax("/user/cooperationUserList",{type:e.type,id:e.id},function(t){r.default.setCooperationCreateUser(t.createUser),r.default.setCooperationUserList(t.userList),r.default.setCooperationEmailArrList(t.cooperationEmailArr),u(e.type,e.id,(t.userList?t.userList.length+1:1)+(t.cooperationEmailArr?t.cooperationEmailArr.length:0)),a.default.init({title:d[e.type]+"协作成员",width:640,content:i.default.createElement(s.default,null),noBottom:!0})})},addCooperators:function(){$.ajax("/user/lastCooperation",{},function(e){r.default.setCooperationLastUserList(e.userList),a.default.init({title:"邀请协作者",width:640,cancelBtnName:"取消",content:i.default.createElement(l.default,null),noBottom:!0})})},userHomeRemoveCooperation:function(e,t,n,r){a.default.init({title:"退出协同"+d[e],width:640,content:i.default.createElement("div",{className:"popup-content"},i.default.createElement("span",null,"确定退出该协同"+d[e]+"？")),submitBtnName:"退出",submitBtnFunc:function(){$.ajax("/cooperation/remove",{type:e,id:t,userId:n,socketId:window.socketId},function(){var e=window.loginInfo.userId==n;o.default.show(e?"退出成功":"移除成功"),r&&r()}),a.default.hide()},noBottom:!1})},removeMyCooperation:function(e,t,n){a.default.init({title:"退出协同"+d[e],width:640,content:i.default.createElement("div",{className:"popup-content"},i.default.createElement("span",null,"确定退出该协同"+d[e]+"？")),submitBtnName:"退出",submitBtnFunc:function(){f.removeCooperation(t,n),a.default.hide()},noBottom:!1})},addCooperation:function(e,t,n){var i=$.extend(!0,{},t),a=r.default.getInitCooperation(),s=a.type,l=a.id;$.ajax("/cooperation/add",{type:s,id:l,noRegister:i.noRegister,userId:e,socketId:window.socketId},function(){r.default.addCooperation(e,i,i.noRegister),o.default.show("邀请成功！"),u(s,l,1,!0),n&&n()})},removeCooperation:function(e,t,n){var i=r.default.getInitCooperation(),a=i.type,s=i.id;$.ajax("/cooperation/remove",{type:a,id:s,noRegister:n,userId:e,socketId:window.socketId},function(){var i=window.loginInfo.userId==e;r.default.removeCooperation(e,n),o.default.show(i?"退出成功":"移除成功"),i||u(a,s,-1,!0),t&&t()})},searchUser:function(e,t){var n=e&&e.trim();""==n?o.default.show("查询内容不能为空！"):$.ajax("/user/cooperationUser",{text:n},function(e){r.default.setSearchUser(n,e.userList),t&&t()})},leaveProject:function(e){a.default.init({title:"离开协同项目",width:640,content:i.default.createElement("div",{className:"popup-content"},i.default.createElement("span",null,"您被用户 [",i.default.createElement("span",{className:"redspan"},e),"] 移除了该项目，5秒后自动离开")),submitBtnName:"立即离开",submitBtnFunc:function(){a.default.hide(),window.location.href="../../../backend/user/userHome"},noBottom:!1}),setTimeout(function(){window.location.href="../../../backend/user/userHome"},5e3)},deleteProject:function(e){a.default.init({title:"该项目被删除",width:640,content:i.default.createElement("div",{className:"popup-content"},i.default.createElement("span",null,"用户 [",i.default.createElement("span",{className:"redspan"},e),"] 删除了该版本，5秒后自动离开")),submitBtnName:"立即离开",submitBtnFunc:function(){a.default.hide(),window.location.href="../../../backend/user/userHome"},noBottom:!1}),setTimeout(function(){window.location.href="../../../backend/user/userHome"},5e3)},deleteVersion:function(e){a.default.init({title:"该项目版本被删除",width:640,content:i.default.createElement("div",{className:"popup-content"},i.default.createElement("span",null,"用户 [",i.default.createElement("span",{className:"redspan"},e),"] 删除了该项目版本，5秒后自动离开")),submitBtnName:"立即离开",submitBtnFunc:function(){a.default.hide(),window.location.href="../../../backend/user/userHome"},noBottom:!1}),setTimeout(function(){window.location.href="../../../backend/user/userHome"},5e3)},removeLibrary:function(e, t){var i=n(42),a=n(39);("contr"==t?i:a).delete(e)}};e.exports=f},function(e, t, n){"use strict";var i=o(n(9)),a=o(n(240)),r=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(10).EventEmitter,l=0,c={},d={show:!1,value:0,isHorizontal:!0};function u(e){return c[++l]={id:l,pageId:e.pageId,type:e.type,value:e.value,isShow:!e.notShow},c[l]}var f=(0,i.default)({},s.prototype,{getPageTypeLine:function(e, t){var n=[];for(var i in c)c[i].pageId==e&&c[i].type==t&&n.push(c[i]);return n},removePageTypeLine:function(e,t,n){for(var i in c)c[i].pageId==e&&c[i].type==t&&delete c[i];n||f.emitChange()},getPageLineArr:function(e){var t={x:[],y:[]};for(var n in c){var i=c[n];i.pageId==e&&("x"==i.type?t.x.push(i.value):"y"==i.type&&t.y.push(i.value))}return t},pageRemoveLine:function(e){for(var t in c)c[t].pageId==e&&delete c[t]},returnNewLine:function(){return c[l]},isHave:function(e){for(var t in c)if(t!=e.id&&c[t].pageId==e.pageId&&c[t].type==e.type&&c[t].value==e.value)return!0;return!1},getLine:function(e){return c[e]},addGuideLine:function(e){u(e)},pageAddGuideAllLine:function(e,t,n){n&&f.pageRemoveLine(t);var i=function(n){e[n].forEach(function(e){f.addGuideLine({pageId:t,type:n,value:e,notShow:!0})})};for(var a in e)i(a);n&&f.emitChange()},initTempLine:function(e,t,n){d=e?$.extend(!0,d,t):{show:!1,value:0,isHorizontal:!0},n||f.emitChange()},updateTempLine:function(e,t){d.value=e,t||f.emitChange()},getTempLine:function(){return d},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});r.default.register(function(e){switch(e.actionType){case a.default.GUIDE_ADD:u(e),f.emitChange();break;case a.default.GUIDE_UPDATE:t=e.id,n=e.value,c[t]&&(c[t].value=n),f.emitChange();break;case a.default.GUIDE_REMOVE:!function(e){delete c[e]}(e.id),f.emitChange();break;case a.default.GUIDE_SHOW:!function(e,t){c[e]&&(c[e].isShow=t)}(e.id,e.isShow),f.emitChange()}var t,n}),e.exports=f},function(e,t,n){"use strict";var i=l(n(9)),a=l(n(70)),r=l(n(2)),o=l(n(56)),s=l(n(18));function l(e){return e&&e.__esModule?e:{default:e}}var c=n(10).EventEmitter,d={show:!1,contr:null,type:null,inWindow:!1,left:0,top:0,interfaceContr:null,contrPosi:null,oldPosi:null,openWrapBoxDom:null,symbolMaskBoxDom:null};function u(e){e.show?d.show=!0:(o.default.init(),d={show:!1,contr:null,type:null,inWindow:!1,left:0,top:0,interfaceContr:null,contrPosi:null,oldPosi:null,openWrapBoxDom:null,symbolMaskBoxDom:null})}function f(){var e=n(13),t=n(0),i=e.getMergeBoxShow(),a=e.getIsWrapEdit(),r=i?e.getContrsArr():s.default.getSymbolMaskShow()?t.getThisSymbolChildContr(!0):t.getActiveInterface(),o=void 0;if(s.default.getSymbolMaskShow()&&!i){var l=s.default.getSymbolMaskContr();r.push({type:"symbolBox",id:l.id,left:0,top:0,width:l.width,height:l.height})}else!i||a?($.addMainbox(r),a&&(o=e.getThisContr(),r.push({type:o.type,id:o.id,left:0,top:0,width:o.width,height:o.height}))):(o=e.getThisContr(),r.push({type:"mergeBox",left:0,top:0,width:o.width,height:o.height}));return r}function h(e){var t=p(e.posi,!0,e.notInWrap);return u(!1),!!$.isDragInMid(e.posi)&&t}function p(e,t,i){var a=n(47),r=n(16),o=void 0,l=void 0,c=n(20).getZoom()/100,u=void 0,f={width:d.contr.width,height:d.contr.height};if("myContr"==d.type){var h=$.getRotateWH($.rotateToAngle(d.contr.rotate,!0),[d.contr.width,d.contr.height]);$.fixRotateWH(h,d.contr.rotate),f={width:h.w,height:h.h}}if("folder"!=d.type?(d.left=e[0]-f.width/2,d.top=e[1]-f.height/2):(d.left=e[0],d.top=e[1]),d.inWindow){var p="page"==d.type||"folder"==d.type?e:$.getContrInBoxPosi(e,[f.width,f.height],i);if(c>1.5&&("icon"==d.type||"baseIcon"==d.type)&&(p.left-=1,p.top-=1),o={left:p.left,top:p.top,width:f.width,height:f.height},"page"==d.type||"folder"==d.type)c=1;else{d.openWrapBoxDom&&!i?u=$.offset(d.openWrapBoxDom):s.default.getSymbolMaskShow()&&d.symbolMaskBoxDom?(u=$.offset(d.symbolMaskBoxDom),!0):u=$.mainBoxOffsetPosi(!0),l=r._redLine(o),l=[Math.round(l[0]),Math.round(l[1])],p.left+=l[0],p.top+=l[1],o.left+=l[0],o.top+=l[1],d.left=u.left+p.left*c+(c-1)*f.width/2,d.top=u.top+p.top*c+(c-1)*f.height/2,a.moveTipUpdate({left:e[0]+50,top:e[1]-50,text:"x:"+p.left+", y:"+p.top}),t&&a.moveTipShow(!1)}return d.contrPosi=[p.left,p.top],o}return a.moveTipShow(!1),d.contrPosi=null,!1}var g=(0,i.default)({},c.prototype,{getDragContr:function(){return d},getRedLineContr:function(){return f()},getContrPosi:function(){if("myContr"==d.type){var e=$.getDragRotateChangePosi(d.contr);return!!d.contrPosi&&[d.contrPosi[0]+e[0]+1,d.contrPosi[1]+e[1]+1]}return d.contrPosi},getIsDrag:function(){return d.show},add:function(e){var t=h(e);return g.emitChange(),t},hide:function(){var e=n(47);u(!1),e.moveTipShow(!1),g.emitChange()},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});r.default.register(function(e){switch(e.actionType){case a.default.DRAGCONTR_INIT:t=e.options,i=n(0),r={},s=t.contr,i.initAllContrs(),i.initAllValsContrs(),"myContr"==t.type&&s.states&&$.objLength(s.states)>0&&(r[$.getContrId(t.contr)]=t.contr,s=i.getContrValsAllChilds(t.contr,!1,r)),d.oldPosi=[s.left,s.top],d.show=!0,d.type=t.type,d.contr=s,d.inWindow="page"==d.type||"folder"==d.type,d.isAlt=t.isAlt,d.openWrapBoxDom=$.query(".wrapBox.openNow:not(.isStartState)"),d.symbolMaskBoxDom=$.query(".symbolMaskBox > .isSymbolEdit"),"page"==d.type&&(d.pagesNum=t.pagesNum),p(t.posi),"page"!=t.type&&"folder"!=t.type?(d.interfaceContr=f(),o.default.initDragOption({contrs:d.interfaceContr})):i.selectChange([]),g.emitChange();break;case a.default.DRAGCONTR_SHOW:u(e.options),g.emitChange();break;case a.default.DRAGCONTR_MOVE:!function(e){d.inWindow="page"==d.type||"folder"==d.type||$.isDragInMid(e.posi),p(e.posi)}(e.options),g.emitChange();break;case a.default.DRAGCONTR_ADD:h(e.options),g.emitChange()}var t,i,r,s}),e.exports=g},function(e,t,n){"use strict";var i=o(n(9)),a=o(n(235)),r=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(10).EventEmitter,l={},c=0,d=null,u="stream";function f(e,t){return l[++c]=$.extend(!0,{id:c,text:"",lastText:null,hasArea:!1,width:50,height:50,left:0,top:0,pageId:e.pageId,index:m.getNoteArr(e.pageId).length+1},e),t||(d=c),l[c]}function h(e,t){if(l[e]){var n=l[e].pageId;delete l[e],d==e&&(d=null),g(n),t||m.emitChange()}}function p(e,t,n){l[e]&&(l[e].value=$.extend(!0,l[e],t)),n||m.emitChange()}function g(e){m.getNoteArr(e).sort(function(e,t){return e.index-t.index}).forEach(function(e,t){e.index=t+1})}var m=(0,i.default)({},s.prototype,{getNoteDisplay:function(){return u},getNoteSize:function(){return 25},getNoteArr:function(e,t){var n=[];for(var i in l){var a=l[i];a.pageId==e&&n.push(t?{id:a.id,text:a.text,hasArea:a.hasArea,width:a.width,height:a.height,left:a.left,top:a.top,pageId:a.pageId,index:a.index}:a)}return n},removeEditNote:function(e){if(l[d]){var t=l[d].pageId;delete l[d],d=null,g(t),e||m.emitChange()}},removeNote:function(e,t){h(e,t)},getEditNote:function(){return d&&l[d]?l[d]:null},getNoteById:function(e){return l[e]},isEditNote:function(e){return d==e},hasEditNote:function(){return d&&!!l[d]},editBlur:function(e){d&&(d=null,e||m.emitChange())},changeEdit:function(e,t){d=e,t||m.emitChange()},updateNote:function(e,t,n){p(e,t,n)},pageRemoveNote:function(e){for(var t in l)l[t].pageId==e&&delete l[t]},returnNewNote:function(){return l[c]},addNote:function(e,t){f(e,t)},otherChangeNote:function(e,t,n){e&&(d=null,m.getNoteArr(t).forEach(function(e){delete l[e.id]}),e.forEach(function(e){var n;e.pageId=t,l[(n=e).id]=$.extend(!0,{id:n.id,text:"",lastText:null,hasArea:!1,width:50,height:50,left:0,top:0,pageId:n.pageId,index:m.getNoteArr(n.pageId).length+1},n),l[c]}),n&&m.emitChange())},pageAddNote:function(e,t,n){e&&(d=null,m.getNoteArr(t).forEach(function(e){delete l[e.id]}),e.forEach(function(e){e.pageId=t,delete e.id,m.addNote(e,!0)}),n&&m.emitChange())},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});r.default.register(function(e){switch(e.actionType){case a.default.NOTE_ADD:f(e.option),m.emitChange();break;case a.default.NOTE_UPDATE:p(e.id,e.option);break;case a.default.NOTE_REMOVE:h(e.id),m.emitChange();break;case a.default.NOTE_SWITCHDISPLAY:t=e.display,u=t,m.emitChange()}var t}),e.exports=m},function(e,t,n){"use strict";var i=l(n(9)),a=l(n(233)),r=l(n(2)),o=l(n(0)),s=l(n(8));function l(e){return e&&e.__esModule?e:{default:e}}var c=n(10).EventEmitter,d={tA:"点击",dT:"双击",sH:"左右滑动",sV:"上下滑动",sL:"左滑动",sR:"右滑动",sT:"上滑动",sD:"下滑动",tM:"定时"};"web"==window.platform&&(d={tA:"点击",dT:"双击",hV:"悬停",sH:"左右滑动",sV:"上下滑动",sL:"左滑动",sR:"右滑动",sT:"上滑动",sD:"下滑动",tM:"定时"});var u={page:"跳转页面",state:"状态切换"},f={fadeInOut:"渐隐渐现",leftMenu:"左菜单",rightMenu:"右菜单",leftNav:"左导航",rightNav:"右导航",moveFromLeft:"左移入",moveFromRight:"右移入",moveFromBottom:"下移入",moveFromTop:"上移入",fadeFromLeft:"左弹入",fadeFromRight:"右弹入",fadeFromBottom:"下弹入",fadeFromTop:"上弹入",fadeRightFadeLeft:"左渐入",fadeLeftFadeRight:"右渐入",fadeTopFadeBottom:"下渐入",fadeBottomFadeTop:"上渐入",easingFromLeft:"左推入",easingFromRight:"右推入",easingFromBottom:"下推入",easingFromTop:"上推入",scaleDownFromLeft:"缩放(左)",scaleDownFromRight:"缩放(右)",scaleDownFromBottom:"缩放(下)",scaleDownFromTop:"缩放(上)",glueFromLeft:"折入(左)",glueFromRight:"折入(右)",glueFromBottom:"折入(下)",glueFromTop:"折入(上)"},h={};function p(e,t){var n={};n[e.type]=e,n[e.type].disable=!1,"page"==t.type?s.default.updatePageEvents(t.key,n):o.default.contrUpdate($.getContrId(t),{events:n})}function g(e,t,n,i){var a={};a[t]={disable:!0},"page"==e.type?s.default.updatePageEvents(e.key,a,i):o.default.contrUpdate($.getContrId(e),{events:a},void 0,i)}function m(e,t,n,i){var a=e.events,r={};a[t].actions.splice(n,1),r[t]=a[t],"page"==e.type?s.default.updatePageEvents(e.key,r,i):o.default.contrUpdate($.getContrId(e),{events:r},void 0,i)}function v(e,t){var n=void 0;n=e.pageContrs?e.pageContrs:t?o.default.getPageByHierarchy(t):o.default.getActivePageByHierarchy(),y(e.pageEvents?{events:e.pageEvents}:t?s.default.getPageByKey(t):s.default.getActivePage(!0),e),n.forEach(function(t){y(t,e)})}function y(e,t,n){if("saveContr"!=t.type||n||(t.savedContrs=$.getIncludeContrs(e)),w(e,t,e.interfaceId),e.states)for(var i in e.states)for(var a in e.states[i].contrs)w(e.states[i].contrs[a],t,e.interfaceId);if("wrapbox"==e.type)for(var r in e.contrs)y(e.contrs[r],t,!0)}function w(e,t,n){if(e.events){for(var i in e.events)e.events[i].actions&&(e.events[i].actions=e.events[i].actions.filter(function(e){var i=!1;switch(t.type){case"deletePage":(i="page"==e.type&&e.page==t.pageId)&&n&&s.default.setAutoSaveChangePages("__pageContrs",!0,n);break;case"deleteContr":i="state"==e.type&&e.contr==t.targetId;break;case"deleteState":i="state"==e.type&&e.contr==t.targetId&&e.endState==t.stateId;break;case"savePage":i="page"==e.type&&e.page!=t.pageId;break;case"saveContr":i=!("state"==e.type&&t.savedContrs[e.contr]);break;case"pastePage":i="page"==e.type&&!t.pagesKey[e.page];break;case"pasteContr":if(t.isInProject){if("page"==e.type)i="-1"!=e.page&&$.isUndefined(s.default.getPageByKey(e.page));else if("state"==e.type&&!t.pasteContrsKey[e.contr]){var a=o.default.getContrByAll(e.contr);a&&a.interfaceId==s.default.getActivePage()||(i=!0),i||(i=$.isUndefined(a.states[e.endState]))}}else i=!("state"==e.type&&t.pasteContrsKey[e.contr])}return!i}),0===e.events[i].actions.length&&delete e.events[i]);0===$.objLength(e.events)&&delete e.events}}var C=(0,i.default)({},c.prototype,{getEventType:function(){return d},getEventTypeKey:function(){var e=[];for(var t in d)e.push(t);return e},getActionType:function(){return u},getPageTransition:function(){return f},setTempSelectedPage:function(e){h.selectedPage=e},deleteRelativedActions:function(e){!function(e){if("deletePage"==e.type){var t=s.default.getPages();for(var n in t)v(e,n)}else"deleteContr"!=e.type&&"deleteState"!=e.type||v(e)}(e)},deletePageActions:function(e){v(e)},deleteContrActions:function(e,t){y(e,t)},correctPasteContrEvents:function(e,t){y(e,t)},getEventRelativedContrs:function(e){return function(e){var t={},n=s.default.getActivePage(),i=o.default.getSelect(),a={},r=o.default.getNowHierarchy();return e.forEach(function(e){var n=$.getContrId(e),s=o.default.getAllValsContr({contrKey:n});if(a[n]=!0,s.events)for(var l in s.events)s.events[l].actions&&s.events[l].actions.forEach(function(e){-1==i.indexOf(e.contr)&&-1!=r.indexOf(e.contr)&&"state"==e.type&&e.contr!=n&&(t[e.contr]={name:o.default.getContrName(e.contr)})})}),$("#mainBox"+n).find(".event-tag").parent().parent().each(function(){var e=$(this),n=e.attr("id");if(e.hasClass("isC")&&!e.hasClass("isStartState")&&!a[n]){var i=o.default.getAllValsContr({contrKey:n});if(i.events)for(var s in i.events)i.events[s].actions&&i.events[s].actions.forEach(function(e){-1!=r.indexOf(n)&&"state"==e.type&&a[e.contr]&&(t[n]={name:o.default.getContrName(n)})})}}),0===$.objLength(t)?null:t}(e)},traverseEvents:function(e){v(e)},getTempData:function(){return h},setSettingData:function(e){h.settingData=e},setEditData:function(e,t){h.editData=e,h.curAction=t},emptyTempData:function(){h={}},deleteAction:function(e,t,n){m(e,t,n,!0)},deleteEvent:function(e,t){g(e,t,0,!0)},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});r.default.register(function(e){switch(e.actionType){case a.default.EVENT_CREATE:p(e.options,e.contr,e.stateParent);break;case a.default.EVENT_EDIT:!function(e,t,n){if(e.type!==t)g(n,t),p(e,n);else{var i={};i[e.type]=e,i[e.type].disable=!1,"page"==n.type?s.default.updatePageEvents(n.key,i):(o.default.contrUpdate($.getContrId(n),{events:i},void 0,!0),o.default.initCache(),o.default.emitChange())}}(e.options,e.type,e.contr),C.emitChange();break;case a.default.EVENT_DELETE:case a.default.EVENT_USEORIGIN:g(e.contr,e.type),C.emitChange();break;case a.default.EVENT_DELETEACTION:m(e.contr,e.type,e.index),C.emitChange()}}),e.exports=C},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(3)),a=c(n(7)),r=c(n(6)),o=c(n(5)),s=c(n(4)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){(0,a.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={},n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"shouldComponentUpdate",value:function(e){return e.isOpt!=this.props.isOpt||e.width!=this.props.width||e.height!=this.props.height||e.rotate!=this.props.rotate}},{key:"render",value:function(){var e=$.getRotateWH($.rotateToAngle(this.props.rotate,!0),[this.props.width,this.props.height]);return l.default.createElement("div",{className:"rotateBox"+(this.props.isOpt&&"0"!=this.props.rotate?" active":"")+("0"!=this.props.rotate?" isRotate":""),style:{width:Math.round(e.w),height:Math.round(e.h),left:Math.round((this.props.width-e.w)/2-1),top:Math.round((this.props.height-e.h)/2-1),transform:"rotate(-"+(this.props.rotate%90<0?this.props.rotate%90+90:this.props.rotate%90)+"deg)"}})}}]),t}(l.default.Component);t.default=d},function(e,t,n){"use strict";var i=r(n(2)),a=r(n(69));function r(e){return e&&e.__esModule?e:{default:e}}var o={createBaseContr:function(e){i.default.dispatch({actionType:a.default.CONTR_CREATEBASE,option:e})},createTextContr:function(e){i.default.dispatch({actionType:a.default.CONTR_CREATETEXT,option:e})},createIconContr:function(e){i.default.dispatch({actionType:a.default.CONTR_CREATEICON,option:e})},createHotspotContr:function(e){i.default.dispatch({actionType:a.default.CONTR_CREATEHOTSPOT,option:e})},createImageContr:function(e){i.default.dispatch({actionType:a.default.CONTR_CREATEIMAGE,option:e})},createWrapboxContr:function(){i.default.dispatch({actionType:a.default.CONTR_CREATEWRAP})},wrapResolve:function(){i.default.dispatch({actionType:a.default.CONTR_RESOLVE})},pasteContr:function(e,t,n,r,o){i.default.dispatch({actionType:a.default.CONTR_PASTE,option:e,noSave:t,isInProject:n,symbol:r,changeKeyObj:o})},keyMoveContr:function(e,t){i.default.dispatch({actionType:a.default.CONTR_KEYMOVE,type:e,value:t})},deleteSelectContr:function(){i.default.dispatch({actionType:a.default.CONTR_DELETESELECT})},moveContr:function(e,t,n,r){i.default.dispatch({actionType:a.default.CONTR_MOVE,key:e,posi:t,changePosi:r,noEmit:n})},contrUpdate:function(e,t,n,r){i.default.dispatch({actionType:a.default.CONTR_UPDATE,key:e,option:t,isOriginal:n,noEmit:r})},filterChange:function(e,t){i.default.dispatch({actionType:a.default.CONTR_FILTERCHANGE,key:e,option:t})},contrUpdateByAll:function(e,t,n){i.default.dispatch({actionType:a.default.CONTR_UPDATEBYALL,key:e,option:t,isOriginal:n})},contrPosi:function(e,t){i.default.dispatch({actionType:a.default.CONTR_POSI,key:e.key,width:e.width,height:e.height,left:e.left,top:e.top,noEmit:t})},selectAll:function(){i.default.dispatch({actionType:a.default.CONTR_SELECTALL})},selectChange:function(e,t){i.default.dispatch({actionType:a.default.CONTR_SELECTCHANGE,selectArr:e,tab:t})},saveMergeBox:function(){i.default.dispatch({actionType:a.default.CONTR_SAVEMERGE})},backMergeBox:function(){i.default.dispatch({actionType:a.default.CONTR_BACKMERGE})},importPage:function(e,t,n,r,o){i.default.dispatch({actionType:a.default.CONTR_IMPORTPAGE,contrs:e,pageId:t,guideLine:n,note:r,isLandscape:o})},createState:function(e,t){i.default.dispatch({actionType:a.default.CONTR_CREATESTATE,index:e,name:t})},selectState:function(e){i.default.dispatch({actionType:a.default.CONTR_SELECTSTATE,index:e})},editState:function(e){i.default.dispatch({actionType:a.default.CONTR_EDITSTATE,index:e})},reWHprop:function(){i.default.dispatch({actionType:a.default.CONTR_REWHPROP})}};e.exports=o},,function(e,t,n){"use strict";var i=o(n(9)),a=o(n(241)),r=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(10).EventEmitter,l=[["struct"],["pageSet"],["event",!1,"页面事件"],["versionManage"],["note"]],c=[["struct",!0],["pageSet"],["event",!1,"页面事件"],["versionManage"],["note"]];function d(e){c=e}var u=(0,i.default)({},s.prototype,{getLabel:function(e){return e?c:$.extend(!0,[],c)},getCurrLabel:function(){var e=void 0;return c.forEach(function(t){t[1]&&(e=t[0])}),e},change:function(e){d(e),u.emitChange()},reset:function(e){c=$.extend(!0,[],l),e?c.forEach(function(t){e==t[0]&&(t[1]=!0)}):c[0][1]=!0,u.emitChange()},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});r.default.register(function(e){switch(e.actionType){case a.default.RIGHTLABEL_CHANGE:d(e.label),u.emitChange()}}),e.exports=u},function(e,t,n){"use strict";var i=o(n(9)),a=o(n(237)),r=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(10).EventEmitter,l={isShow:!1,isCutSpot:!0,thisImageKey:null};var c=(0,i.default)({},s.prototype,{init:function(e){var t=n(0),i=t.getContrByAll(e),a=t.getAllValsContr({contrKey:i});if(l.isShow=!0,l.isCutSpot=!0,l.thisImageKey=e,a.cutVals&&!$.isUndefined(a.cutVals.left)){if(a.cutVals=$.extend(!0,a.cutVals,{oriLeft:a.left,oriTop:a.top,oriWidth:a.width,oriHeight:a.height}),"0"!=a.rotate){var r=$.rotateToAngle(a.rotate);a.cutVals=$.extend(!0,a.cutVals,{boxLeft:a.cutVals.boxLeft*Math.cos(r)-a.cutVals.boxTop*Math.sin(r),boxTop:a.cutVals.boxTop*Math.cos(r)+a.cutVals.boxLeft*Math.sin(r)})}t.contrUpdate(e,{cutVals:a.cutVals},!1,!0)}else t.contrUpdate(e,{cutVals:{oriLeft:a.left,oriTop:a.top,oriWidth:a.width,oriHeight:a.height,width:a.width,height:a.height,left:0,top:0,boxWidth:a.width,boxHeight:a.height,boxLeft:0,boxTop:0}},!1,!0);t.emitChange(),c.emitChange()},getCutImageShow:function(){return l.isShow},getCutImage:function(){return l},getCutImageContr:function(){var e=n(0),t=e.getContrByAll(l.thisImageKey);return e.getAllValsContr({contrKey:t})},getCutVals:function(){return c.getCutImageContr().cutVals},setInputVal:function(e){n(0).contrUpdate(l.thisImageKey,{cutVals:e})},setCutImage:function(e){l=e,c.emitChange()},into:function(e){l.isShow=!0,l.thisImageKey=e,c.emitChange()},exit:function(){var e=n(0);l.isShow=!1,e.emitChange(),c.emitChange()},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});r.default.register(function(e){switch(e.actionType){case a.default.CUTIMAGE_INIT:c.init(e.contrId);break;case a.default.CUTIMAGE_EXIT:c.exit();break;case a.default.CUTIMAGE_CHANGECUTVALS:r=e.cutVals,n(0).contrUpdate(l.thisImageKey,{cutVals:r}),c.emitChange();break;case a.default.CUTIMAGE_ISCUTSPOT:t=e.isCutSpot,i=n(0),l.isCutSpot=t,i.emitChange(),c.emitChange()}var t,i,r}),e.exports=c},,function(e,t,n){"use strict";var i=o(n(9)),a=o(n(242)),r=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(10).EventEmitter,l=void 0,c={fold:!0,height:220,minHeight:180,maxHeight:.75*$.getWinSize().height,precision:200,scale:1,minScale:.3,maxScale:2,lineLeft:0,time:200,reverse:!1,contrastHide:!1},d=void 0;function u(e){c.reverse=$.isUndefined(e)?!c.reverse:e}function f(e){var t=l.getTimeArea();if("preview"==e.type){if(e.previewArea[0]<t[0]||e.previewArea[1]>t[1]){var n=(t[0]-e.previewArea[0])*l.getUnitW();l.changeLeft(c.lineLeft+n),l.emitChange()}}else"progress"==e.type&&c.lineLeft+e.transX>d&&(l.changeLeft(c.lineLeft-d),l.emitChange())}d="web"==window.platform?window.document.body.clientWidth-271-45-380:window.document.body.clientWidth-922,l=(0,i.default)({},s.prototype,{getPanel:function(){return c},getBtmW:function(){return d},getTimelineW:function(){return l.getUnitW()*c.time/10},contrastHideClassToggle:function(e){c.fold&&"preview"!=e||!c.contrastHide?$.removeClass($.getElById("reactBox"),"stateContrastHide"):$.addClass($.getElById("reactBox"),"stateContrastHide")},toggleContrastHide:function(e){c.contrastHide=!c.contrastHide,e||l.emitChange()},getFold:function(){return c.fold},toggleFold:function(e){var t=n(8);c.fold=!c.fold,e&&(l.emitChange(),t.emitViewChange())},fold:function(){c.fold=!0},unfold:function(){c.fold=!1},getBottomPanelHeight:function(){return c.fold?0:c.height},getUnitW:function(){return c.precision*c.scale},reverse:function(){u()},getReverse:function(){return c.reverse},changeLeft:function(e,t){c.lineLeft=Math.min(0,parseInt(e)),t&&l.emitChange()},correctRange:function(e){f(e)},getTimeArea:function(){var e=[],t=l.getUnitW();return e[0]=Math.abs(c.lineLeft)/t,e[1]=(Math.abs(c.lineLeft)+d)/t,e},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}}),r.default.register(function(e){switch(e.actionType){case a.default.BOTTOMPANEL_TOGGLEFOLD:l.toggleFold(),l.emitChange();break;case a.default.BOTTOMPANEL_CHANGEHEIGHT:t=e.height,c.height=t,l.emitChange();break;case a.default.BOTTOMPANEL_CHANGESCALE:!function(e){c.scale=Math.max(Math.min(e,c.maxScale),c.minScale);var t=l.getTimelineW();d-c.lineLeft>=t&&l.changeLeft(d-t)}(e.scale),l.emitChange();break;case a.default.BOTTOMPANEL_CHANGELEFT:l.changeLeft(e.left),l.emitChange();break;case a.default.BOTTOMPANEL_REVERSE:u(e.reverse),l.emitChange();break;case a.default.BOTTOMPANEL_CORRECTRANGE:f(e.options)}var t}),e.exports=l},,function(e,t,n){"use strict";var i=s(n(9)),a=s(n(66)),r=s(n(2)),o=(s(n(8)),s(n(0)));function s(e){return e&&e.__esModule?e:{default:e}}var l=n(10).EventEmitter,c=void 0,d=void 0,u=void 0,f=void 0,h={delay:0,time:.5,count:1},p={contrId:null,anim:null,keyframe:null},g=void 0,m={},v={effect:["Linear","Sine","Quad","Cubic","Quart","Quint","Expo","Circ","Back","Elastic","Bounce"],type:["easeIn","easeOut","easeInOut"]};function y(e){w(),p.anim=E(e,!0),p.contrId=e,p.anim.active=!0}function w(){p.anim&&(p.anim.active=!1),p.keyframe&&(p.keyframe.active=!1)}function C(e,t,n,i){p.contrId=t,p.anim=E(t),p.anim.keyframes[e]={frame:n||{},show:!0,active:!i},p.keyframe=p.anim.keyframes[e]}function _(e,t,n,i){var a=void 0,r=void 0;if(i&&$.isEmptyObj(e)&&(!d[u.end]||!d[u.end].contrs||!d[u.end].contrs[t]))return!1;t?((r=E(t,!0)).keyframes[n]||C(n,t,{},!0),a=r.keyframes[n].frame):a=p.keyframe.frame,i?t?r.keyframes[n].frame=e:p.keyframe.frame=e:$.extend(a,e)}function b(){var e=$.extend({},h);return d[u.end]&&d[u.end].props&&$.extend(e,d[u.end].props),e}function S(e){var t=d[u.end],n=e||{},i=b();if(t&&t.props||(d[u.end]||(d[u.end]={}),d[u.end].props||(d[u.end].props=$.extend({},h)),t=d[u.end]),e){for(var a in n)"time"!=a&&"delay"!=a||(n[a]=$.getDecimals(Math.max(n[a],"time"==a?.1:0)));if(t.contrs)for(var r in t.contrs){var o=t.contrs[r].units[0].props,s=$.extend($.extend({},i),o),l=$.extend($.extend({},i),n);$.isUndefined(n.time)||$.isUndefined(o.time)?l.delay==i.delay||$.isUndefined(n.delay)||$.isUndefined(o.delay)||x({delay:Math.max(s.delay+l.delay-i.delay,l.delay)},r,null,!0):l.time>i.time||s.time>.1||.1==s.time&&s.delay==l.delay?x({time:Math.min(l.time-i.time+s.time,l.time)},r,null,!0):.1==s.time&&s.time+s.delay>=l.time+l.delay&&s.delay!=l.delay&&x({delay:Math.max(l.time+l.delay-s.time,l.delay)},r,null,!0)}}else{for(var c in g)if(-1==c.indexOf("_state")){var f=I(c);n.delay=void 0===n.delay?f.delay:Math.min(f.delay,n.delay),n.time=void 0===n.time?f.time+f.delay:Math.max(f.time+f.delay,n.time)}for(var p in n.delay=$.getDecimals(n.delay),n.time=$.getDecimals(n.time-n.delay),g)if(-1==p.indexOf("_state")){var m=t.contrs[p]?t.contrs[p].units[0].props:{};$.isUndefined(m.time)&&x({time:i.time},p,null,!0)}}$.extend(t.props,n)}function x(e,t,n,i){for(var a in e)"time"!=a&&"delay"!=a||(e[a]=$.getDecimals(Math.max(e[a],"time"==a?.1:0)));n&&("0"==e.delay&&(e.time=n),e.delay=$.getDecimals(n-e.time)),t?$.extend(E(t,!0).props,e):$.extend(p.anim.props,e),i||S()}function E(e,t){if(d&&d[u.end]&&d[u.end].contrs&&d[u.end].contrs[e]&&d[u.end].contrs[e].units){var n=d[u.end].contrs[e].units[0];return $.isUndefined(n.keyframes)&&(n.keyframes={}),$.isUndefined(n.props)&&(n.props={}),n}return t?(function(e){d[u.end]||(d[u.end]={});var t=d[u.end];t.contrs||(t.contrs={});t.contrs[e]||(t.contrs[e]={units:[{index:0,props:{},keyframes:{}}]})}(e),d[u.end].contrs[e].units[0]):T()}function T(e,t){var n={units:[{index:0,props:t||{},keyframes:{}}]},i={};return e&&d&&d[u.end]&&d[u.end].contrs&&(i=d[u.end].contrs[e]),$.extend(!0,n,i)}function I(e){var t=e?T(e).units[0]:p.anim;return $.extend(!0,b(),t.props)}function P(e){var t=e.startContr[e.prop],n=e.endContr[e.prop];if("cutVals"==e.prop){var i=e.reverse?n:t;for(var a in t||(t=$.getDefaultCutVals(e.startContr)),n||(n=$.getDefaultCutVals(e.endContr)),i)t[a]!=n[a]&&($.isUndefined(e.startData[e.prop])&&(e.startData[e.prop]={}),$.isUndefined(e.endData[e.prop])&&(e.endData[e.prop]={}),e.startData[e.prop][a]=t[a],e.endData[e.prop][a]=n[a])}else e.reverse?(e.startData[e.prop]=$.isUndefined(t)?null:t,"filter"==e.prop?e.endData[e.prop]=$.extend(!0,$.extend(!0,{},t),n):e.endData[e.prop]=n):(e.endData[e.prop]=$.isUndefined(n)?null:n,"filter"==e.prop?e.startData[e.prop]=$.extend(!0,$.extend(!0,{},n),t):e.startData[e.prop]=t)}function A(e,t){var n=$.extend(!0,{},t),i=$.getContrId(e);for(var a in n){var r=n[a];o.default.getAllValsContr({contrKey:a,parentSaveContrVals:r,parentSaveContrId:i}),o.default.getAllValsContr({contrKey:a,type:"start",parentSaveContrVals:r,parentSaveContrId:i})}return n}var O=(0,i.default)({},l.prototype,{setTransition:function(e,t,n){return e=o.default.getAllValsContr({contrKey:e,changeThisContr:!0}),c=e,u=t||o.default.getSelectStateInfo(c),d=o.default.getTransition(o.default.getContrByAll(e.id?$.getContrId(e):e),u),n||w(),d},getCurData:function(){return{curContr:c,curState:u,curTr:d}},getDisabled:function(){return!(!d||!d[u.end])&&d[u.end].disabled},getCurState:function(){return u},getTrProps:function(){return b()},getDefaultProps:function(){return h},getDefalutContrAnim:function(e){return T(null,e)},getAnimListInfo:function(e){var t=b(),n=function e(t,n,i){var a={},r=t||c,o=$.getContrId(r),s=r.name?r.name:o;if(g[o+"_state"]){var l=void 0,f=I(o).stateDelay;O.setTransition(o,{start:g[o+"_state"].start,end:g[o+"_state"].end,reverse:u.reverse},!0),O.getDisabled()||(l=b(),$.isUndefined(f)||(l.delay=f),n[0]=Math.min(n[0],l.delay),n[1]=Math.max(n[1],l.time+l.delay),a[o+"_state"]=O.getDefalutContrAnim(l),a[o+"_state"].units[0].keyframes["0%"]={state:{startState:g[o+"_state"].start,endState:g[o+"_state"].end}},a[o+"_state"].contrName=s,a[o+"_state"].contrType=r.type),O.setTransition(i,null,!0)}if(g[o]&&(d[u.end]&&d[u.end].contrs&&d[u.end].contrs[o]?a[o]=$.extend(!0,{},d[u.end].contrs[o]):a[o]={default:!0},a[o].contrName=s,a[o].contrType=r.type),"wrapbox"==r.type)for(var h in r.contrs){var p=e(r.contrs[h],n,i).anims;$.objLength(p)>0&&(a[o]||(a[o]={}),a[o].children||(a[o].children={}),$.extend(a[o].children,p))}return{anims:a,area:n}}(e||c,[t.delay,t.time+t.delay],c);return f=n.area,{anims:n.anims,trProps:t,area:n.area,disabled:O.getDisabled()}},getTrArea:function(){return f},getEasings:function(){return v},getChangedContrs:function(e){var t={},n=c;return t[u.start]={},t[u.end]={},-1!=u.start&&(t[u.start]=A(n,n.states[u.start].contrs)),-1!=u.end&&(t[u.end]=A(n,n.states[u.end].contrs)),function(e,t,n){for(var i in g={},t[u.end]){var a=$.filterState(t[u.end][i]),r=$.filterState(t[u.start][i]),s={},l={},c=!1,d=o.default.getStartEndContrs(i),f=d.start,h=d.end;for(var p in u.reverse&&(f=d.end,h=d.start),a.state&&!$.isPropEqual(f.state,a.state,!0)&&(g[i+"_state"]={start:$.getContrEndState(f),end:$.getContrEndState(a)},n&&P({prop:"state",startContr:f,endContr:a,reverse:!0,startData:s,endData:l})),a)if("state"!=p&&!$.isPropEqual(f[p],a[p])){if(g[i]=!0,!n){c=!0;break}P({prop:p,startContr:f,endContr:a,reverse:!0,startData:s,endData:l})}if(!c)for(var m in r.state&&!$.isPropEqual(r.state,h.state,!0)&&(g[i+"_state"]={start:$.getContrEndState(r),end:$.getContrEndState(h)},n&&P({prop:"state",startContr:r,endContr:h,reverse:!1,startData:s,endData:l})),r)if("state"!=m&&!$.isPropEqual(r[m],h[m],"state"==m)){if(g[i]=!0,!n)break;P({prop:m,startContr:r,endContr:h,reverse:!1,startData:s,endData:l})}n&&((l.isDelete||s.isDelete)&&(l={isDelete:l.isDelete},s={isDelete:s.isDelete}),_(l,i,"0%",!0),_(s,i,"100%",!0))}for(var v in t[u.start])if(!t[u.end][v]){var y=$.filterState(t[u.start][v]),w={},C={},b=o.default.getStartEndContrs(v),S=b.end;for(var x in u.reverse&&(S=b.start),y.state&&!$.isPropEqual(y.state,S.state,!0)&&(g[v+"_state"]={start:$.getContrEndState(y),end:$.getContrEndState(S)},n&&P({prop:"state",startContr:y,endContr:S,reverse:!1,startData:w,endData:C})),y)if("state"!=x&&!$.isPropEqual(y[x],S[x])){if(g[v]=!0,!n)break;P({prop:x,startContr:y,endContr:S,reverse:!1,startData:w,endData:C})}n&&((C.isDelete||w.isDelete)&&(C={isDelete:C.isDelete},w={isDelete:w.isDelete}),_(C,v,"0%",!0),_(w,v,"100%",!0))}}(0,t,e),O.getAnimListInfo(n)},getChangedContrsData:function(){return g},saveGlobalData:function(){m.changedContrs=$.cObj(g),m.trArea=$.cObj(f)},resetGlobalData:function(){g=$.cObj(m.changedContrs),f=$.cObj(m.trArea)},editFrame:function(e,t,n,i){_(e,t,n,i)},deleteRelativedTr:function(e,t){!function(e,t){if(e.transition){for(var n in e.transition)n==t&&delete e.transition[n];0===$.objLength(e.transition)&&delete e.transition}if(e.states)for(var i in e.states){var a=e.states[i].transition;if(a){for(var r in a)r==t&&delete a[r];0===$.objLength(a)&&delete e.states[i].transition}}}(e,t)},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});r.default.register(function(e){switch(e.actionType){case a.default.ANIM_CHOOSEANIM:y(e.animId,e.index),O.emitChange();break;case a.default.ANIM_EDITFRAMEKEY:r=e.prevKey,o=e.currKey,s=p.anim.keyframes[r],p.anim.keyframes[o]=s,delete p.anim.keyframes[r],O.emitChange();break;case a.default.ANIM_CREATEFRAME:C(e.key,e.contrKey),O.emitChange();break;case a.default.ANIM_CHOOSEFRAME:n=e.key,i&&i!=p.contrId&&y(),p.keyframe=p.anim.keyframes[n],p.keyframe.active=!0,O.emitChange();break;case a.default.ANIM_DELETEFRAME:!function(e){delete p.anim.keyframes[e]}(e.key),O.emitChange();break;case a.default.ANIM_EMPTYFRAME:!function(e){p.anim.keyframes[e].frame={}}(),O.emitChange();break;case a.default.ANIM_UNSELECTANIM:w(),O.emitChange();break;case a.default.ANIM_UNSELECTFRAME:t=!0,p.keyframe&&p.keyframe.active&&(p.keyframe.active=!1,t&&O.emitChange());break;case a.default.ANIM_EDITTRPROPS:S(e.options,e.trData),O.emitChange();break;case a.default.ANIM_EDITCONTRPROPS:x(e.options,e.contrId,e.total),O.emitChange();break;case a.default.ANIM_EDITALLEASING:!function(e){for(var t in g)-1==t.indexOf("_state")&&x({easing:e},t)}(e.easing),O.emitChange();break;case a.default.ANIM_EDITSTATEDELAY:!function(e,t){e=$.getDecimals(Math.max(e,0)),$.extend(E(t,!0).props,{stateDelay:e})}(e.delay,e.contrId),O.emitChange();break;case a.default.ANIM_TOGGLEDISABLED:d[u.end]||(d[u.end]={}),d[u.end].disabled=!d[u.end].disabled,O.emitChange()}var t,n,i,r,o,s}),e.exports=O},function(e,t,n){"use strict";var i,a=n(9),r=(i=a)&&i.__esModule?i:{default:i};var o=n(10).EventEmitter,s=n(46),l={createUser:{},userList:[],lastUserList:[],emailArrList:[],searchData:{},initData:{},userNum:1},c=(0,r.default)({},o.prototype,{setCooperationUserNum:function(e,t){t?(l.userNum+=e,s.emitCooperationChange()):l.userNum!=e&&(l.userNum=e,s.emitCooperationChange())},getCooperationUserNum:function(){return l.userNum},setInitCooperation:function(e){l.initData=e},getInitCooperation:function(){return l.initData},getCooperationUser:function(){return l},setCooperationCreateUser:function(e){l.createUser=e},getCooperationCreateUser:function(){return l.createUser},setCooperationEmailArrList:function(e){l.emailArrList=e},getCooperationEmailArrList:function(){return l.emailArrList},setCooperationUserList:function(e){l.userList=e},getCooperationUserList:function(){return l.userList},setCooperationLastUserList:function(e){l.lastUserList=e},getCooperationLastUserList:function(){return l.lastUserList},getAllCooperationUserList:function(){var e={};return l.lastUserList.forEach(function(t){e[t._id]=$.extend(!0,{},t)}),l.userList.forEach(function(t){e[t._id]=$.extend(!0,{cooperationUser:!0},t)}),l.createUser._id&&(e[l.createUser._id]=$.extend(!0,{createUser:!0},l.createUser)),e},setSearchUser:function(e,t){l.searchData.text=e,l.searchData.userList=t},getSearchUser:function(){return l.searchData.userList||[]},getSearchText:function(){return l.searchData.text},removeCooperation:function(e,t){var n=-1;t?l.emailArrList.remove(e):(l.userList.some(function(t,i){return t._id==e&&(n=i,!0)}),-1!==n&&l.userList.splice(n,1))},addCooperation:function(e,t,n){var i=!1;n?l.emailArrList&&-1==l.emailArrList.indexOf(e)&&l.emailArrList.push(e):(l.userList.some(function(t){return t._id==e&&(i=!0,!0)}),i||l.userList.unshift(t))}});e.exports=c},function(e,t,n){"use strict";var i=r(n(2)),a=r(n(63));function r(e){return e&&e.__esModule?e:{default:e}}var o={init:function(e,t,n){i.default.dispatch({actionType:a.default.PAGELIB_INIT,myPageLib:e,isDownload:t,invisibleNum:n})},initPublic:function(e,t,n){i.default.dispatch({actionType:a.default.PAGELIB_INITPUBLIC,pageLib:e,isDownload:t,invisibleNum:n})},add:function(e){i.default.dispatch({actionType:a.default.PAGELIB_ADD,pageLib:e})},addPage:function(e,t){i.default.dispatch({actionType:a.default.PAGELIB_ADDPAGE,id:e,page:t})},updatePage:function(e,t,n){i.default.dispatch({actionType:a.default.PAGELIB_UPDATEPAGE,id:e,pageId:t,page:n})},deletePage:function(e,t){i.default.dispatch({actionType:a.default.PAGELIB_DELPAGE,pageId:e,pageLibId:t})},changeScrollTop:function(e,t){i.default.dispatch({actionType:a.default.PAGELIB_SCROLLTOP,pageLibId:e,scrollTop:t})},concatPageLibs:function(e,t){i.default.dispatch({actionType:a.default.PAGELIB_CONCAT,thisId:e,otherId:t})},delete:function(e){i.default.dispatch({actionType:a.default.PAGELIB_DELETE,pageLibId:e})},edit:function(e,t){i.default.dispatch({actionType:a.default.PAGELIB_EDIT,name:e,pageLibId:t})},changeEdit:function(e,t){i.default.dispatch({actionType:a.default.PAGELIB_CHANGEEDIT,pageLibId:e,isEdit:t})},openChange:function(e){i.default.dispatch({actionType:a.default.PAGELIB_OPENCHANGE,option:e})},libsManage:function(e){i.default.dispatch({actionType:a.default.PAGELIB_LIBSMANAGE,options:e})}};e.exports=o},function(e,t,n){"use strict";var i=n(82).Dispatcher;e.exports=new i},function(e,t,n){"use strict";var i=o(n(9)),a=o(n(48)),r=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(10).EventEmitter,l={isShow:!1,title:"标题",width:640,content:null,noBottom:!1,type:"top",bottomContent:null,noCancel:!1,cancelBtnName:"关闭",submitBtnName:"确定",submitBtnFunc:function(e){e()},cancelBtnFunc:function(e){e()}};var c=(0,i.default)({},s.prototype,{getPopup:function(){return l},getShow:function(){return l.isShow},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});r.default.register(function(e){switch(e.actionType){case a.default.POPUP_INIT:t=e.option,$.isUndefined(t.noBottom)&&(t.noBottom=!1),$.isUndefined(t.maxZindex)&&(t.maxZindex=!1),(l=$.extend(l,t)).isShow=!0,c.emitChange();break;case a.default.POPUP_HIDE:l={isShow:!1,title:"标题",width:640,content:null,noBottom:!1,type:"top",bottomContent:null,noCancel:!1,cancelBtnName:"关闭",submitBtnName:"确定",submitBtnFunc:function(e){e()},cancelBtnFunc:function(e){e()}},c.emitChange()}var t}),e.exports=c},function(e,t,n){"use strict";var i=r(n(2)),a=r(n(64));function r(e){return e&&e.__esModule?e:{default:e}}var o={init:function(e){i.default.dispatch({actionType:a.default.MYCONTROL_INIT,myControl:e})},initPublic:function(e){i.default.dispatch({actionType:a.default.MYCONTROL_INITPUBLIC,myControl:e})},add:function(e){i.default.dispatch({actionType:a.default.MYCONTROL_ADD,control:e})},addContr:function(e,t){i.default.dispatch({actionType:a.default.MYCONTROL_ADDCONTR,id:e,contr:t})},updateContr:function(e,t,n){i.default.dispatch({actionType:a.default.MYCONTROL_UPDATECONTR,id:e,contrId:t,contr:n})},deleteContr:function(e,t){i.default.dispatch({actionType:a.default.MYCONTROL_DELCONTR,contrId:e,contrLibId:t})},changeScrollTop:function(e,t){i.default.dispatch({actionType:a.default.MYCONTROL_SCROLLTOP,contrLibId:e,scrollTop:t})},concatControls:function(e,t){i.default.dispatch({actionType:a.default.MYCONTROL_CONCAT,thisId:e,otherId:t})},delete:function(e){i.default.dispatch({actionType:a.default.MYCONTROL_DELETE,controlId:e})},edit:function(e,t){i.default.dispatch({actionType:a.default.MYCONTROL_EDIT,name:e,controlId:t})},changeEdit:function(e,t){i.default.dispatch({actionType:a.default.MYCONTROL_CHANGEEDIT,controlId:e,isEdit:t})},openChange:function(e){i.default.dispatch({actionType:a.default.MYCONTROL_OPENCHANGE,option:e})},libsManage:function(e){i.default.dispatch({actionType:a.default.MYCONTROL_LIBSMANAGE,options:e})}};e.exports=o},function(e,t,n){"use strict";var i=r(n(2)),a=r(n(71));function r(e){return e&&e.__esModule?e:{default:e}}var o={move:function(e){i.default.dispatch({actionType:a.default.PHONECONBOX_MOVE,options:e})},optimizationOff:function(){i.default.dispatch({actionType:a.default.PHONECONBOX_OPTIMIZATIONOFF})},optimizationOn:function(){i.default.dispatch({actionType:a.default.PHONECONBOX_OPTIMIZATIONON})}};e.exports=o},function(e,t,n){"use strict";var i,a=n(9),r=(i=a)&&i.__esModule?i:{default:i};var o=n(10).EventEmitter,s=(0,r.default)({},o.prototype,{emitMustChange:function(){this.emit("must_change")},addMustChangeListener:function(e){this.on("must_change",e)},removeMustChangeListener:function(e){this.removeListener("must_change",e)}});e.exports=s},function(e,t,n){"use strict";var i=o(n(9)),a=o(n(40)),r=o(n(92));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(10).EventEmitter,l={contr:"controls",page:"pages"},c={},d={},u={};["project","page","contr","quotePage","quoteContr","collectProject","collectPage","collectContr"].forEach(function(e){c[e]={isDownload:!1,data:[]}}),["pageLib","contrLib"].forEach(function(e){d[e]={isDownload:!1,data:[]}}),["project","page","contr"].forEach(function(e){u[e]={}});var f=(0,i.default)({},s.prototype,{getListData:function(){return c},getLibIsDownLoad:function(e){return d[e].isDownload},getIsDownLoad:function(e){return c[e].isDownload},setIsDownLoad:function(e,t){c[e].isDownload=t},getLibData:function(e){return d[e].data},setLibData:function(e,t){d[e].isDownload=!0,d[e].data=t},loadData:function(e){var t=void 0,n=[];-1!==["project","collectProject"].indexOf(e.type)?t="project":-1!==["page","quotePage","collectPage"].indexOf(e.type)?t="page":-1!==["contr","quoteContr","collectContr"].indexOf(e.type)&&(t="contr"),e.data.forEach(function(e){u[t][e.id]=e,n.push(e.id)}),c[e.type].data=n,c[e.type].isDownload=!0,e.noEmit||f.emitChange()},getDataType:function(e){var t=void 0;return-1!==["project","collectProject"].indexOf(e)?t="project":-1!==["page","quotePage","collectPage"].indexOf(e)?t="page":-1!==["contr","quoteContr","collectContr"].indexOf(e)&&(t="contr"),t},getDataOne:function(e,t,n){return u[n?f.getDataType(e):e][t]},findIndex:function(e,t){var n=void 0;return c[e].data.every(function(e,i){return e!=t||(n=i,!1)}),n},findChild:function(e){var t=void 0;return e.parentData[l[f.getDataType(e.type)]].every(function(n,i){return n.id!=e.childId||(t=e.getIndex?[n,i]:n,!1)}),t},delete:function(e){if(f.getDataOne(e.type,e.id,!0)){var t=f.findIndex(e.type,e.id);c[e.type].data.splice(t,1),e.noEmit||f.emitChange()}},deleteLib:function(e,t){var n=f.findIndex(e.type,e.id),i=void 0;if(!$.isUndefined(n)){if("contr"==e.type?i="controls":"page"==e.type&&(i="pages"),e.otherId){var a=f.getDataOne(e.type,e.otherId),r=f.getDataOne(e.type,e.id);a[i]=a[i].concat(r[i]),c[e.type].data.splice(n,1)}else c[e.type].data.splice(n,1);t||f.emitChange()}},deleteChild:function(e){var t=f.getDataOne(e.type,e.parentId),n=!1,i=void 0;t&&(t[l[e.type]].every(function(t,a){return e.id!=t.id||(t.name=e.name,i=a,n=!0,!1)}),n&&t[l[e.type]].splice(i,1),!e.noEmit&&n&&f.emitChange())},addChild:function(e){var t=f.getDataOne(e.type,e.getLibId),n=f.getDataOne(e.type,e.setLibId,!0),i=f.findChild({parentData:t,type:e.type,childId:e.childId});i&&n&&(i=$.extend(!0,{},i),n[l[f.getDataType(e.type)]].unshift(i),e.noEmit||f.emitChange())},changeVal:function(e){var t=f.getDataOne(e.type,e.id,!0);t&&(e.childId&&(t=f.findChild({parentData:t,type:e.type,childId:e.childId})),(e.key||e.isUndefined)&&(t[e.key]=e.value),e.changeNum&&(t[e.changeNum]+=e.value?1:-1),e.noEmit||f.emitChange())},add:function(e){-1===c[e.type].data.indexOf(e.id)&&(c[e.type].data.push(e.id),e.noEmit||f.emitChange())},addLib:function(e){var t={id:e.id,isPublish:!1,name:e.name,pages:[],permission:e.permission,quoteNum:0,likeNum:0};"page"==e.type?(e.platform&&(t.platform=e.platform),t.pages=[]):"contr"==e.type&&(t.controls=[]),u[e.type][e.id]=t,c[e.type].data.unshift(e.id),e.noEmit||f.emitChange()},addPro:function(e){var t={id:e.id,isPublish:!1,image:e.image,name:e.name,pageNum:e.pageNum,permission:e.permission,platform:e.platform,downloadNum:0,likeNum:0};u.project[e.id]=t,c.project.data.unshift(e.id),e.noEmit||f.emitChange()},changeName:function(e){var t=f.getDataOne(e.type,e.id,!0);t&&(t.name=e.name,e.noEmit||f.emitChange())},changeChildName:function(e){var t=f.getDataOne(e.type,e.parentId),n=!1;t&&(t[l[e.type]].every(function(t){return e.id!=t.id||(t.name=e.name,n=!0,!1)}),!e.noEmit&&n&&f.emitChange())},findDataById:function(e,t,n,i){var a=void 0,r=[];return c[e].data.every(function(n,o){return i||"project"==e||"collectProject"==e||"quoteContr"==e||"quotePage"==e?n.id!=t||(a=n,r[0]=o,!1):"contr"==e?(n.controls.every(function(e,n){return e.id!=t||(a=e,r[1]=n,!1)}),!a||(r[0]=o,!1)):"page"!=e||(n.pages.every(function(e,n){return e.id!=t||(a=e,r[1]=n,!1)}),!a||(r[0]=o,!1))}),n?r:a},setCooperationNum:function(e,t,n,i){var a=u[e][t];a&&(i?(a.cooperationUserNum+=n,f.emitChange()):a.cooperationUserNum!=n&&(a.cooperationUserNum=n,f.emitChange()))},getData:function(e){return c[e].data},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});a.default.register(function(e){switch(e.actionType){case r.default.USERHOME_LOADPROJECT:f.loadProject(e.data);break;case r.default.USERHOME_LOADCONTR:f.loadContr(e.data);break;case r.default.USERHOME_LOADPAGE:f.loadPage(e.data);break;case r.default.USERHOME_LOADQC:f.loadQuoteContr(e.data);break;case r.default.USERHOME_LOADQP:f.loadQuotePage(e.data);break;case r.default.USERHOME_LOADCP:f.loadCollectProject(e.data);break;case r.default.USERHOME_LOADCC:f.loadCollectContr(e.data);break;case r.default.USERHOME_LOADCPA:f.loadCollectPage(e.data);break;case r.default.USERHOME_CHANGENAME:f.changeName(e.option);break;case r.default.USERHOME_DELETE:f.delete(e.option);break;case r.default.USERHOME_DELETELIB:f.deleteLib(e.option);break;case r.default.USERHOME_ADD:f.add(e.option);break;case r.default.USERHOME_CHANGEACTIVE:f.changeVal(e.option)}}),e.exports=f},function(e,t,n){"use strict";var i,a=n(9),r=(i=a)&&i.__esModule?i:{default:i};var o=n(10).EventEmitter,s={notification:{data:[],isDownload:!1},cooperation:{}},l=(0,r.default)({},o.prototype,{getListData:function(){return s},loadNotification:function(e,t){s.notification.data=e,s.notification.isDownload=!0,t||l.emitChange()},setCooperation:function(e,t){s.cooperation=e,window.hasOtherPeople=s.cooperation.list.length>1,t||l.emitCooperationChange()},getCooperation:function(){return s.cooperation},getIsDownLoad:function(e){return s[e].isDownload},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)},emitCooperationChange:function(){this.emit("cooperationChange")},addCooperationChangeListener:function(e){this.on("cooperationChange",e)},removeCooperationChangeListener:function(e){this.removeListener("cooperationChange",e)}});e.exports=l},function(e,t,n){"use strict";var i=o(n(9)),a=o(n(68)),r=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(10).EventEmitter,l={isShow:!1,left:0,top:0,text:null};function c(e){l.isShow=e}var d=(0,i.default)({},s.prototype,{getMoveTip:function(){return l},moveTipUpdate:function(e){var t;l.isShow&&e.left==l.left&&e.top==l.top&&e.text==l.text||(t=e,l.left=t.left,l.top=t.top,l.text=t.text,c(!0),d.emitChange())},moveTipShow:function(e){l.isShow=e,d.emitChange()},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});r.default.register(function(e){switch(e.actionType){case a.default.MOVETIP_UPDATE:d.moveTipUpdate(e);break;case a.default.MOVETIP_SHOW:e.isShow!=l.isShow&&(c(e.isShow),d.emitChange())}}),e.exports=d},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({POPUP_INIT:null,POPUP_HIDE:null})},function(e,t,n){"use strict";var i=r(n(2)),a=r(n(72));function r(e){return e&&e.__esModule?e:{default:e}}var o={choosePage:function(e){i.default.dispatch({actionType:a.default.VIEW_CHOOSEPAGE,index:e})},changeZoom:function(e){i.default.dispatch({actionType:a.default.VIEW_CHANGEZOOM,zoom:e})},zoomOut:function(){i.default.dispatch({actionType:a.default.VIEW_ZOOMOUT})},switchMode:function(e){i.default.dispatch({actionType:a.default.VIEW_SWITCHMODE,mode:e})},switchToPrevMode:function(e){i.default.dispatch({actionType:a.default.VIEW_SWITCHTOPREVMODE})},create:function(e){i.default.dispatch({actionType:a.default.VIEW_CREATE,options:e})},updateProp:function(e,t){i.default.dispatch({actionType:a.default.VIEW_UPDATEPROP,index:e,prop:t})},updateActiveProp:function(e){i.default.dispatch({actionType:a.default.VIEW_UPDATEACTIVEPROP,prop:e})},projectWebInit:function(e,t){i.default.dispatch({actionType:a.default.VIEW_PROJECTWEBINIT,option:e,addOffLineData:t})},backColorChange:function(e,t){i.default.dispatch({actionType:a.default.VIEW_BACKCOLOR,pageId:e,backColor:t})},setViewProp:function(e){i.default.dispatch({actionType:a.default.VIEW_SETVIEWPROP,obj:e})},selectChange:function(e){i.default.dispatch({actionType:a.default.VIEW_SELECTCHANGE,selectArr:e})},selectAll:function(){i.default.dispatch({actionType:a.default.VIEW_SELECTALL})},copyPage:function(){i.default.dispatch({actionType:a.default.VIEW_COPYPAGE})},deletePages:function(){i.default.dispatch({actionType:a.default.VIEW_DELETEPAGES})}};e.exports=o},function(e,t,n){"use strict";var i=r(n(2)),a=r(n(81));function r(e){return e&&e.__esModule?e:{default:e}}var o={show:function(e){i.default.dispatch({actionType:a.default.DROPDOWNBOX_SHOW,options:e})},hide:function(){i.default.dispatch({actionType:a.default.DROPDOWNBOX_HIDE})},edit:function(e){i.default.dispatch({actionType:a.default.DROPDOWNBOX_EDIT,options:e})}};e.exports=o},function(e,t,n){"use strict";var i,a=n(9),r=(i=a)&&i.__esModule?i:{default:i};var o=n(10).EventEmitter,s=$.getMidPosi?$.getMidPosi():void 0,l=s?{left:s[0],top:s[1],width:s[2],height:s[3]}:void 0,c=(0,r.default)({},o.prototype,{resetSize:function(){s=$.getMidPosi?$.getMidPosi():void 0,l=s?{left:s[0],top:s[1],width:s[2],height:s[3]}:void 0},getSize:function(){return l},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});e.exports=c},function(e,t,n){"use strict";var i=o(n(9)),a=o(n(53)),r=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(10).EventEmitter,l={isShow:!1,left:0,top:0,content:[]};function c(e){l.left=e.left,l.top=e.top,l.content=e.content}var d=(0,i.default)({},s.prototype,{getRightMenu:function(){return l},rightMenuUpdate:function(e){c(e),d.rightMenuShow(!0),d.emitChange()},rightMenuShow:function(e,t){l.isShow!=e&&(l.isShow=e,t&&d.emitChange())},getRightMenuShow:function(){return l.isShow},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});r.default.register(function(e){switch(e.actionType){case a.default.RIGHTMENU_UPDATE:c(e),d.rightMenuShow(!0),d.emitChange();break;case a.default.RIGHTMENU_SHOW:d.rightMenuShow(e.isShow),d.emitChange()}}),e.exports=d},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({RIGHTMENU_UPDATE:null,RIGHTMENU_SHOW:null})},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({TOAST_SHOW:null})},function(e,t,n){"use strict";var i=u(n(34)),a=u(n(9)),r=u(n(2)),o=u(n(236)),s=(u(n(293)),u(n(260)),u(n(0))),l=u(n(37)),c=u(n(8)),d=u(n(35));function u(e){return e&&e.__esModule?e:{default:e}}var f=n(10).EventEmitter,h={start:0,total:0,past:0,state:"paused",unitW:0,data:[]},p=new window.TimelineMax({paused:!0,onUpdate:function(){g.isStateContrast&&y&&S();h.past=p.time(),(0===p.progress()||1===p.progress())&&x();T.emitChange()}}),g=void 0,m=void 0,v=void 0,y=void 0;function w(e,t,n,i,a){var r=p,o={},c=i||1,d=l.default.getTrArea();t?l.default.setTransition(t,n):r.clear(),l.default.getChangedContrs(!0);var u=l.default.getCurData(),f=l.default.getChangedContrsData();t||(g=u.curContr,v=$.getElById($.getContrId(g)),m=s.default.getAllValsContr({contrKey:$.getContrId(g),type:"start"}),y=$.getElById("linkLine"),l.default.saveGlobalData());var _=u.curTr,b=u.curState,S=l.default.getTrProps(),x=$.isUndefined(a)?0:$.getDecimals(a-S.delay),E=h.past/h.total,I={},P=[];if(l.default.getDisabled()&&(S.delay=0,S.time=0),!_[b.end])return log("warning"),o;for(var A in _[b.end].contrs)if(f[A]||f[A+"_state"]){var O=s.default.getStartEndContrs(A),k=O.start,L=O.end,M=_[b.end].contrs[A],D=[],N=[];for(var B in b.reverse&&(k=O.end,L=O.start),M.units[0].keyframes)N.push(B),D[B]=M.units[0].keyframes[B].frame;N=N.sort(function(e,t){return parseInt(e)-parseInt(t)}),I[A]={keyArr:N,keyframes:D,props:M.units[0].props||{},startContr:k,endContr:L}}var R=function(e){var t=$.getElById(e),n=I[e].keyArr,i=I[e].props.time||S.time,a=I[e].props.delay?I[e].props.delay-d[0]:S.delay-d[0]+x,s=I[e].props.easing||S.easing;r.set(t,{x:"+=0"},0),P[e]=[],o[e]||(o[e]={}),o[e+"_start"]||(o[e+"_start"]={}),n.forEach(function(t,r){if(0!==r)for(var l=I[e].keyframes[t],d=$.extend(!0,$.extend(!0,{},I[e].startContr),l),u=r-1;u>=0;u--){var f=I[e].keyframes[n[u]],h=$.extend(!0,$.extend(!0,{},I[e].startContr),f);for(var p in l){if("state"==p){var g=I[e].props.stateDelay;$.extend(!0,o,w(!1,e,{start:$.getContrEndState(d),end:$.getContrEndState(h),reverse:b.reverse},c+1,g))}P[e].push(p),"100%"!=t&&$.isUndefined(I[e].keyframes["100%"][p])&&(I[e].keyframes["100%"][p]=I[e].endContr[p])}o[e][c]={contrId:e,styles:l,curData:d,prevData:h,time:i*(parseInt(t)-parseInt(n[u]))/100,delay:a+parseInt(n[u])/100*i,easing:s}}}),o[e+"_start"][c]={contrId:e,styles:I[e].keyframes["0%"],curData:$.extend(!0,$.extend(!0,{},I[e].endContr),I[e].keyframes["0%"])}};for(var U in I)R(U);if(!t){var H=[],V=[];for(var K in o)for(var j in o[K])-1==K.indexOf("_start")?V=V.concat(C(o[K][j])):H=H.concat(C(o[K][j]));H.forEach(function(e){r.set(e.element,$.extend(!0,"self"==e.type?{transformOrigin:"50% 50%"}:{},e.props),0)}),V.forEach(function(e){var t=e.props;e.start&&r.set(e.element,e.start,e.delay),e.easing&&(t=$.extend(!0,{ease:$.getEasingFuncName(e.easing)},t)),r.to(e.element,e.time,t,e.delay),e.end&&r.set(e.element,e.end)})}if(t)return o;h.start=d[0],h.total=$.getDecimals(d[1]-d[0]),h.state="paused",h.data=P,e&&(h.past=h.total*E,r.progress(E),T.emitChange()),l.default.resetGlobalData(),l.default.setTransition($.getContrId(g)),r.progress(b.reverse?1:0)}function C(e){var t,n={},a=[],r=e.contrId.split("_")[0],o={text:{self:t={class:"",stylesArr:["width","height","left","top","rotate"]},textBox:{class:".contrTextBox",stylesArr:["radius","isMaxRadius","width","height","insetBorder","opacity","backColor","hasBackColor","border","shadow","isShow","isDelete","vertical","horizontal"]},text:{class:".inputText",stylesArr:["adjaceney","fontSize","lineHeight","indent","filter","textColor","textShadow","isB","isI","isU"]},content:{class:"textarea",stylesArr:["content"]},contentPre:{class:"pre span",stylesArr:["content"]}},image:{self:t,borderBox:{class:".contrBorder",stylesArr:["radius","isMaxRadius","width","height","insetBorder"]},imgBox:{class:".cutImgOutBox",stylesArr:["radius","isMaxRadius","width","height","opacity","border","backColor","hasBackColor","shadow","isShow","isDelete"]},img:{class:".cImg",stylesArr:["cutVals","filter"]}},wrapbox:{self:t,borderBox:{class:".contrBorder",stylesArr:["radius","isMaxRadius","width","height","insetBorder"]},wrapBox:{class:".contrWrapBox",stylesArr:["radius","isMaxRadius","width","height","backColor","hasBackColor","opacity","border","shadow","independWH","outerHidden","isShow","isDelete"]}},symbol:{self:t,children:{class:".contrGroup",stylesArr:["scale"]}},icon:{self:t,icon:{class:"i",stylesArr:["width","height","iconColor","opacity","isShow","isDelete"]}}}[r],s=e.curData,l=$.getContrPosi(s,void 0,!0),c=function(t){o[t].stylesArr.forEach(function(i){$.isUndefined(e.styles[i])||($.isUndefined(n[t])&&(n[t]={element:$.query("#"+e.contrId+" "+o[t].class),process:{},ins:{},startData:{}}),function t(n,i,a){var r=$.styleDict(n);var o=e.styles[n];switch(n){case"textShadow":i.process[r]="rgba(0,0,0,0.5) 0px "+o+"px "+o+"px";break;case"opacity":i.process[r]=o/100;break;case"insetBorder":i.process[r]=o[1]+"px solid "+o[0],"borderBox"==a&&t("radius",i);break;case"content":"contentPre"==a?i.ins.content=o:i.ins[r]=o;break;case"vertical":case"horizontal":i.ins[n]=o;break;case"isB":i.ins[r]=o?"bold":"normal";break;case"isI":i.ins[r]=o?"italic":"normal";break;case"isU":i.ins[r]=o?"underline":"none";break;case"isShow":i.process.opacity=!1===o?0:s.opacity/100;break;case"isDelete":i.process.opacity=o?0:s.opacity/100;break;case"shadow":case"border":i.process[r]||(i.process[r]=(null===s.border[0]?"":" 0 0 0 "+s.border[1]+"px "+s.border[0]+",")+"0px "+s.shadow+"px "+s.shadow+"px "+(s.border[1]?s.border[1]:0)+"px rgba(0,0,0,0.5)");break;case"rotate":i.process[r]=o,t("left",i),t("top",i);break;case"cutVals":$.extend(!0,i.process,{width:o.boxWidth,height:o.boxHeight,left:o.boxLeft,top:o.boxTop});break;case"filter":i.process.webkitFilter=$.getFilter(o),i.process.filter=$.getFilter(o);break;case"radius":case"isMaxRadius":i.process[r]||(i.process[r]=(s.isMaxRadius?Math.ceil(Math.min(s.width,s.height)/2):Math.ceil(s.radius))+"px");break;case"backColor":case"hasBackColor":i.process[r]||(i.process[r]=s.hasBackColor?s.backColor:"transparent");break;case"left":l||(l=$.getContrPosi(s,void 0,!0)),$.isUndefined(i.process[r])&&(i.process[r]=l.left+l.width/2-s.width/2);break;case"top":l||(l=$.getContrPosi(s,void 0,!0)),$.isUndefined(i.process[r])&&(i.process[r]=l.top+l.height/2-s.height/2);break;case"width":case"height":if("icon"==a){if($.isUndefined(i.process.fontSize)){var c=1,d=1;i.process.fontSize=Math.max(Math.max(s.width,s.height),12),s.width!=s.height&&(s.width>s.height?d=s.height/s.width:c=s.width/s.height),i.process.transform=1!=c||1!=d?(1!=c?"scaleX("+c+")":"")+(1!=d?" scaleY("+d+")":""):"none"}}else"self"!=a?t("radius",i):i.process[r]=o;break;case"fontSize":o<12&&(i.ins.width="100%",i.ins.scale=1,"vM"==s.vertical?i.ins.y="-50%":i.ins.y=0,o=Math.max(o,12)),i.process[r]=o;break;case"independWH":case"outerHidden":i.process.overflow=!s.independWH&&s.outerHidden?"hidden":"visible";break;case"scale":i.process.transform="scale("+o/10+")";break;default:i.process[r]=o}}(i,n[t],t))})};for(var d in o)c(d);var u=function(t){if((0,i.default)(n[t].process).length>0){var r={},o={};a.push({element:n[t].element,props:n[t].process,time:e.time,delay:e.delay,start:0!==$.objLength(r)&&r,end:0!==$.objLength(o)&&o,easing:e.easing,type:t})}if((0,i.default)(n[t].ins).length>0){if("textBox"==t){var s="";[["horizontal",n[t].ins.horizontal],["vertical",n[t].ins.vertical]].forEach(function(e){$.isUndefined(n[t].ins[e[0]])||(s+=(""!==s?" ":"")+e[1],delete n[t].ins[e[0]])}),""!==s&&(e.prevData?n[t].ins.className="+="+s:n[t].ins.className="-="+s)}a.push({element:n[t].element,props:n[t].ins,time:0,delay:e.delay,type:t})}};for(var f in n)u(f);return a}function _(e,t,n){var i=(e-h.start)/h.total;i=$.setRegion(i,0,1),p.progress(i),h.unitW=n}function b(e){1!=p.progress()?p.resume():p.restart(),d.default.correctRange({type:"preview",previewArea:l.default.getTrArea(),transX:T.getTransX()}),h.state="running",e&&T.emitChange()}function S(){var e=$.getCssPosi(v),t=$.getContrPosi(m),n=e[0],i=e[1],a=e[2],r=e[3],o={sX:t.left+t.width/2,sY:t.top+t.height/2,eX:n+a/2,eY:i+r/2},s=Math.abs(o.sX-o.eX),l=Math.abs(o.sY-o.eY),c=Math.sqrt(s*s+l*l),d=$.getAngle(o.sX,o.sY,o.eX,o.eY,!0);y.style.transform="rotate("+d+"deg)",y.style.width=c+"px"}function x(){p.pause(),h.state="paused",T.emitChange()}function E(){var e=d.default.getReverse();s.default.initAllValsContrs(),p.progress(e?1:0),c.default.switchMode("normal")}window.TweenLite.defaultEase=window.Linear.easeNone;var T=(0,a.default)({},f.prototype,{setPreviewData:function(e){w(e)},resetLinkLine:function(){g=$.isInState(s.default.getFirstSelectContr(),void 0,!0)||s.default.getFirstSelectContr(),m=s.default.getAllValsContr({contrKey:g,type:"start"}),v=$.getElById(g.type+"_"+g.id),S()},getTransX:function(e,t,n){return t?e?t[1]*n:t[0]*n:(p.time()+h.start)*h.unitW},exit:function(){E()},move:function(e,t,n){return _(e,0,n)},reload:function(){p.progress(0)},getPreviewInfo:function(){return h},getPreviewState:function(){return h.state},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});r.default.register(function(e){switch(e.actionType){case o.default.PREVIEW_SETPREVIEWDATA:w(e.time);break;case o.default.PREVIEW_MOVE:_(e.time,e.contrId,e.unitW);break;case o.default.PREVIEW_STOP:n=e.reverse,p.progress(n?1:0),"preview"!=c.default.getViewMode()&&$.removeClass($.getElById("phoneConWrapBox"),"preview"),i&&T.emitChange();break;case o.default.PREVIEW_PAUSE:x();break;case o.default.PREVIEW_PLAY:b(!0);break;case o.default.PREVIEW_EXIT:E();break;case o.default.PREVIEW_PREVIEW:t=e.unitW,s.default.initAllValsContrs(),c.default.switchMode("preview"),setTimeout(function(){w(),h.unitW=t,b()},0),T.emitChange();break;case o.default.PREVIEW_SETUNITW:h.unitW=e.unitW,T.emitChange();break;case o.default.PREVIEW_RESTART:p.restart(),h.state="running"}var t,n,i}),e.exports=T},function(e,t,n){"use strict";var i=o(n(9)),a=o(n(25)),r=o(n(13));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(10).EventEmitter,l={redLineX:[],redLineY:[]},c={},d=(0,i.default)({},s.prototype,{getRedLineObj:function(){return l},initDragOption:function(e){var t=n(0),i=n(8),o=t.getFirstSelectContr(),s=t.getSelect(),l=i.getActiveMainbox();(c=$.extend({contrs:null,dragPointKey:null,isWrapBox:!1,minWHarr:[1,1],minSize:3,parentPosi:[0,0],isMergeIn:r.default.getMergeBoxIn(),isWrapEdit:r.default.getIsWrapEdit(),isRotate:"0"!=o.rotate,viewMode:i.getViewMode()},e)).isMergeIn||(c.thisGuideLineX=a.default.getPageTypeLine(l.props.page.key,"x"),c.thisGuideLineY=a.default.getPageTypeLine(l.props.page.key,"y")),c.isWrapEdit&&!c.isWrapBox&&r.default.getContrList().forEach(function(e){e=t.getAllValsContr({contrKey:e}),c.parentPosi[0]+=e.left,c.parentPosi[1]+=e.top}),1==s.length&&o.isOpt&&o.isStateContrast&&c.contrs.push(t.getAllValsContr({contrKey:o,type:"start"})),c.contrs=c.contrs.map(function(e){var n=e;return $.getContrId(e)!==$.getContrId(o)&&(n=t.getAllValsContr({contrKey:e})),$.isDependBottomContr(n)&&((n=$.extend(!0,{},n)).top+=$.getDependBottomVal()),$.isSymbolContr(n)&&((n=$.extend(!0,{},n)).width*=n.scale/10,n.height*=n.scale/10),n})},getDragOption:function(){return c},init:function(){0===l.redLineX.length&&0===l.redLineY.length||(l={redLineX:[],redLineY:[]},[].slice.call(window.document.querySelectorAll(".redLineC")).forEach(function(e){$.removeClass(e,"redLineC")}),d.emitChange())},change:function(e,t){$.checkArrayEqual(l.redLineX,e.redLineX)&&$.checkArrayEqual(l.redLineY,e.redLineY)||(l=$.extend(!0,{},e),t&&t(),d.emitChange())},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});e.exports=d},function(e,t,n){"use strict";var i=r(n(2)),a=r(n(53));function r(e){return e&&e.__esModule?e:{default:e}}var o={rightMenuUpdate:function(e){i.default.dispatch({actionType:a.default.RIGHTMENU_UPDATE,left:e.left,top:e.top,content:e.content})},show:function(e){i.default.dispatch({actionType:a.default.RIGHTMENU_SHOW,isShow:e})}};e.exports=o},function(e,t,n){"use strict";var i,a=n(9),r=(i=a)&&i.__esModule?i:{default:i};var o=n(10).EventEmitter,s={user:{},choosePage:{}},l=(0,r.default)({},o.prototype,{setCooperationUser:function(e,t){var n={},i={};e.list.forEach(function(e){n[e.id]=$.extend(!0,{},e),s.choosePage[e.id]?i[e.id]=s.choosePage[e.id]:e.id!=window.loginInfo.userId&&(i[e.id]={pageKey:e.pageIndexKey,socketId:e.socketId})}),s.choosePage=i,s.user=n,t||l.emitChoosePageChange()},setChoosePage:function(e,t){s.choosePage[e.userId]={pageKey:e.pageKey,socketId:e.socketId},t||l.emitChoosePageChange()},getChoosePageUser:function(){var e={};for(var t in s.choosePage)if(t!=window.loginInfo.userId){var n=s.choosePage[t];e[n.pageKey]||(e[n.pageKey]=[]),s.user[t]&&e[n.pageKey].push(s.user[t])}return e},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)},emitChoosePageChange:function(){this.emit("change")},addChoosePageChangeListener:function(e){this.on("change",e)},removeChoosePageChangeListener:function(e){this.removeListener("change",e)}});e.exports=l},function(e,t,n){"use strict";var i=c(n(3)),a=c(n(7)),r=c(n(6)),o=c(n(5)),s=c(n(4)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var d=void 0,u=void 0,f=void 0,h=void 0,p=function(e){function t(e){(0,a.default)(this,t),d=f=$.getContrPosi(e.start),u=h=$.getContrPosi(e.end),$.isDependBottomContr(e.start)&&(d.top+=$.getDependBottomVal()),$.isDependBottomContr(e.end)&&(u.top+=$.getDependBottomVal());var n=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={},n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"shouldComponentUpdate",value:function(e){return d=$.getContrPosi(e.start),u=$.getContrPosi(e.end),$.isDependBottomContr(e.start)&&(d.top+=$.getDependBottomVal()),$.isDependBottomContr(e.end)&&(u.top+=$.getDependBottomVal()),(!f||d.left!=f.left||d.top!=f.top||d.width!=f.width||d.height!=f.height||!h||u.left!=h.left||u.top!=h.top||u.width!=h.width||u.height!=h.height)&&(f=$.extend(!0,{},d),h=$.extend(!0,{},u),!0)}},{key:"render",value:function(){var e={sX:d.left+d.width/2,sY:d.top+d.height/2,eX:u.left+u.width/2,eY:u.top+u.height/2},t=Math.abs(e.sX-e.eX),n=Math.abs(e.sY-e.eY),i=Math.sqrt(t*t+n*n),a=$.getAngle(e.sX,e.sY,e.eX,e.eY,!0),r={left:e.sX,top:e.sY,transform:"rotate("+a+"deg)",width:i+"px"};return l.default.createElement("div",{id:"linkLine",className:"link-line",style:r})}}]),t}(l.default.Component);e.exports=p},function(e,t,n){"use strict";window.hostUrl="https://www.xiaopiu.com",window.imgUrl="https://img.xiaopiu.com",window.staticUrl="https://img.xiaopiu.com",window.maxNameLength=24,window.isMac="Mac68K"===window.navigator.platform||"MacPPC"===window.navigator.platform||"Macintosh"===window.navigator.platform||"MacIntel"===window.navigator.platform,window.$.noop=function(){},window.$.type=function(e){switch(e){case null:return"null";case void 0:return"undefined"}switch(Object.prototype.toString.call(e)){case"[object String]":return"string";case"[object Number]":return"number";case"[object Boolean]":return"boolean";case"[object Array]":return"array";case"[object Date]":return"date";case"[object Function]":return"function";case"[object RegExp]":return"regExp";case"[object Object]":default:return"object"}},window.$.isObject=function(e){return"object"==$.type(e)},window.$.unescapeObj=function(e){var t={};for(var n in e)$.isObject(e[n])?t[n]=$.unescapeObj(e[n]):"array"==$.type(e[n])?t[n]=$.unescapeArr(e[n]):"boolean"==$.type(e[n])?t[n]=e[n]:t[n]=unescape(e[n]);return t},window.$.unescapeArr=function(e){return e.map(function(e){return $.isObject(e)?$.unescapeObj(e):"array"==$.type(e)?$.unescapeArr(e):"boolean"==$.type(e)?e:unescape(e)})},window.mouseDownTarget={name:null,posi:[],movePosi:[],target:null,moveFunc:$.noop,endFunc:$.noop},window.log=window.isDevelop?console.log:$.noop,window.h5ImgUrl||(window.loginInfo&&(window.loginInfo=$.unescapeObj(window.loginInfo)),window.userInfo&&(window.userInfo=$.unescapeObj(window.userInfo)));try{window.parent&&window.parent.pcParentApp&&(window.pcApp=!0)}catch(e){log(e,"window.parent.pcParentApp")}e.exports="initWIN"},function(e,t,n){"use strict";window.Array.prototype.remove=function(e){var t=this.indexOf(e);return t>-1&&this.splice(t,1),this},window.String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")},window.String.prototype.gblen=function(){for(var e=0,t=0;t<this.length;t++)this.charCodeAt(t)>127||94==this.charCodeAt(t)?e+=2:e++;return e},window.String.prototype.replaceAll=function(e,t,n){return this.replace(new RegExp(e,"gm"+(n?"i":"")),t)},window.Date.prototype.diff=function(e){return(this.getTime()-e.getTime())/864e5},window.Date.prototype.days=function(e){return Math.ceil((this.getTime()-e.getTime())/864e5)},window.Date.prototype.isOlder=function(e){return this.getTime()-e.getTime()>=0},e.exports="prototype"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(9)),a=o(n(40)),r=o(n(75));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(10).EventEmitter,l={notification:{data:[],isDownload:!1}},c=(0,i.default)({},s.prototype,{getListData:function(){return l},loadNotification:function(e,t){l.notification.data=e,l.notification.isDownload=!0,t||c.emitChange()},getIsDownLoad:function(e){return l[e].isDownload},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});a.default.register(function(e){switch(e.actionType){case r.default.HEADER_LOADNOTIFI:c.loadNotification(e.data)}}),t.default=c},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({PAGELIB_INIT:null,PAGELIB_ADD:null,PAGELIB_DELETE:null,PAGELIB_EDIT:null,PAGELIB_CHANGEEDIT:null,PAGELIB_ADDPAGE:null,PAGELIB_DELPAGE:null,PAGELIB_SCROLLTOP:null,PAGELIB_CONCAT:null,PAGELIB_UPDATEPAGE:null,PAGELIB_INITPUBLIC:null,PAGELIB_OPENCHANGE:null,PAGELIB_LIBSMANAGE:null})},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({MYCONTROL_INIT:null,MYCONTROL_ADD:null,MYCONTROL_DELETE:null,MYCONTROL_EDIT:null,MYCONTROL_CHANGEEDIT:null,MYCONTROL_ADDCONTR:null,MYCONTROL_UPDATECONTR:null,MYCONTROL_DELCONTR:null,MYCONTROL_SCROLLTOP:null,MYCONTROL_CONCAT:null,MYCONTROL_INITPUBLIC:null,MYCONTROL_OPENCHANGE:null,MYCONTROL_LIBSMANAGE:null})},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({ANIMLINE_SHOW:null,ANIMLINE_MOVE:null,ANIMLINE_HIDE:null})},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({ANIM_CHOOSEANIM:null,ANIM_UNSELECTANIM:null,ANIM_UNSELECTFRAME:null,ANIM_DELETEANIM:null,ANIM_INITFRAMES:null,ANIM_EDITFRAMEKEY:null,ANIM_INTOKEYFRAME:null,ANIM_EXITKEYFRAME:null,ANIM_CREATEFRAME:null,ANIM_CHOOSEFRAME:null,ANIM_DELETEFRAME:null,ANIM_EMPTYFRAME:null,ANIM_EDITTRPROPS:null,ANIM_EDITCONTRPROPS:null,ANIM_EDITALLEASING:null,ANIM_EDITSTATEDELAY:null,ANIM_TOGGLEDISABLED:null})},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({ZOOM_CHANGE:null})},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({MOVETIP_UPDATE:null,MOVETIP_SHOW:null})},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({CONTR_CREATETEXT:null,CONTR_CREATEHOTSPOT:null,CONTR_CREATEICON:null,CONTR_CREATEIMAGE:null,CONTR_CREATEWRAP:null,CONTR_KEYMOVE:null,CONTR_MOVE:null,CONTR_POSI:null,CONTR_SELECTCHANGE:null,CONTR_UPDATE:null,CONTR_ALLUPDATE:null,CONTR_DELETESELECT:null,CONTR_SELECTALL:null,CONTR_PASTE:null,CONTR_RESOLVE:null,CONTR_SAVEMERGE:null,CONTR_BACKMERGE:null,CONTR_IMPORTPAGE:null,CONTR_FILTERCHANGE:null,CONTR_CREATESTATE:null,CONTR_SELECTSTATE:null,CONTR_EDITSTATE:null,CONTR_REWHPROP:null})},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({DRAGCONTR_INIT:null,DRAGCONTR_SHOW:null,DRAGCONTR_MOVE:null,DRAGCONTR_ADD:null})},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({PHONECONBOX_MOVE:null,PHONECONBOX_OPTIMIZATIONOFF:null,PHONECONBOX_OPTIMIZATIONON:null})},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({VIEW_CHOOSEPAGE:null,VIEW_ZOOMOUT:null,VIEW_CREATE:null,VIEW_UPDATEPROP:null,VIEW_SWITCHMODE:null,VIEW_SWITCHTOPREVMODE:null,VIEW_PROJECTWEBINIT:null,VIEW_CHANGEZOOM:null,VIEW_BACKCOLOR:null,VIEW_SETVIEWPROP:null,VIEW_UPDATEACTIVEPROP:null,VIEW_SELECTCHANGE:null,VIEW_SELECTALL:null,VIEW_COPYPAGE:null,VIEW_DELETEPAGES:null})},,function(e,t,n){"use strict";var i=r(n(40)),a=r(n(75));function r(e){return e&&e.__esModule?e:{default:e}}var o={loadNotification:function(e){i.default.dispatch({actionType:a.default.HEADER_LOADNOTIFI,data:e})}};e.exports=o},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({HEADER_LOADNOTIFI:null})},function(e,t,n){"use strict";var i=o(n(9)),a=o(n(283)),r=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(10).EventEmitter,l=2,c=.5,d={isShow:!1,url:"",image:"",noBtn:!1,noClose:!1,view:null,user:null,hideNote:!1,hideEventTag:!1,currLabel:"info",scale:1},u=[],f={},h=[];function p(){try{var e=window.document.body.parentNode.clientHeight;if("web"==window.platform){var t=$.getElById("bodyWrapper");if(t){var n=t.clientWidth;d.scale=n/window.phoneSize.width}}else{var i=window.phoneModelSizeObj[window.phoneViewSize.type]?window.phoneModelSizeObj[window.phoneViewSize.type][1]:window.phoneViewSize.height+187,a=parseInt((e-40)/i*100)/100;d.scale=Math.min(a,1)}}catch(e){log(e)}}var g=(0,i.default)({},s.prototype,{init:function(e){d.isShow=!0,d.url=e.url,d.image=e.image,d.noBtn=e.noBtn,d.showBtn=e.showBtn,d.noClose=e.noClose,d.isMine=e.isMine,d.user=e.user,d.view=e.view,d.currLabel="info","web"!=window.platform&&(g.initPhoneViewSize(),$.addClass(window.document.body,"overflowHidden")),u=[],e.closeFunc&&(d.closeFunc=e.closeFunc),e.noEmit||g.emitChange()},zoomFit:function(){p()},exit:function(e){d.isShow=!1,d.closeFunc&&d.closeFunc(),e||g.emitChange(),$.removeClass(window.document.body,"overflowHidden")},isShow:function(){return d.isShow},getPagesArr:function(){return u},getActivePage:function(e){var t=void 0;return u.every(function(n){return!n.active||(t=e?n:n.key,!1)}),t},setPagesArr:function(e,t){e&&(d.hideNote=!1,d.hideEventTag=!1,(u=$.extend(!0,[],e)).forEach(function(e){f[e.key]=e}),t||(g.emitChange(),g.emitBtnChange()))},setStructData:function(e){h=0===e.length?u:$.extend(!0,[],e)},getStructData:function(){return h},getStructHierarchy:function(e){return(e||h).map(function(e){if("page"==e.type)return f[e.key];if("folder"==e.type){var t=$.extend(!0,{},e);return t.folderHierarchy=g.getStructHierarchy(e.folderHierarchy),t}})},findStructFolder:function(e,t,n,i,a){var r=n||h;return i||(i={}),r.forEach(function(n,o){n.key==e&&n.type==t&&(i.hierarchy=r,i.val=n,i.index=o,i.parentKey=a),"folder"!=n.type||i.val||g.findStructFolder(e,t,n.folderHierarchy,i,n.key)}),i},changeStructFolderFold:function(e){var t=g.findStructFolder(e,"folder").val;t.fold=!t.fold},changeActivePage:function(e){$.isUndefined(e.currIndex)?u.forEach(function(t){t.key==e.nextKey?t.active=!0:t.active=!1}):(u[e.currIndex].active=!1,u[e.nextIndex].active=!0,e.nextKey=u[e.nextIndex].key),e.noEmit||g.emitChange(),"page"==d.currLabel&&e.setPos&&function(e){var t=$.getElById("pageItem"+e);if(!t)return!1;var n=$.getElById("pageList"),i=n.offsetHeight,a=t.offsetTop,r=n.scrollTop;a+30>i+r?n.scrollTop=a:a<r&&(n.scrollTop=r-a-i)}(e.nextKey)},getFrame:function(){return d.url},getNoBtn:function(){return d.noBtn},getNoClose:function(){return d.noClose},getQrcode:function(){return d.image},getPhoneView:function(){return d},getHideNote:function(){return d.hideNote},setHideNote:function(e,t){d.hideNote=e,t||g.emitBtnChange()},getHideEventTag:function(){return d.hideEventTag},setHideEventTag:function(e,t){d.hideEventTag=e,t||g.emitBtnChange()},initPhoneViewSize:function(){window.phoneViewSize=$.extend(!0,{},window.phoneSize),-1!=window.phoneViewSize.type.indexOf("_")&&(window.phoneModelSizeObj[window.phoneViewSize.type]=[window.phoneViewSize.width+36,window.phoneViewSize.height+190,95,95,16])},emitChange:function(){this.emit("change")},emitBtnChange:function(){this.emit("btn-change")},addChangeListener:function(e){this.on("change",e)},addBtnChangeListener:function(e){this.on("btn-change",e)},removeChangeListener:function(e){this.removeListener("change",e)},removeBtnChangeListener:function(e){this.removeListener("btn-change",e)}});r.default.register(function(e){switch(e.actionType){case a.default.PHONEVIEW_CHANGELABEL:i=e.label,d.currLabel=i,g.emitChange();break;case a.default.PHONEVIEW_ZOOM:t=e.type,(n=e.scale)?d.scale=n:(10*d.scale%1!=0&&(d.scale=Math.min(Math.max(Math.round(10*d.scale)/10,.5),2)),"in"==t?d.scale<l&&(d.scale=Math.round(10*(d.scale+.1))/10):"out"==t&&d.scale>c&&(d.scale=Math.round(10*(d.scale-.1))/10)),g.emitChange();break;case a.default.PHONEVIEW_ZOOMFIT:p(),g.emitChange()}var t,n,i}),e.exports=g},function(e,t,n){"use strict";var i=o(n(9)),a=o(n(63)),r=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(10).EventEmitter,l={myPageLib:[],lastPageLibKey:null,isDownload:!1,invisibleNum:null},c={myPublicPageLib:[],isDownload:!1,invisibleNum:null},d="",u={isShow:!1,searchKey:null,libType:null},f={searchKey:null,searchVal:null},h={isShow:!1,searchKey:null,pageList:[],isDownload:!1,isFirst:!0},p={private:[],public:[]};window.userLibSet&&window.userLibSet.page&&$.extend(!0,p,window.userLibSet.page);var g=(0,i.default)({},s.prototype,{getSearchObj:function(){return u},getAllSearchObj:function(){return h},closeAllSeachObj:function(e){h.isShow=!1,e||g.emitAllSearchChange()},showAllSeachObj:function(e){h.isShow=!0,e||g.emitAllSearchChange()},initAllSeachObj:function(e,t){h.isDownload=!0,h.pageList=e.data,h.searchKey=e.searchKey,h.isFirst=!1,t||g.emitAllSearchChange()},allSearchIsDownload:function(e,t){h.isDownload=e,t||g.emitAllSearchChange()},closeSeachObj:function(e,t){f={searchKey:u.searchKey,searchVal:e},u={isShow:!1,searchKey:null,libType:null},t||g.emitSearchChange()},searchLastVal:function(){return f.searchKey!=u.searchKey?"":f.searchVal},setSearchObj:function(e,t){u=$.extend(u,e),t||g.emitSearchChange()},getSearchLib:function(){if(u.isShow){if("public"==u.libType)return g.getPublicPageById(u.searchKey);if("private"==u.libType)return g.getPageLibById(u.searchKey)}},changePageLibPermission:function(e,t,n){l.myPageLib.every(function(n){return n.id!=t||(n.permission=e,!1)}),n||g.emitSearchChange()},changeNamePageIn:function(e,t,n,i){l.myPageLib.every(function(i){return i.id!=n||(i.pages.every(function(n){return n.id!=t||(n.name=e,!1)}),!1)}),i||g.emitSearchChange()},getMyPageLib:function(){return l.myPageLib},getMyInvisibleNum:function(){return l.invisibleNum},getLastPageLibKey:function(){return l.lastPageLibKey},setLastPageLibKey:function(e){l.lastPageLibKey=e},getIsDownload:function(){return l.isDownload},getPageLibById:function(e){var t=void 0;return l.myPageLib.every(function(n){return n.id!=e||(t=n,!1)}),t},getPublicPageById:function(e,t){var n=void 0,i=-1;return c.myPublicPageLib.every(function(t,a){return t.id!=e||(i=a,n=t,!1)}),t?i:n},deletePublicPageById:function(e,t){var n=g.getPublicPageById(e,!0);return n>-1&&(c.myPublicPageLib.splice(n,1),t||g.emitChange(),!0)},getPublicPageLib:function(){return c.myPublicPageLib},getPublicIsDownload:function(){return c.isDownload},getPublicInvisibleNum:function(){return l.invisibleNum},getOpenLibId:function(){return d},openChange:function(e,t){d=e.openLibId,t||g.emitChange()},changeLibCooperationLength:function(e,t){var n=g.getPageLibById(e);n.cooperationUserNum!=t&&(n.cooperationUserNum=t,g.emitSearchChange())},getPageLibSet:function(){return p},libsManage:function(e){p[e.type]=e.data},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)},emitSearchChange:function(){this.emit("searchChange")},addSearchChangeListener:function(e){this.on("searchChange",e)},removeSearchChangeListener:function(e){this.removeListener("searchChange",e)},emitAllSearchChange:function(){this.emit("allSearchChange")},addAllSearchChangeListener:function(e){this.on("allSearchChange",e)},removeAllSearchChangeListener:function(e){this.removeListener("allSearchChange",e)}});r.default.register(function(e){switch(e.actionType){case a.default.PAGELIB_INIT:f=e.myPageLib,h=e.isDownload,p=e.invisibleNum,l.myPageLib=f,l.invisibleNum=p,h&&(l.isDownload=!0),g.emitChange();break;case a.default.PAGELIB_INITPUBLIC:!function(e,t,n){c.myPublicPageLib=e,c.invisibleNum=n,t&&(c.isDownload=!0)}(e.pageLib,e.isDownload,e.invisibleNum),g.emitChange();break;case a.default.PAGELIB_ADD:g.getPageLibById(e.pageLib.id)||(u=e.pageLib,l.myPageLib.unshift(u),g.emitChange());break;case a.default.PAGELIB_SCROLLTOP:s=e.pageLibId,d=e.scrollTop,l.myPageLib.forEach(function(e){e.id==s&&(e.scrollTop=d)}),g.emitChange();break;case a.default.PAGELIB_ADDPAGE:r=e.id,o=e.page,l.myPageLib.forEach(function(e){e.id==r&&e.pages.unshift(o)}),g.emitChange();break;case a.default.PAGELIB_UPDATEPAGE:!function(e,t,n){l.myPageLib.forEach(function(i){i.id==e&&i.pages.forEach(function(e){e.id==t&&$.extend(e,n)})})}(e.id,e.pageId,e.page),g.emitChange();break;case a.default.PAGELIB_DELPAGE:!function(e,t){l.myPageLib.every(function(n){if(n.id==t){var i=!1;return n.pages.every(function(t,n){return t.id!=e||(i=n,!1)}),!1!==i&&n.pages.splice(i,1),!1}return!0})}(e.pageId,e.pageLibId),g.emitChange();break;case a.default.PAGELIB_CONCAT:t=e.thisId,n=e.otherId,i=void 0,l.myPageLib.forEach(function(e){e.id==t&&(i=e.pages)}),l.myPageLib.forEach(function(e){e.id==n&&(e.pages=e.pages.concat(i))}),g.emitChange();break;case a.default.PAGELIB_DELETE:!function(e){var t=-1;l.myPageLib.some(function(n,i){return n.id==e&&(t=i,!0)}),-1!==t&&l.myPageLib.splice(t,1)}(e.pageLibId),g.emitChange();break;case a.default.PAGELIB_EDIT:!function(e,t){l.myPageLib.forEach(function(n){n.id==t&&(n.name=e,n.isEdit&&delete n.isEdit)})}(e.name,e.pageLibId),g.emitChange();break;case a.default.PAGELIB_CHANGEEDIT:!function(e,t){l.myPageLib.forEach(function(n){n.id==e&&(t?n.isEdit=!0:n.isEdit&&delete n.isEdit)})}(e.pageLibId,e.isEdit),g.emitChange();break;case a.default.PAGELIB_OPENCHANGE:g.openChange(e.option);break;case a.default.PAGELIB_LIBSMANAGE:g.libsManage(e.options),g.emitChange()}var t,n,i,r,o,s,d,u,f,h,p}),e.exports=g},function(e,t,n){"use strict";var i=d(n(21)),a=d(n(285)),r=d(n(74)),o=d(n(12)),s=d(n(46)),l=d(n(58)),c=d(n(24));function d(e){return e&&e.__esModule?e:{default:e}}var u=void 0;if(!u){var f=[];window.versionKey&&f.push("versionKey="+window.versionKey),window.pageIndexKey&&f.push("pageIndexKey="+window.pageIndexKey),u=(0,a.default)(f.length>0?{query:f.join("&")}:void 0)}window.noLogin||(u.on("notification",function(){i.default.post(window.hostUrl+"/user/noReadNotification").send({}).set("X-API-Key","foobar").set("Accept","application/json").end(function(e,t){0==t.body.code?window.isPrototypeTool?s.default.loadNotification(t.body.data):r.default.loadNotification(t.body.data):o.default.show(t.body.msg)})}),window.isPrototypeTool&&(u.on("connect",function(){n(8).socketConnect(),window.socketConnect=!0}),u.on("disconnect",function(){n(8).socketDisconnect(),window.socketConnect=!1}),u.on("cooperation",function(e){switch(window.socketId||(window.socketId=u.id),e.type){case"cooperation":l.default.setCooperationUser(e),s.default.setCooperation(e);break;case"leaveProject":c.default.leaveProject(e.userName);break;case"deleteVersion":c.default.deleteVersion(e.userName);break;case"deleteProject":c.default.deleteProject(e.userName);break;case"removeLibrary":c.default.removeLibrary(e.libraryId,e.libraryType);break;case"addLibrary":!function(e,t){var i=n(42),a=n(39);("contr"==e?i:a).add(t)}(e.libraryType,e.data);break;case"otherChangeProject":var t=n(8);t.saveOtherAutoSaveDataArr(e),t.otherChangeProject(e.data,e.lastSaveKey,e.user);break;case"otherChoosePage":l.default.setChoosePage(e);break;case"libraryChange":!function(e){var t=n(42),i=n(39),a=e.libraryType,r="contr"==a?t:i,o={add:{contr:"addContr",page:"addPage"},update:{contr:"updateContr",page:"updatePage"},delete:{contr:"deleteContr",page:"deletePage"}};if("add"==e.data.type){var s=window.staticUrl+e.data[a].images.imgBig;$.loadImage(s,0,function(){var t=$.query('.contrListBox[data-id="'+e.data[a].id+'"] img');t&&(t.src=s)}),r[o[e.data.type][a]](e.libraryId,e.data[a])}else if("update"==e.data.type){var l=window.staticUrl+e.data[a].images.imgBig;$.loadImage(l,0,function(){var t=$.query('.contrListBox[data-id="'+e.data[a].id+'"] img');t&&(t.src=l)}),r[o[e.data.type][a]](e.libraryId,e.data[a].id,{images:e.data[a].images,name:e.data[a].name})}else"delete"==e.data.type&&r[o[e.data.type][a]](e.data.id,e.libraryId)}(e)}}))),e.exports=u},,function(e,t,n){"use strict";var i=r(n(2)),a=r(n(83));function r(e){return e&&e.__esModule?e:{default:e}}var o={init:function(e,t){i.default.dispatch({actionType:a.default.IMAGELIB_INIT,myImageLib:e,isDownload:t})},initPublic:function(e,t){i.default.dispatch({actionType:a.default.IMAGELIB_PUBLICINIT,publicImageLib:e,isDownload:t})},add:function(e){i.default.dispatch({actionType:a.default.IMAGELIB_ADD,imageLib:e})},addImage:function(e,t){i.default.dispatch({actionType:a.default.IMAGELIB_ADDIMAGE,id:e,image:t})},addHistoryImage:function(e){i.default.dispatch({actionType:a.default.IMAGELIB_ADDHISTORYIMAGE,image:e})},updateImage:function(e,t,n){i.default.dispatch({actionType:a.default.IMAGELIB_UPDATEIMAGE,id:e,imageId:t,image:n})},deleteImage:function(e,t){i.default.dispatch({actionType:a.default.IMAGELIB_DELIMAGE,imageId:e,imageLibId:t})},deleteHistoryImage:function(e,t){i.default.dispatch({actionType:a.default.IMAGELIB_DELHISTORYIMAGE,id:e,key:t})},changeScrollTop:function(e,t){i.default.dispatch({actionType:a.default.IMAGELIB_SCROLLTOP,imageLibId:e,scrollTop:t})},concatImageLibs:function(e,t){i.default.dispatch({actionType:a.default.IMAGELIB_CONCAT,thisId:e,otherId:t})},delete:function(e){i.default.dispatch({actionType:a.default.IMAGELIB_DELETE,imageLibId:e})},edit:function(e,t){i.default.dispatch({actionType:a.default.IMAGELIB_EDIT,name:e,imageLibId:t})},changeEdit:function(e,t){i.default.dispatch({actionType:a.default.IMAGELIB_CHANGEEDIT,imageLibId:e,isEdit:t})},openChange:function(e){i.default.dispatch({actionType:a.default.IMAGELIB_OPENCHANGE,option:e})},libsManage:function(e){i.default.dispatch({actionType:a.default.IMAGELIB_LIBSMANAGE,options:e})}};e.exports=o},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({DROPDOWNBOX_SHOW:null,DROPDOWNBOX_HIDE:null,DROPDOWNBOX_EDIT:null})},,function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({IMAGELIB_INIT:null,IMAGELIB_PUBLICINIT:null,IMAGELIB_ADD:null,IMAGELIB_DELETE:null,IMAGELIB_EDIT:null,IMAGELIB_CHANGEEDIT:null,IMAGELIB_ADDIMAGE:null,IMAGELIB_DELIMAGE:null,IMAGELIB_ADDHISTORYIMAGE:null,IMAGELIB_DELHISTORYIMAGE:null,IMAGELIB_SCROLLTOP:null,IMAGELIB_CONCAT:null,IMAGELIB_UPDATEIMAGE:null,IMAGELIB_OPENCHANGE:null,IMAGELIB_LIBSMANAGE:null})},function(module,exports,__webpack_require__){"use strict";var _keys=__webpack_require__(34),_keys2=_interopRequireDefault(_keys),_stringify=__webpack_require__(261),_stringify2=_interopRequireDefault(_stringify),_superagent=__webpack_require__(21),_superagent2=_interopRequireDefault(_superagent);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}module.exports=$.extend($,{getElById:function(e){return window.document.getElementById(e)},stringToObj:function(e){return e?JSON.parse(e):e},objToString:function(e){return e?(0,_stringify2.default)(e):e},isEmail:function(e){return/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(e)},isPassword:function(e){return/^[0-9A-Za-z]{6,20}$/.test(e)},isEmptyString:function(e){return""===$.trim(e)},getUrlParam:function(e,t){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),i=(t?t.split("?")[1]:encodeURI(window.location.search).substr(1)).match(n);return null!==i?unescape(i[2]):null},replaceParamGetUrl:function replaceParamGetUrl(_paramName,_replaceWith,_url){var url=_url,func=function func(_name,_replace){-1!==url.indexOf(_name+"=")?url=url.replace(eval("/("+_name+"=)([^&]*)/gi"),_name+"="+_replace):-1===url.indexOf("?")?url+="?"+_name+"="+_replace:url+="&"+_name+"="+_replace};return $.isArray(_paramName)?_paramName.forEach(function(e){func(e[0],e[1])}):func(_paramName,_replaceWith),url},ajax:function(e,t,n,i,a){var r=__webpack_require__(12);_superagent2.default[i?"get":"post"](e).send(t).set("X-API-Key","foobar").set("Accept","application/json").end(function(e,t){var i=t.body;i?0===i.code?n&&n(i):r.show(i.msg):(r.show("网络不稳定"),a&&a())})},replaceParamVal:function(e,t){var n=window.location.href.toString();(n=$.replaceParamGetUrl(e,t,n))!=window.location.href.toString()&&($.urlReplaceState(n),$.pcIframeUrlAdd())},removeParamGetUrl:function(e,t){if(-1!==t.indexOf("?")){var n=t.substr(t.indexOf("?")+1),i="",a="",r="";if(-1!==n.indexOf("&")){for(var o in a=n.split("&"))$.isString(a[o])&&a[o].split("=")[0]!=e&&(r=r+a[o].split("=")[0]+"="+a[o].split("=")[1]+"&");i=t.substr(0,t.indexOf("?"))+"?"+r.substr(0,r.length-1)}else i=(a=n.split("="))[0]==e?t.substr(0,t.indexOf("?")):t;return i}return t},removeParamVal:function(e){var t=function(e){var t=window.location.href.toString(),n=$.removeParamGetUrl(e,t);n!=window.location.href.toString()&&($.urlReplaceState(n),$.pcIframeUrlAdd())};e&&($.isArray(e)?e.forEach(function(e){t(e)}):$.isString(e)&&t(e))},urlReplaceState:function(e){window.history.replaceState(null,null,e)},changeUrlRetainParam:function(e,t){var n=e+window.location.search;if(t)return n;n!=window.location.href.toString()&&window.history.replaceState(null,null,n)},isNull:function(e){return!e&&void 0!==e&&0!=e},offset:function(e,t,n){var i=e.getBoundingClientRect();if(i.width||i.height){var a=e.ownerDocument,r=$.isWindow(a)?a:9===a.nodeType&&a.defaultView,o=a.documentElement,s={left:i.left+r.pageXOffset-o.clientLeft,top:i.top+r.pageYOffset-o.clientTop},l=t?$.extend(s,{width:i.width,height:i.height}):s;return n?t?[l.left,l.top,l.width,l.height]:[l.left,l.top]:l}},getWinSize:function(){return{width:window.document.body.parentNode.clientWidth,height:window.document.body.parentNode.clientHeight}},isMac:function(){return"Mac68K"===window.navigator.platform||"MacPPC"===window.navigator.platform||"Macintosh"===window.navigator.platform||"MacIntel"===window.navigator.platform},isFunc:function(e){return"function"==typeof e},cancelBubble:function(e){var t=window.event||e;window.attachEvent?t.cancelBubble=!0:t.stopPropagation()},rangeGoEnd:function(e,t){var n=t&&$.isDom(t)?t:e.target;if(window.getSelection){var i=n.value.length;n.setSelectionRange(i,i)}else if(window.document.selection){var a=n.createTextRange();a.collapse(!1),a.select()}},isDom:function(e){return!(!e||"undefined"==typeof window||e!==window&&!e.nodeType)},selectTextRange:function(e,t,n){if(window.getSelection){var i=n||e.value.length;e.setSelectionRange(t,i)}},getCssPosi:function(e){return[e.offsetLeft,e.offsetTop,e.clientWidth,e.clientHeight]},getOffsetPosi:function(e){for(var t=[e.offsetLeft,e.offsetTop];e.offsetParent;)e=e.offsetParent,t[0]+=e.offsetLeft,t[1]+=e.offsetTop;return t},getParentAttr:function(e,t){return e.parentNode.getAttribute(t)},collide:function(e,t,n){var i=Math.abs(e[0]+e[2]/2-(t[0]+t[2]/2))<Math.abs((e[2]+t[2])/2),a=Math.abs(e[1]+e[3]/2-(t[1]+t[3]/2))<Math.abs((e[3]+t[3])/2);return n?{left:i,top:a}:i&&a},hasClass:function(e,t){return!!e&&!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){e&&($.hasClass(e,t)||(e.className+=" "+t))},removeClass:function(e,t){if($.hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").trim()}},toggleClass:function(e,t){$.hasClass(e,t)?$.removeClass(e,t):$.addClass(e,t)},checkArrayEqual:function(e,t){var n=void 0;if(e.length===t.length&&0===e.length)n=!0;else if(e.length==t.length)for(var i=0;i<t.length;i++){n=!1;for(var a=0;a<e.length;a++)if(t[i]===e[a]){n=!0;break}}else n=!1;return n},setRegion:function(e,t,n){return Math.max(t,Math.min(e,n))},arrayUnique:function(e){if(e.length>0){e.sort();for(var t=[e[0]],n=1;n<e.length;n++)e[n]!==t[t.length-1]&&t.push(e[n]);return t}return e},isUndefined:function(e){return void 0===e},isArray:function(e){return"[object Array]"===toString.apply(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},blurInput:function(){var e=window.document.activeElement;e&&e.blur()},getWindowWH:function(){var e=window.pcParentApp?window:window.parent;return{width:e.document.body.parentNode.clientWidth,height:e.document.body.parentNode.clientHeight}},query:function(e){return window.document.querySelector(e)},queryAll:function(e){return window.document.querySelectorAll(e)},tipHide:function(){var e=window.document.querySelector("body>.C_tip");e&&(e.style.display="none")},rotateToAngle:function(e,t){return 2*Math.PI*(t?e%90<0?e%90+90:e%90:e)/360},stringCut:function(e,t){var n,i=0,a="";n=e.length;for(var r=0;r<n;r++){var o=e.charAt(r);if(i++,escape(o).length>4&&i++,a=a.concat(o),i>=t)return a}if(i<t)return e},ifCutString:function(e,t){var n=e.trim();return!!(n.gblen()>t)&&$.stringCut(n,t)},strLengthMoreThan:function(e,t){return e.gblen()>t},objLength:function(e){return(0,_keys2.default)(e).length},searchIn:function(e,t,n,i){if(""===e)return"none";var a=t,r=!1;return(n?[e]:e.split(/\s+/)).forEach(function(e){e&&new RegExp(e,"i").exec(t)&&(r=!0,a=a.replace(new RegExp(e,"ig"),function(e){return"<span class='redspan'>"+e+"</span>"}))}),r?a:!!i&&t},getContentListPadding:function(){return window.pcApp?0:($.getWindowWH().width-1200)/2+"px"},commonKeyDown:function(e){var t=__webpack_require__(41);if(8==e.keyCode){if("TEXTAREA"!=e.target.nodeName&&"INPUT"!=e.target.nodeName)return e.preventDefault(),!1}else if(13==e.keyCode){if(e.target&&"INPUT"==e.target.nodeName){var n=$.getElById("submitBtn");return e.target.blur(),n&&n.click(),e.preventDefault(),!1}if(t.getShow())return $.query(".popup .submit-btn").click(),e.preventDefault(),!1}else if(27==e.keyCode){if(e.target&&"INPUT"==e.target.nodeName)return e.target.blur(),e.preventDefault(),!1;if($("#closeBtn.phone-close").length>0)$("#closeBtn.phone-close").click();else if($("#closeBtn").length>0)$("#closeBtn").click();else{if(t.getShow())return $.query(".popup-close-btn").click(),e.preventDefault(),!1;if($.query(".phone-view-mask .close-btn"))return $.query(".phone-view-mask .close-btn").click(),e.preventDefault(),!1;if($.query(".lib-item-list-box .close-btn"))return $.query(".lib-item-list-box .close-btn").click(),e.preventDefault(),!1}}},hoverContrInit:function(){$(window.document).on("mouseenter",".a_c[data-contr=hovertip]",function(){var e=$(this),t=$.stringToObj(e.attr("data-option"));e.showTip(t)}).on("mouseleave",".a_c[data-contr=hovertip]",function(){$("body>.C_tip").hide()})},escape:function(e){var t=window.document.createElement("div");return t.appendChild(window.document.createTextNode(e)),t.innerHTML.replaceAll('"',"&quot;")},unescape:function(e){var t=window.document.createElement("div");return t.innerHTML=e,t.innerText||t.textContent},humpToHythen:function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()},isRender:function(e){return!!window.renderTest&&(window.renderTest.all||window.renderTest[e])},notLoadPassword:function(e){e.target.type="password"},setDrag:function(e){window.isPrototypeTool&&__webpack_require__(52).rightMenuShow(!1,!0);return window.mouseDownTarget=$.extend(window.mouseDownTarget,e),$.blurInput(window.event),window.mouseDownTarget},mouseDownTargetInit:function(){window.mouseDownTarget={name:null,posi:[],movePosi:[],target:null,moveFunc:$.noop,endFunc:$.noop}},conversionTime:function(e){var t=[];return t[0]=Math.floor(e/60),t[1]=e-60*t[0],t.map(function(e){var t=e;return t<10&&(t="0"+t),t}).join(":")},isIE:function(){return/msie/i.test(window.navigator.userAgent)&&!window.opera},floatNum:function(e,t){if(isNaN(e))return e;if($.isNull(e))return window.isDevelop&&log("warning, 不应该出现为null的情况"),0;var n=e.toString();return-1!=n.indexOf(".")?n.split(".")[1].length>t?+(+e).toFixed(t):+e:e},getImageDataVal:function(e){var t=1073741824;return e>t?$.floatNum(e/t,2)+"Gb":e>1048576?$.floatNum(e/1048576,2)+"Mb":e>1024?$.floatNum(e/1024,2)+"Kb":$.floatNum(e,2)+"Byte"},getIsWechatImage:function(e){return e&&-1!=e.indexOf(".qlogo.cn/")},changeWechatImageSize:function(e,t){if(e){var n=0;return 0==t?n=64:1==t?n=132:2==t&&(n=0),(e.substr(0,e.lastIndexOf("/"))+"/"+n).replace("http://wx.qlogo.cn","https://wx.qlogo.cn")}return window.staticUrl+"/userImages/imgBigDefault.png"},getUserImageUrl:function(e,t){if($.getIsWechatImage(e)&&e)return $.changeWechatImageSize(e,t);var n="Small";return 0==t?n="Small":1==t?n="Normal":2==t&&(n="Big"),window.staticUrl+"/userImages/img"+n+e+".png"},getStaticUrl:function(){return"https://img.xiaopiu.com"},isObjectEqual:function(e,t){var n=!0;if($.objLength(e)&&$.objLength(t)){for(var i in e)if(e[i]!=t[i]){n=!1;break}}else n=!1;return n},isEmptyObj:function(e){return $.isObject(e)&&0===$.objLength(e)},stringToDate:function(e){return new Date(e.replace(/-/,"/"))},initLoginPage:function(e){setTimeout(function(){var t=$(".login-main");$.getWinSize().height<t.height()?t.addClass("top"):t.hasClass("top")&&t.removeClass("top"),e&&$(window).resize(function(){$.initLoginPage()})},0)},devType:function(e){return window.isDevelop?e:{}},cObj:function(e,t){return $.extend(!t,{},e)},stopParentScroll:function(e){var t=e.currentTarget.scrollTop+e.deltaY,n=e.currentTarget.scrollHeight-e.currentTarget.offsetHeight;(t<0||t>n)&&(e.currentTarget.scrollTop=$.setRegion(t,0,n),e.preventDefault())},stopPropagation:function(e){e.stopPropagation()},onlyPreventDefault:function(e){e.preventDefault()},preventDefault:function(e){e.stopPropagation(),e.preventDefault()},colorToGray:function(e,t){var n=$.getRGBAobj(e);return t?$.RGBToGray(n,t):n.r==n.g&&n.g==n.b?e:$.RGBToGray(n)},RGBToGray:function(e,t){var n=Math.round((299*e.r+587*e.g+114*e.b+500)/1e3);return t?n:"rgba("+n+", "+n+", "+n+", "+e.a+")"},getRGBAobj:function(e){return{r:+(e=(e=e.substr(e.indexOf("rgba(")+5)).substr(0,e.indexOf(")")).split(","))[0],g:+e[1],b:+e[2],a:+e[3]}},getPlatform:function(e){return e||"mobile"},getVersionQuery:function(e){var t="";return e.versionIndexKey!=e.versionSet.activeKey&&(""==e.versionSet.activeKey?t="&baseversion=true":$.isUndefined(e.versionSet.activeKey)||(t="&versionkey="+e.versionSet.activeKey)),t},pcChangeIframe:function(e,t,n){var i=window.pcParentApp?window:window.parent,a=t&&$.isString(t)?t:e.currentTarget.getAttribute("data-href"),r=i.document.getElementById("lastIframe");r&&$.destroyIframe(r);var o=i.document.createElement("iframe"),s=i.document.querySelector(".home-box"),l=$.isEditUrl(a);o.id="pcIframe",o.className="page-iframe hide"+(l?" is-editor":""),o.name="web-page",o.title="web-page",o.src=a,s.appendChild(o),!n&&i.iframeUrlArr&&(i.iframeUrlArr.length=Math.min(i.iframeUrlIndex,i.iframeUrlArr.length),a&&i.iframeUrlArr.push(a),i.iframeUrlIndex=i.iframeUrlArr.length),!window.pcParentApp&&i.initToolBarRender&&i.initToolBarRender(),i.document.getElementById("pcIframe").id="lastIframe"},pcReloadIframe:function(){var e=window.pcParentApp?window:window.parent;$.pcChangeIframe(null,e.iframeUrlArr[e.iframeUrlIndex-1],!0)},pcBackIframe:function(){var e=window.pcParentApp?window:window.parent;e.iframeUrlArr.length>1&&e.iframeUrlIndex>1&&(e.iframeUrlIndex-=1,$.pcChangeIframe(null,e.iframeUrlArr[e.iframeUrlIndex-1],!0))},pcForwardIframe:function(){var e=window.pcParentApp?window:window.parent,t=e.iframeUrlArr.length;e.iframeUrlIndex<t&&(e.iframeUrlIndex+=1,$.pcChangeIframe(null,e.iframeUrlArr[e.iframeUrlIndex-1],!0))},pcOpenUrl:function(e,t){var n=t||e.currentTarget.getAttribute("data-href");window.pcParentApp&&window.ipcRenderer?window.ipcRenderer.sendToHost("openUrl",n):window.pcApp&&window.parent&&window.parent.ipcRenderer&&window.parent.ipcRenderer.sendToHost("openUrl",n)},destroyIframe:function(e){e.src="about:blank";try{e.contentWindow.document.write(""),e.contentWindow.document.clear()}catch(e){log(e)}e.parentNode.removeChild(e)},isEditUrl:function(e){return-1!=e.indexOf("https://www.xiaopiu.com/project?")||-1!=e.indexOf("https://www.xiaopiu.com/editor?")},pcIframeUrlAdd:function(e){if(window.pcApp&&e){var t=window.pcParentApp?window:window.parent;t.iframeUrlArr&&(t.iframeUrlArr.length=Math.min(t.iframeUrlIndex,t.iframeUrlArr.length),e&&t.iframeUrlArr.push(e),t.iframeUrlIndex=t.iframeUrlArr.length),!window.pcParentApp&&t.initToolBarRender&&t.initToolBarRender()}},getIFrameDOM:function(e){var t=window.pcParentApp?window:window.parent;return t.document.getElementById(e).contentDocument||t.document.frames[e].document}})},function(e,t,n){"use strict";var i=r(n(2)),a=r(n(68));function r(e){return e&&e.__esModule?e:{default:e}}var o={moveTipUpdate:function(e){i.default.dispatch({actionType:a.default.MOVETIP_UPDATE,left:e.left,top:e.top,text:e.text})},show:function(e){i.default.dispatch({actionType:a.default.MOVETIP_SHOW,isShow:e})}};e.exports=o},function(e,t,n){"use strict";e.exports=window.$.extend(window.$.fn,{showTip:function(e){var t=$(this),n=void 0,i=$.extend({text:"文字提示！",direction:"top",changePosi:10,changeOtherPosi:0},e),a=t.getDomPosition();switch((n=0===$("body .C_tip").length?$('<div class="C_tip"><span>'+i.text+"</span></div>").hide().appendTo($("body")):$("body>.C_tip span").text(i.text).parent().hide())[0].className="C_tip",n.show(),n.width(n.find("span").width()),i.direction){case"left":n.addClass("tip_left").css({left:a[0]+a[2]+i.changePosi,top:a[1]+i.changeOtherPosi});break;case"right":n.addClass("tip_right").css({left:a[0]-a[2]-n.find("span").width()+i.changePosi,top:a[1]+i.changeOtherPosi});break;case"top":n.addClass("tip_top").css({left:a[0]+(a[2]-n.width())/2+i.changeOtherPosi,top:a[1]+a[3]+i.changePosi});break;case"bottom":n.addClass("tip_bottom").css({left:a[0]+(a[2]-n.width())/2+i.changeOtherPosi,top:a[1]-55+i.changePosi})}return t},getDomPosition:function(){var e=$(this).offset();return[e.left,e.top,e.width,e.height]},getCssPosition:function(){var e=$(this);return[parseInt(e.css("left")),parseInt(e.css("top")),e.width(),e.height()]},scrollUnique:function(){return $(this).each(function(){var e="mousewheel";void 0!==window.document.mozHidden&&(e="DOMMouseScroll"),$(this).on(e,function(e){var t=this.scrollTop,n=this.scrollHeight,i=this.clientHeight,a=e.originalEvent.wheelDelta?e.originalEvent.wheelDelta:-(e.originalEvent.detail||0);(a>0&&t<=a||a<0&&n-i-t<=-1*a)&&(this.scrollTop=a>0?0:n,e.preventDefault())})})}})},function(e,t,n){"use strict";var i=r(n(36)),a=r(n(3));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(){var e,t,n,r,o,s,l=[],c=l.slice,d=l.filter,u=window.document,f={},h={},p={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},g=/^\s*<(\w+|!)[^>]*>/,m=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,y=/^(?:body|html)$/i,w=/([A-Z])/g,C=["val","css","html","text","data","width","height","offset"],_=u.createElement("table"),b=u.createElement("tr"),S={tr:u.createElement("tbody"),tbody:_,thead:_,tfoot:_,td:b,th:b,"*":u.createElement("div")},x=/complete|loaded|interactive/,E=/^[\w-]*$/,T={},I=T.toString,P={},$=u.createElement("div"),A={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},O=Array.isArray||function(e){return e instanceof Array};function k(e){return null==e?String(e):T[I.call(e)]||"object"}function L(e){return"function"==k(e)}function M(e){return null!=e&&e==e.window}function D(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function N(e){return"object"==k(e)}function B(e){return N(e)&&!M(e)&&(0,a.default)(e)==Object.prototype}function R(e){return"number"==typeof e.length}function U(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function H(e){return e in h?h[e]:h[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function V(e,t){return"number"!=typeof t||p[U(e)]?t:t+"px"}function K(e){return"children"in e?c.call(e.children):n.map(e.childNodes,function(e){if(1==e.nodeType)return e})}function j(e,t){return null==t?n(e):n(e).filter(t)}function F(e,t,n,i){return L(t)?t.call(e,n,i):t}function z(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function W(t,n){var i=t.className||"",a=i&&i.baseVal!==e;if(n===e)return a?i.baseVal:i;a?i.baseVal=n:t.className=n}function G(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?n.parseJSON(e):e):e}catch(t){return e}}return P.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,a=e.parentNode,r=!a;return r&&(a=$).appendChild(e),i=~P.qsa(a,t).indexOf(e),r&&$.removeChild(e),i},o=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},s=function(e){return d.call(e,function(t,n){return e.indexOf(t)==n})},P.fragment=function(t,i,a){var r,o,s;return m.test(t)&&(r=n(u.createElement(RegExp.$1))),r||(t.replace&&(t=t.replace(v,"<$1></$2>")),i===e&&(i=g.test(t)&&RegExp.$1),i in S||(i="*"),(s=S[i]).innerHTML=""+t,r=n.each(c.call(s.childNodes),function(){s.removeChild(this)})),B(a)&&(o=n(r),n.each(a,function(e,t){C.indexOf(e)>-1?o[e](t):o.attr(e,t)})),r},P.Z=function(e,t){return(e=e||[]).__proto__=n.fn,e.selector=t||"",e},P.isZ=function(e){return e instanceof P.Z},P.init=function(t,i){var a,r;if(!t)return P.Z();if("string"==typeof t)if("<"==(t=t.trim())[0]&&g.test(t))a=P.fragment(t,RegExp.$1,i),t=null;else{if(i!==e)return n(i).find(t);a=P.qsa(u,t)}else{if(L(t))return n(u).ready(t);if(P.isZ(t))return t;if(O(t))r=t,a=d.call(r,function(e){return null!=e});else if(N(t))a=[t],t=null;else if(g.test(t))a=P.fragment(t.trim(),RegExp.$1,i),t=null;else{if(i!==e)return n(i).find(t);a=P.qsa(u,t)}}return P.Z(a,t)},(n=function(e,t){return P.init(e,t)}).extend=function(n){var i,a=c.call(arguments,1);return"boolean"==typeof n&&(i=n,n=a.shift()),a.forEach(function(a){!function n(i,a,r){for(t in a)r&&(B(a[t])||O(a[t]))?(B(a[t])&&!B(i[t])&&(i[t]={}),O(a[t])&&!O(i[t])&&(i[t]=[]),n(i[t],a[t],r)):a[t]!==e&&(i[t]=a[t])}(n,a,i)}),n},P.qsa=function(e,t){var n,i="#"==t[0],a=!i&&"."==t[0],r=i||a?t.slice(1):t,o=E.test(r);return D(e)&&o&&i?(n=e.getElementById(r))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:c.call(o&&!i?a?e.getElementsByClassName(r):e.getElementsByTagName(t):e.querySelectorAll(t))},n.contains=u.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},n.type=k,n.isFunction=L,n.isWindow=M,n.isArray=O,n.isPlainObject=B,n.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},n.inArray=function(e,t,n){return l.indexOf.call(t,e,n)},n.camelCase=o,n.trim=function(e){return null==e?"":String.prototype.trim.call(e)},n.uuid=0,n.support={},n.expr={},n.map=function(e,t){var i,a,r,o,s=[];if(R(e))for(a=0;a<e.length;a++)null!=(i=t(e[a],a))&&s.push(i);else for(r in e)null!=(i=t(e[r],r))&&s.push(i);return(o=s).length>0?n.fn.concat.apply([],o):o},n.each=function(e,t){var n,i;if(R(e)){for(n=0;n<e.length;n++)if(!1===t.call(e[n],n,e[n]))return e}else for(i in e)if(!1===t.call(e[i],i,e[i]))return e;return e},n.grep=function(e,t){return d.call(e,t)},window.JSON&&(n.parseJSON=JSON.parse),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){T["[object "+t+"]"]=t.toLowerCase()}),n.fn={forEach:l.forEach,reduce:l.reduce,push:l.push,sort:l.sort,indexOf:l.indexOf,concat:l.concat,map:function(e){return n(n.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return n(c.apply(this,arguments))},ready:function(e){return x.test(u.readyState)&&u.body?e(n):u.addEventListener("DOMContentLoaded",function(){e(n)},!1),this},get:function(t){return t===e?c.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return l.every.call(this,function(t,n){return!1!==e.call(t,n,t)}),this},filter:function(e){return L(e)?this.not(this.not(e)):n(d.call(this,function(t){return P.matches(t,e)}))},add:function(e,t){return n(s(this.concat(n(e,t))))},is:function(e){return this.length>0&&P.matches(this[0],e)},not:function(t){var i=[];if(L(t)&&t.call!==e)this.each(function(e){t.call(this,e)||i.push(this)});else{var a="string"==typeof t?this.filter(t):R(t)&&L(t.item)?c.call(t):n(t);this.forEach(function(e){a.indexOf(e)<0&&i.push(e)})}return n(i)},has:function(e){return this.filter(function(){return N(e)?n.contains(this,e):n(this).find(e).size()})},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!N(e)?e:n(e)},last:function(){var e=this[this.length-1];return e&&!N(e)?e:n(e)},find:function(e){var t=this;return e?"object"==(void 0===e?"undefined":(0,i.default)(e))?n(e).filter(function(){var e=this;return l.some.call(t,function(t){return n.contains(t,e)})}):1==this.length?n(P.qsa(this[0],e)):this.map(function(){return P.qsa(this,e)}):n()},closest:function(e,t){var a=this[0],r=!1;for("object"==(void 0===e?"undefined":(0,i.default)(e))&&(r=n(e));a&&!(r?r.indexOf(a)>=0:P.matches(a,e));)a=a!==t&&!D(a)&&a.parentNode;return n(a)},parents:function(e){for(var t=[],i=this;i.length>0;)i=n.map(i,function(e){if((e=e.parentNode)&&!D(e)&&t.indexOf(e)<0)return t.push(e),e});return j(t,e)},parent:function(e){return j(s(this.pluck("parentNode")),e)},children:function(e){return j(this.map(function(){return K(this)}),e)},contents:function(){return this.map(function(){return c.call(this.childNodes)})},siblings:function(e){return j(this.map(function(e,t){return d.call(K(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return n.map(this,function(t){return t[e]})},show:function(){return this.each(function(){var e,t,n;"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=(e=this.nodeName,f[e]||(t=u.createElement(e),u.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),f[e]=n),f[e]))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var t=L(e);if(this[0]&&!t)var i=n(e).get(0),a=i.parentNode||this.length>1;return this.each(function(r){n(this).wrapAll(t?e.call(this,r):a?i.cloneNode(!0):i)})},wrapAll:function(e){if(this[0]){var t;for(n(this[0]).before(e=n(e));(t=e.children()).length;)e=t.first();n(e).append(this)}return this},wrapInner:function(e){var t=L(e);return this.each(function(i){var a=n(this),r=a.contents(),o=t?e.call(this,i):e;r.length?r.wrapAll(o):a.append(o)})},unwrap:function(){return this.parent().each(function(){n(this).replaceWith(n(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var i=n(this);(t===e?"none"==i.css("display"):t)?i.show():i.hide()})},prev:function(e){return n(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return n(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var i=this.innerHTML;n(this).empty().append(F(this,e,t,i))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=F(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(n,i){var a;return"string"!=typeof n||1 in arguments?this.each(function(e){if(1===this.nodeType)if(N(n))for(t in n)z(this,t,n[t]);else z(this,n,F(this,i,e,this.getAttribute(n)))}):this.length&&1===this[0].nodeType?!(a=this[0].getAttribute(n))&&n in this[0]?this[0][n]:a:e},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){z(this,e)},this)})},prop:function(e,t){return e=A[e]||e,1 in arguments?this.each(function(n){this[e]=F(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(t,n){var i="data-"+t.replace(w,"-$1").toLowerCase(),a=1 in arguments?this.attr(i,n):this.attr(i);return null!==a?G(a):e},val:function(e){return 0 in arguments?this.each(function(t){this.value=F(this,e,t,this.value)}):this[0]&&(this[0].multiple?n(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var i=n(this),a=F(this,e,t,i.offset()),r=i.offsetParent().offset(),o={top:a.top-r.top,left:a.left-r.left};"static"==i.css("position")&&(o.position="relative"),i.css(o)});if(!this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(e,i){if(arguments.length<2){var a,r=this[0];if(!r)return;if(a=getComputedStyle(r,""),"string"==typeof e)return r.style[o(e)]||a.getPropertyValue(e);if(O(e)){var s={};return n.each(e,function(e,t){s[t]=r.style[o(t)]||a.getPropertyValue(t)}),s}}var l="";if("string"==k(e))i||0===i?l=U(e)+":"+V(e,i):this.each(function(){this.style.removeProperty(U(e))});else for(t in e)e[t]||0===e[t]?l+=U(t)+":"+V(t,e[t])+";":this.each(function(){this.style.removeProperty(U(t))});return this.each(function(){this.style.cssText+=";"+l})},index:function(e){return e?this.indexOf(n(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&l.some.call(this,function(e){return this.test(W(e))},H(e))},addClass:function(e){return e?this.each(function(t){if("className"in this){r=[];var i=W(this);F(this,e,t,i).split(/\s+/g).forEach(function(e){n(this).hasClass(e)||r.push(e)},this),r.length&&W(this,i+(i?" ":"")+r.join(" "))}}):this},removeClass:function(t){return this.each(function(n){if("className"in this){if(t===e)return W(this,"");r=W(this),F(this,t,n,r).split(/\s+/g).forEach(function(e){r=r.replace(H(e)," ")}),W(this,r.trim())}})},toggleClass:function(t,i){return t?this.each(function(a){var r=n(this);F(this,t,a,W(this)).split(/\s+/g).forEach(function(t){(i===e?!r.hasClass(t):i)?r.addClass(t):r.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var n="scrollTop"in this[0];return t===e?n?this[0].scrollTop:this[0].pageYOffset:this.each(n?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var n="scrollLeft"in this[0];return t===e?n?this[0].scrollLeft:this[0].pageXOffset:this.each(n?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),i=this.offset(),a=y.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(n(e).css("margin-top"))||0,i.left-=parseFloat(n(e).css("margin-left"))||0,a.top+=parseFloat(n(t[0]).css("border-top-width"))||0,a.left+=parseFloat(n(t[0]).css("border-left-width"))||0,{top:i.top-a.top,left:i.left-a.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||u.body;e&&!y.test(e.nodeName)&&"static"==n(e).css("position");)e=e.offsetParent;return e})}},n.fn.detach=n.fn.remove,["width","height"].forEach(function(t){var i=t.replace(/./,function(e){return e[0].toUpperCase()});n.fn[t]=function(a){var r,o=this[0];return a===e?M(o)?o["inner"+i]:D(o)?o.documentElement["scroll"+i]:(r=this.offset())&&r[t]:this.each(function(e){(o=n(this)).css(t,F(this,a,e,o[t]()))})}}),["after","prepend","before","append"].forEach(function(e,t){var i=t%2;n.fn[e]=function(){var e,a,r=n.map(arguments,function(t){return"object"==(e=k(t))||"array"==e||null==t?t:P.fragment(t)}),o=this.length>1;return r.length<1?this:this.each(function(e,s){a=i?s:s.parentNode,s=0==t?s.nextSibling:1==t?s.firstChild:2==t?s:null;var l=n.contains(u.documentElement,a);r.forEach(function(e){if(o)e=e.cloneNode(!0);else if(!a)return n(e).remove();a.insertBefore(e,s),l&&function e(t,n){n(t);for(var i=0,a=t.childNodes.length;i<a;i++)e(t.childNodes[i],n)}(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},n.fn[i?e+"To":"insert"+(t?"Before":"After")]=function(t){return n(t)[e](this),this}}),P.Z.prototype=n.fn,P.uniq=s,P.deserializeValue=G,n.zepto=P,n}();window.Zepto=o,void 0===window.$&&(window.$=o),function(e){var t,n=1,i=Array.prototype.slice,a=e.isFunction,r=function(e){return"string"==typeof e},o={},s={},l="onfocusin"in window,c={focus:"focusin",blur:"focusout"},d={mouseenter:"mouseover",mouseleave:"mouseout"};function u(e){return e._zid||(e._zid=n++)}function f(e,t,n,i){if((t=h(t)).ns)var a=(r=t.ns,new RegExp("(?:^| )"+r.replace(" "," .* ?")+"(?: |$)"));var r;return(o[u(e)]||[]).filter(function(e){return e&&(!t.e||e.e==t.e)&&(!t.ns||a.test(e.ns))&&(!n||u(e.fn)===u(n))&&(!i||e.sel==i)})}function h(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function p(e,t){return e.del&&!l&&e.e in c||!!t}function g(e){return d[e]||l&&c[e]||e}function m(n,i,a,r,s,l,c){var f=u(n),m=o[f]||(o[f]=[]);i.split(/\s/).forEach(function(i){if("ready"==i)return e(document).ready(a);var o=h(i);o.fn=a,o.sel=s,o.e in d&&(a=function(t){var n=t.relatedTarget;if(!n||n!==this&&!e.contains(this,n))return o.fn.apply(this,arguments)}),o.del=l;var u=l||a;o.proxy=function(e){if(!(e=b(e)).isImmediatePropagationStopped()){e.data=r;var i=u.apply(n,e._args==t?[e]:[e].concat(e._args));return!1===i&&(e.preventDefault(),e.stopPropagation()),i}},o.i=m.length,m.push(o),"addEventListener"in n&&n.addEventListener(g(o.e),o.proxy,p(o,c))})}function v(e,t,n,i,a){var r=u(e);(t||"").split(/\s/).forEach(function(t){f(e,t,n,i).forEach(function(t){delete o[r][t.i],"removeEventListener"in e&&e.removeEventListener(g(t.e),t.proxy,p(t,a))})})}s.click=s.mousedown=s.mouseup=s.mousemove="MouseEvents",e.event={add:m,remove:v},e.proxy=function(t,n){var o=2 in arguments&&i.call(arguments,2);if(a(t)){var s=function(){return t.apply(n,o?o.concat(i.call(arguments)):arguments)};return s._zid=u(t),s}if(r(n))return o?(o.unshift(t[n],t),e.proxy.apply(null,o)):e.proxy(t[n],t);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,i){return this.on(e,t,n,i,1)};var y=function(){return!0},w=function(){return!1},C=/^([A-Z]|returnValue$|layer[XY]$)/,_={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};function b(n,i){return!i&&n.isDefaultPrevented||(i||(i=n),e.each(_,function(e,t){var a=i[e];n[e]=function(){return this[t]=y,a&&a.apply(i,arguments)},n[t]=w}),(i.defaultPrevented!==t?i.defaultPrevented:"returnValue"in i?!1===i.returnValue:i.getPreventDefault&&i.getPreventDefault())&&(n.isDefaultPrevented=y)),n}function S(e){var n,i={originalEvent:e};for(n in e)C.test(n)||e[n]===t||(i[n]=e[n]);return b(i,e)}e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(n,o,s,l,c){var d,u,f=this;return n&&!r(n)?(e.each(n,function(e,t){f.on(e,o,s,t,c)}),f):(r(o)||a(l)||!1===l||(l=s,s=o,o=t),(a(s)||!1===s)&&(l=s,s=t),!1===l&&(l=w),f.each(function(t,a){c&&(d=function(e){return v(a,e.type,l),l.apply(this,arguments)}),o&&(u=function(t){var n,r=e(t.target).closest(o,a).get(0);if(r&&r!==a)return n=e.extend(S(t),{currentTarget:r,liveFired:a}),(d||l).apply(r,[n].concat(i.call(arguments,1)))}),m(a,n,l,s,o,u||d)}))},e.fn.off=function(n,i,o){var s=this;return n&&!r(n)?(e.each(n,function(e,t){s.off(e,i,t)}),s):(r(i)||a(o)||!1===o||(o=i,i=t),!1===o&&(o=w),s.each(function(){v(this,n,o,i)}))},e.fn.trigger=function(t,n){return(t=r(t)||e.isPlainObject(t)?e.Event(t):b(t))._args=n,this.each(function(){t.type in c&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,n){var i,a;return this.each(function(o,s){(i=S(r(t)?e.Event(t):t))._args=n,i.target=s,e.each(f(s,t.type||t),function(e,t){if(a=t.proxy(i),i.isImmediatePropagationStopped())return!1})}),a},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){r(e)||(e=(t=e).type);var n=document.createEvent(s[e]||"Events"),i=!0;if(t)for(var a in t)"bubbles"==a?i=!!t[a]:n[a]=t[a];return n.initEvent(e,i,!0),b(n)}}(o)},function(e,t,n){"use strict";var i=r(n(2)),a=r(n(70));function r(e){return e&&e.__esModule?e:{default:e}}var o={init:function(e){i.default.dispatch({actionType:a.default.DRAGCONTR_INIT,options:e})},show:function(e){i.default.dispatch({actionType:a.default.DRAGCONTR_SHOW,options:e})},move:function(e){i.default.dispatch({actionType:a.default.DRAGCONTR_MOVE,options:e})},add:function(e){i.default.dispatch({actionType:a.default.DRAGCONTR_ADD,options:e})}};e.exports=o},function(e,t,n){"use strict";var i=f(n(8)),a=f(n(0)),r=f(n(17)),o=f(n(15)),s=f(n(25)),l=f(n(27)),c=f(n(49)),d=f(n(43)),u=f(n(12));function f(e){return e&&e.__esModule?e:{default:e}}var h={pageToClipboard:function(e){if(window.noLogin)return u.default.show("用户未登录"),!1;var t=$.objToString(e),n=new Date;i.default.setLocalPageClipboard(t,n),$.ajax("/page/setClipboard",{content:t,projectId:i.default.getView().proid||$.getUrlParam("proid"),date:n},function(e){0==e.code&&u.default.show("复制页面成功")})},addPageFromClipboard:function(e,t,n){i.default.setLoad(!1),setTimeout(function(){var c=[],d=i.default.getView().zoom,u=i.default.isMultiFixed(),f=$.getSelectPageList().reverse(),h={},p=void 0;if(t){var g=$.offset($.getElById("phoneConBox"));p={left:Math.round((t[0]-g.left)/d),top:Math.round((t[1]-g.top)/d)}}e.forEach(function(e,n){var a=void 0;a=t?{left:p.left+(window.phoneSize.width+90)*n,top:p.top}:i.default.getNewPagePosi(),i.default.create(a);var r=i.default.getViewTotal();i.default.updateProp(r,{serverKey:e.serverKey,backColor:e.backColor,pageHeight:e.pageHeight,isLandscape:e.isLandscape,events:e.events,name:e.name}),h[e.key]=r}),e.forEach(function(e){a.default.importPage(e.contrs,h[e.key],void 0,void 0,e.key,e.isLandscape,n?void 0:h),s.default.pageAddGuideAllLine($.stringToObj(e.guideLine),h[e.key]),l.default.pageAddNote($.stringToObj(e.note),h[e.key]),c.push(""+h[e.key])}),u&&(f&&f>0&&$.extend(!0,[],c).reverse().forEach(function(e){i.default.addStructPageAfter([f[0],"page"],e)}),setTimeout(function(){$.scrollPhoneConBoxPage($.getElById("mainBox"+c[0]),i.default.getZoom())},0)),i.default.selectChange(c,!0),i.default.emitViewChange(),i.default.emitPagesChange(),a.default.emitChange(),setTimeout(function(){i.default.setLoad(!0)},0),window.renderAll=!1,i.default.setAutoSaveChangePages("changeSymbol",void 0,!0),r.default.createData({type:"createSelectCopyPage",name:"页面粘贴",handleObjType:"page",autoSaveType:"changePages"}),u?($.removeClass($.getElById("mainBox"+c[c.length-1]),"scale-hide"),o.default.setCenter({activePage:i.default.getPageByKey(c[c.length-1]),isFixedView:!0,isMultiFixed:!0,minTop:$.getFixedViewMinTop(d)}),i.default.removeIsNew(c[c.length-1])):t||($.removeClass($.getElById("mainBox"+c[c.length-1]),"scale-hide"),o.default.setCenter({activePage:i.default.getPageByKey(c[c.length-1])}),i.default.removeIsNew(c[c.length-1]))},0)},getPageFromClipboard:function(e){if(window.noLogin)return u.default.show("用户未登录"),!1;$.ajax("/page/getClipboardDate",{},function(t){var n=i.default.getLocalPageClipboard();if(0==t.code){var a=function(){$.ajax("/page/getClipboard",{},function(t){0==t.code?h.addPageFromClipboard($.stringToObj(t.content),e):n.date&&h.addPageFromClipboard($.stringToObj(n.content),e,!0)})};if(n.date){var r=(new Date).getTime();Math.abs(r-new Date(t.date).getTime())<Math.abs(r-n.date.getTime())?a():h.addPageFromClipboard($.stringToObj(n.content),e,!0)}else a()}else n.date&&h.addPageFromClipboard($.stringToObj(n.content),e,!0)},void 0,function(){var t=i.default.getLocalPageClipboard();t.date&&h.addPageFromClipboard($.stringToObj(t.content),e,!0)})},deletePage:function(e){var t=e||i.default.getActivePage(!0),n=[""+t.key];if(i.default.isMultiView())i.default.isMultiFixed()&&$.scrollPhoneConBoxPage($.getElById("mainBox"+t.key),i.default.getZoom()),c.default.selectChange(n),setTimeout(function(){c.default.deletePages(n),r.default.createData({type:"deletePage",name:"["+t.name+"] 删除",handleObjType:"page",autoSaveType:"changePages"})},0);else if(t.active&&window.isPc)if(1==i.default.getPageNum())u.default.show("不能删除最后一个页面");else{var a=$.extend(!0,{},i.default.getPages()),o=$.extend(!0,[],i.default.getStructHierarchy());i.default.deletePages(n),i.default.resetPagePos(),i.default.choosePage(i.default.getPageIndexKey(),void 0,!0,!0),r.default.createData({type:"deletePageNotMutiview",name:"["+t.name+"] 删除",handleObjType:"page",deletePage:t.key,pages:a,structHierarchy:o,autoSaveType:"changePages"})}else if(t.active)setTimeout(function(){$.getElById("toMutiviewBtn").click(),c.default.selectChange(n)},0),setTimeout(function(){c.default.deletePages(n),r.default.createData({type:"deletePage",name:"["+t.name+"] 删除",handleObjType:"page",autoSaveType:"changePages"})},500);else{var s=$.extend(!0,{},i.default.getPages()),l=$.extend(!0,[],i.default.getStructHierarchy());i.default.deletePages(n),i.default.resetPagePos(),r.default.createData({type:"deletePageNotMutiview",name:"["+t.name+"] 删除",handleObjType:"page",deletePage:t.key,pages:s,structHierarchy:l,autoSaveType:"changePages"})}},selectPage:function(e,t,n){i.default.getActivePage()!=t&&(a.default.selectChange([]),c.default.choosePage(t),n||r.default.createData({type:"changeFromMultiView",name:"["+e+"] 选中该页面",handleObjType:"viewChange",autoSaveType:"none"}))},interfaceAlign:function(e){var t=$.getWinSize(),n=[160,100],a=[90,130],o=i.default.getPages(),s=i.default.getView(),l=Math.ceil((t.width-2*n[0])/((window.phoneSize.width+a[0])*s.zoom)),c=0,u=[(s.num>l?l:s.num)*(window.phoneSize.width+a[0])-a[0],Math.ceil(s.num/l)*(window.phoneSize.height+a[1])-a[1]],f={left:(t.width-u[0])/2,top:(t.height-u[1])/2},h=!1;(t.height-u[1]*s.zoom)/2>n[1]?f.top=(t.height-u[1])/2:f.top=(t.height-2*(t.height/2-n[1])/s.zoom)/2,d.default.move({left:0,top:0,transition:!0}),i.default.getStructAll().forEach(function(e){var t=o[e.key];if("page"==e.type&&!e.parentHide&&t.isShow){var n={left:c%l*(window.phoneSize.width+a[0])+f.left,top:Math.floor(c/l)*(window.phoneSize.height+a[1])+f.top};t.left==n.left&&t.top==n.top||(i.default.updateProp(e.key,n),h=!0),c++}}),h&&(i.default.emitPageStructChange(),e||r.default.createData({type:"interfaceAlign",name:"[所有页面] 对齐重新排列",handleObjType:"multiView",autoSaveType:"changePagesPosi"}))}};e.exports=h},function(e,t,n){"use strict";var i=f(n(272)),a=f(n(3)),r=f(n(7)),o=f(n(6)),s=f(n(5)),l=f(n(4)),c=f(n(1)),d=f(n(19)),u=f(n(50));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.state={text:n.props.text,value:$.isUndefined(n.props.value)?"":n.props.value},n._boxClick=n._boxClick.bind(n),n._chooseCallback=n._chooseCallback.bind(n),n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.text!=this.props.text&&this.setState({text:e.text,value:$.isUndefined(e.value)?"":e.value})}},{key:"render",value:function(){var e;return c.default.createElement("div",{id:this.props.id?this.props.id:"",className:(0,d.default)((e={C_selectBox:!0,blank:this.state.text&&this.props.texts.length<=1||this.props.disabled||0===this.props.texts.length,placeholder:this.props.placeholder&&!this.state.text,"new-ui":this.props.new},(0,i.default)(e,""+this.props.className,this.props.className),(0,i.default)(e,""+this.props.type,this.props.type),e)),style:{width:this.props.width,maxWidth:this.props.maxWidth},ref:"selectBox","data-text":this.state.text,"data-value":this.state.value,onClick:this._boxClick,onDoubleClick:$.noop},c.default.createElement("span",null,this.state.text||this.props.placeholder))}},{key:"_boxClick",value:function(e){if(!$.hasClass(e.currentTarget,"blank")){var t=this.refs.selectBox,n={target:t,text:this.state.text||"",value:this.state.value,callback:this._chooseCallback,includeSelected:this.props.includeSelected||!1,dropdownBoxWidth:this.props.dropdownW,dropdownClass:this.props.dropdownClass};"simple"==this.props.type?(n.type=this.props.type,n.itemH=24):"white"==this.props.type?(n.type=this.props.type,n.itemH=48):n.itemH=30,n=$.extend({},this.props,n),$.hasClass(t,"on")?u.default.hide():u.default.show(n),this.props.click&&this.props.click(),e.stopPropagation()}}},{key:"_chooseCallback",value:function(e,t,n){var i=this;i.props.popupCallback?i.props.popupCallback(e,t,function(n){n&&i.setState({text:e,value:t})}):i.setState({text:e,value:t}),i.props.callback&&i.props.callback(e,t,n)}}]),t}(c.default.Component);e.exports=h},function(e,t,n){"use strict";var i=o(n(9)),a=o(n(64)),r=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(10).EventEmitter,l={myControl:[],lastControlLibKey:null},c={myPublicContrLib:[]},d=window.isPc?"":"base",u={isShow:!1,searchKey:null,libType:null},f={searchKey:null,searchVal:null},h={isShow:!1,searchKey:null,contrList:[],isDownload:!1,isFirst:!0},p={private:[],public:[]};window.userLibSet&&window.userLibSet.contr&&$.extend(!0,p,window.userLibSet.contr);var g=(0,i.default)({},s.prototype,{getSearchObj:function(){return u},getAllSearchObj:function(){return h},closeAllSeachObj:function(e){h.isShow=!1,e||g.emitAllSearchChange()},showAllSeachObj:function(e){h.isShow=!0,e||g.emitAllSearchChange()},initAllSeachObj:function(e,t){h.isDownload=!0,h.contrList=e.data,h.searchKey=e.searchKey,h.isFirst=!1,t||g.emitAllSearchChange()},allSearchIsDownload:function(e,t){h.isDownload=e,t||g.emitAllSearchChange()},closeSeachObj:function(e,t){f={searchKey:u.searchKey,searchVal:e},u={isShow:!1,searchKey:null,libType:null},t||g.emitSearchChange()},searchLastVal:function(){return f.searchKey!=u.searchKey?"":f.searchVal},setSearchObj:function(e,t){u=$.extend(u,e),t||g.emitSearchChange()},getSearchLib:function(){if(u.isShow){if("public"==u.libType)return g.getPublicControlById(u.searchKey);if("private"==u.libType)return g.getControlById(u.searchKey)}},changeContrLibPermission:function(e,t,n){l.myControl.every(function(n){return n.id!=t||(n.permission=e,!1)}),n||g.emitSearchChange()},changeNameContrIn:function(e,t,n,i){l.myControl.every(function(i){return i.id!=n||(i.controls.every(function(n){return n.id!=t||(n.name=e,!1)}),!1)}),i||g.emitSearchChange()},getMyControl:function(){return l.myControl},getMyPublicControl:function(){return c.myPublicContrLib},getLastControlLibKey:function(){return l.lastControlLibKey},setLastControlLibKey:function(e){l.lastControlLibKey=e},getControlById:function(e){var t=void 0;return l.myControl.some(function(n){return n.id==e&&(t=n,!0)}),t},getPublicControlById:function(e,t){var n=void 0,i=-1;return c.myPublicContrLib.every(function(t,a){return t.id!=e||(i=a,n=t,!1)}),t?i:n},deletePublicControlById:function(e,t){var n=g.getPublicControlById(e,!0);return n>-1&&(c.myPublicContrLib.splice(n,1),t||g.emitChange(),!0)},getOpenLibId:function(){return d},openChange:function(e,t){d=e.openLibId,t||g.emitChange()},changeLibCooperationLength:function(e,t,n){var i=g.getControlById(e);n?(i.cooperationUserNum+=t,g.emitSearchChange()):i.cooperationUserNum!=t&&(i.cooperationUserNum=t,g.emitSearchChange())},getControlLibSet:function(){return p},libsManage:function(e){p[e.type]=e.data},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)},emitSearchChange:function(){this.emit("searchChange")},addSearchChangeListener:function(e){this.on("searchChange",e)},removeSearchChangeListener:function(e){this.removeListener("searchChange",e)},emitAllSearchChange:function(){this.emit("allSearchChange")},addAllSearchChangeListener:function(e){this.on("allSearchChange",e)},removeAllSearchChangeListener:function(e){this.removeListener("allSearchChange",e)}});r.default.register(function(e){switch(e.actionType){case a.default.MYCONTROL_INIT:p=e.myControl,l.myControl=p,g.emitChange();break;case a.default.MYCONTROL_INITPUBLIC:!function(e){c.myPublicContrLib=e}(e.myControl),g.emitChange();break;case a.default.MYCONTROL_ADD:g.getControlById(e.control.id)||(h=e.control,l.myControl.unshift(h),g.emitChange());break;case a.default.MYCONTROL_SCROLLTOP:u=e.contrLibId,f=e.scrollTop,l.myControl.every(function(e){return e.id!=u||(e.scrollTop=f,!1)}),g.emitChange();break;case a.default.MYCONTROL_ADDCONTR:s=e.id,d=e.contr,l.myControl.some(function(e){return e.id==s&&(e.controls.unshift(d),!0)}),g.emitChange();break;case a.default.MYCONTROL_UPDATECONTR:!function(e,t,n){l.myControl.some(function(i){return i.id==e&&(i.controls.some(function(e){return e.id==t&&($.extend(e,n),!0)}),!0)})}(e.id,e.contrId,e.contr),g.emitChange();break;case a.default.MYCONTROL_DELCONTR:!function(e,t){l.myControl.every(function(n){if(n.id==t){var i=!1;return n.controls.every(function(t,n){return t.id!=e||(i=n,!1)}),!1!==i&&n.controls.splice(i,1),!1}return!0})}(e.contrId,e.contrLibId),g.emitChange();break;case a.default.MYCONTROL_CONCAT:i=e.thisId,r=e.otherId,o=void 0,l.myControl.every(function(e){return e.id!=i||(o=e.controls,!1)}),l.myControl.every(function(e){return e.id!=r||(e.controls=e.controls.concat(o),!1)}),g.emitChange();break;case a.default.MYCONTROL_DELETE:t=e.controlId,n=-1,l.myControl.some(function(e,i){return e.id==t&&(n=i,!0)}),-1!==n&&l.myControl.splice(n,1),g.emitChange();break;case a.default.MYCONTROL_EDIT:!function(e,t){l.myControl.some(function(n){return n.id==t&&(n.name=e,n.isEdit&&delete n.isEdit,!0)})}(e.name,e.controlId),g.emitChange();break;case a.default.MYCONTROL_CHANGEEDIT:!function(e,t){l.myControl.every(function(n){return n.id!=e||(t?n.isEdit=!0:n.isEdit&&delete n.isEdit,!1)})}(e.controlId,e.isEdit),g.emitChange();break;case a.default.MYCONTROL_OPENCHANGE:g.openChange(e.option);break;case a.default.MYCONTROL_LIBSMANAGE:g.libsManage(e.options),g.emitChange()}var t,n,i,r,o,s,d,u,f,h,p}),e.exports=g},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({USERHOME_LOADPROJECT:null,USERHOME_LOADCONTR:null,USERHOME_LOADPAGE:null,USERHOME_LOADQC:null,USERHOME_LOADQP:null,USERHOME_LOADCP:null,USERHOME_LOADCC:null,USERHOME_LOADCPA:null,USERHOME_CHANGENAME:null,USERHOME_DELETE:null,USERHOME_ADD:null,USERHOME_CHANGEACTIVE:null,USERHOME_DELETELIB:null})},function(e,t,n){"use strict";var i={getPage:function(e,t){var n=void 0,i=void 0;return window.pages.every(function(t,a){return t.key!=e||(n=a,i=t,!1)}),t?i:n},getPageContrs:function(e){return i.getPage(e,!0).contrsObj},getActivePage:function(e){var t=void 0,n=void 0;return window.pages.every(function(e,i){return!e.active||(t=i,n=e,!1)}),e?n:t},getActiveContrs:function(){return i.getActivePage(!0).contrsObj},getContrByAll:function(e,t,n){if((t=t||($.isUndefined(n)?i.getActiveContrs():i.getPageContrs(n)))[e])return t[e];for(var a in t){var r=t[a];if("wrapbox"==r.type){var o=i.getContrByAll(e,r.contrs,n);if(o)return o}else if("symbol"==r.type){var s=i.getSymbolChildContr(r.symbolKey),l=i.getContrByAll(e,s,n);if(l)return l}}},getSymbolChildContr:function(e,t){var n=window.symbolContrs.symbols[e];if(n&&n.hierarchy||log("警告：getSymbolChildContr"),t&&n&&n.hierarchy){var i=[];return n.hierarchy.forEach(function(e){i.push(window.symbolContrs.contrs[e])}),i}var a={};return n&&n.hierarchy&&n.hierarchy.forEach(function(e){a[e]=window.symbolContrs.contrs[e]}),a},hasStates:function(e){return e&&e.states&&$.objLength(e.states)>0},isUsedState:function(e){return e&&e.state&&!$.isUndefined(e.state.endState)},getStateIndex:function(e,t,n){if(i.hasStates(e)){if(n&&$.getContrId(e)==$.getContrId(n))return e.hoverState.hoverEndIndex;if(t&&$.getContrId(e)==$.getContrId(t))return e.state.startState;if(-1!=e.state.endState)return e.state.endState}},getContrState:function(e){return i.getAllValsContr({contrKey:e,getLastState:!0})},getSymbol:function(e){var t=window.symbolContrs.symbols[e];if(!t)return{};var n=t.hierarchy||[],i={};return n.forEach(function(e){i[e]=window.symbolContrs.contrs[e]}),{contrs:i,hierarchy:n,width:t.width,height:t.height}},getSymbolContrVals:function(e){var t=$.isObject(e)?$.getContrId(e):e,n=i.getContrByAll(t,!1),a=$.extend(!0,{},n);return $.extend(!0,a,i.getSymbol(n.symbolKey)),a},getAllValsContr:function(e){if($.isEmptyObj(e.contrKey))return e.contrKey;var t={contrKey:void 0,notCopy:void 0,type:"end",parentContrKey:void 0,parentStateIndex:void 0,breakContrKey:void 0,thisContrs:void 0,stateIndex:void 0,parentSaveContrVals:void 0,parentSaveContrId:void 0,getLastState:!1,symbolChild:void 0},n=void 0,a=void 0,r=void 0,o=void 0,s=void 0,l=e.parentContr,c=!1,d=!1,u=!1,f={};t=$.extend(t,e),$.isUndefined(t.parentStateIndex)||(l=i.getContrByAll(t.parentContrKey)),t.contrKey.id?(n=$.getContrId(t.contrKey),a="symbol"==t.contrKey.type?i.getSymbolContrVals(n):t.contrKey):a="symbol"==(n=t.contrKey).split("_")[0]?i.getSymbolContrVals(n):i.getContrByAll(n,t.thisContrs),r=t.notCopy?a:$.extend(!0,{},a);var h=i.getContrAllParent(a,!0,!1,t.thisContrs);if(h&&h.every(function(e){var a=$.getContrId(e);if(t.breakContrKey&&t.breakContrKey==a)return!1;if(i.hasStates(e)){var s=f[a],h=void 0,p=void 0;if(t.symbolChild&&t.symbolChild[a]&&!$.isUndefined(t.symbolChild[a].endState)&&(p=+t.symbolChild[a].endState),$.isUndefined(p))if(l&&t.parentContrKey!=n&&a==$.getContrId(l))$.isUndefined(s)?!$.isUndefined(t.parentStateIndex)&&e.states[t.parentStateIndex]&&(d||(d=!0),h=e.states[t.parentStateIndex]):h=e.states[t.parentStateIndex];else if($.isUndefined(s)){if(!d){var g=i.getStateIndex(e,l);!$.isUndefined(g)&&e.states[g]&&(d=!0,h=e.states[g])}}else h=e.states[s.isEndHover?s.hoverEndIndex:s.endState];else h=e.states[p];if(h){if(h.contrs[n]&&(t.getLastState&&h.contrs[n].state&&(o=h.contrs[n].state),c=!0,r=$.extend(!0,r,h.contrs[n]),t.parentSaveContrId))if(u)for(var m in h.contrs[n])$.isUndefined(t.parentSaveContrVals[m])||delete t.parentSaveContrVals[m];else a==t.parentSaveContrId&&(u=!0);for(var v in h.contrs)if(i.getContrByAll(v)){var y=h.contrs[v];v!=n&&"wrapbox"==v.split("_")[0]&&(f[v]=i.isUsedState(y)?y.state:i.getContrByAll(v).state)}else;}}return!0}),t.symbolChild&&t.symbolChild[n]&&!$.isUndefined(t.symbolChild[n].endState)&&(s=+t.symbolChild[n].endState),$.isUndefined(s)){if(n!=t.breakContrKey&&i.hasStates(r)){var p=t.parentContrKey==n?t.parentStateIndex:i.getStateIndex(r,l);if(!$.isUndefined(p)&&r.states[p]){var g=$.extend(!0,{},r.state);if(c=!0,t.parentSaveContrId&&t.parentSaveContrId!=n)for(var m in r.states[p].contrs[n])$.isUndefined(t.parentSaveContrVals[m])||delete t.parentSaveContrVals[m];(r=$.extend(!0,r,r.states[p].contrs[n])).state=g}}}else{var v=s;if(!$.isUndefined(v)&&a.states[v]&&a.states[v].contrs[n]){var y=$.extend(!0,{},r.state);c=!0,$.handleEventsData(r,a.states[v].contrs[n].events),(r=$.extend(!0,r,a.states[v].contrs[n])).state=y}}return c&&(r.getAllVal=!0),t.getLastState?o||a.state:c?r:a},getContrAllParent:function(e,t,n,a,r){if(a=a||i.getActiveContrs(),e&&a[$.getContrId(e)])return r||[];for(var o in a){var s=r?[].concat(r):[],l=a[o];if("wrapbox"==l.type||"symbol"==l.type&&l.contrs){n&&!i.hasStates(l)||s.push(t?l:$.getContrId(l));var c=i.getContrAllParent(e,t,n,l.contrs,s);if(c)return c}}},getStartEndContrs:function(e,t,n){return{start:i.getAllValsContr({contrKey:e,parentContrKey:t,parentStateIndex:n}),end:i.getAllValsContr({contrKey:e})}},changeState:function(e){var t=i.getContrState(e.contrId);window.pagesCache[e.pageIndex]||(window.pagesCache[e.pageIndex]=$.extend(!0,{},window.pages[e.pageIndex])),t.endState=e.state},initPageState:function(e){var t=window.pagesCache[e],n=void 0;t&&(t.hierarchy&&delete t.hierarchy,t.contrsObj&&delete t.contrsObj,(n=window.pages[e]=$.extend(!0,{},t)).active=!0,n.hierarchy=[],n.contrsObj={},n.contrs.forEach(function(e){var t=$.getContrId(e);n.hierarchy.push(t),n.contrsObj[t]=e}))}};e.exports=i},function(e,t,n){"use strict";var i,a=n(9),r=(i=a)&&i.__esModule?i:{default:i};var o=n(10).EventEmitter,s={hasSaveNum:0,updateTime:null,isChange:!1,isSaving:!1},l=(0,r.default)({},o.prototype,{getAutoSave:function(){return s},initUpdateTime:function(e){s.updateTime=e,l.emitChange()},getUpdateTime:function(){return s.updateTime},setSaving:function(){s.isSaving=!0,l.emitChange()},setNotSaving:function(){s.isSaving=!1,l.emitChange()},addSaveNum:function(){s.hasSaveNum++,s.isChange=!0,l.emitChange()},saveToCloud:function(){s.isSaving=!1,s.hasSaveNum=0,s.isChange=!0,l.emitChange()},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});e.exports=l},function(e,t,n){"use strict";var i=r(n(2)),a=r(n(66));function r(e){return e&&e.__esModule?e:{default:e}}var o={chooseAnim:function(e,t){i.default.dispatch({actionType:a.default.ANIM_CHOOSEANIM,animId:e,index:t})},unselectAnim:function(){i.default.dispatch({actionType:a.default.ANIM_UNSELECTANIM})},unselectFrame:function(){i.default.dispatch({actionType:a.default.ANIM_UNSELECTFRAME})},editFrameKey:function(e,t){i.default.dispatch({actionType:a.default.ANIM_EDITFRAMEKEY,prevKey:e,currKey:t})},createFrame:function(e,t){i.default.dispatch({actionType:a.default.ANIM_CREATEFRAME,key:e,contrKey:t})},chooseFrame:function(e){i.default.dispatch({actionType:a.default.ANIM_CHOOSEFRAME,key:e})},deleteFrame:function(e){i.default.dispatch({actionType:a.default.ANIM_DELETEFRAME,key:e})},emptyFrame:function(){i.default.dispatch({actionType:a.default.ANIM_EMPTYFRAME})},editTrProps:function(e,t){i.default.dispatch({actionType:a.default.ANIM_EDITTRPROPS,options:e,trData:t})},editContrProps:function(e,t,n){i.default.dispatch({actionType:a.default.ANIM_EDITCONTRPROPS,options:e,contrId:t,total:n})},editAllEasing:function(e){i.default.dispatch({actionType:a.default.ANIM_EDITALLEASING,easing:e})},editStateDelay:function(e,t){i.default.dispatch({actionType:a.default.ANIM_EDITSTATEDELAY,delay:e,contrId:t})},toggleDisabled:function(){i.default.dispatch({actionType:a.default.ANIM_TOGGLEDISABLED})}};e.exports=o},function(e,t,n){"use strict";var i=r(n(2)),a=r(n(67));function r(e){return e&&e.__esModule?e:{default:e}}var o={change:function(e){i.default.dispatch({actionType:a.default.ZOOM_CHANGE,zoom:e.zoom})}};e.exports=o},function(e,t,n){"use strict";var i,a=n(9),r=(i=a)&&i.__esModule?i:{default:i};var o=n(10).EventEmitter,s={contrKey:null},l=(0,r.default)({},o.prototype,{init:function(e){s.contrKey=e},exit:function(){s={contrKey:null}},getChildKey:function(){return s.contrKey},isShow:function(){var e=n(0).getSelect();return s.contrKey&&e&&1==e.length&&"symbol"==e[0].split("_")[0]},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});e.exports=l},function(e,t,n){"use strict";var i=r(n(2)),a=r(n(229));function r(e){return e&&e.__esModule?e:{default:e}}var o={hide:function(){i.default.dispatch({actionType:a.default.POPSELECT_HIDE})},toggleTransition:function(){i.default.dispatch({actionType:a.default.POPSELECT_TOGGLETRANSITION})},toggleEasing:function(e,t,n){i.default.dispatch({actionType:a.default.POPSELECT_TOGGLEEASING,selected:e,contrId:t,bottom:n})},showEasing:function(e,t,n){i.default.dispatch({actionType:a.default.POPSELECT_SHOWEASING,selected:e,contrId:t,bottom:n})}};e.exports=o},function(e,t,n){"use strict";var i=o(n(21)),a=o(n(1)),r=o(n(23));function o(e){return e&&e.__esModule?e:{default:e}}var s={moreThanOneMB:function(e){r.default.init({width:620,title:"上传图片文件过大",content:a.default.createElement("div",{className:"popup-content"},"以下文件的大小超过了1MB，网站不支持上传，请压缩以后上传：",a.default.createElement("br",null),e.join(", "),a.default.createElement("br",null),"建议去",a.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"base-link",href:"https://tinypng.com/"},"https://tinypng.com/"),"对图片进行压缩")})},imageSearch:function(e){var t={key:"3255823-e43ec56e0a4b8b5aaf6d579dd",pretty:!0,lang:"zh"};e&&(t.q=e),i.default.get("https://pixabay.com/api").query(t).set({"API-Key":"foobar",Accept:"application/json"}).end(function(e,t){log(t)})}};e.exports=s},function(e,t,n){"use strict";function i(e){"null"==e&&(e=[]);var t=[e[0]||1,e[1]||0,e[2]||0,e[3]||1,e[4]||0,e[5]||0];return t.getAngle=function(){return Math.atan2(this[1],this[0])},t.concat=function(e){return i([this[0]*e[0]+this[2]*e[1],this[1]*e[0]+this[3]*e[1],this[0]*e[2]+this[2]*e[3],this[1]*e[2]+this[3]*e[3],this[0]*e[4]+this[2]*e[5]+this[4],this[1]*e[4]+this[3]*e[5]+this[5]])},t.rotate=function(e,t){return this.concat(i.rotate(e,t))},t.setRotation=function(e,t){return this.rotate(e-this.getAngle(),t)},t.scale=function(e,t,n){return this.concat(i.scale(e,t,n))},t.translate=function(e,t){return this.concat(i.translate(e,t))},t.toCSSTransform=function(){return"matrix("+this.join(", ")+")"},t}i.rotate=function(e,t){var n=i([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]);return t&&(n=i.translate(t[0],t[1]).concat(n).concat(i.translate(-t[0],-t[1]))),n},i.scale=function(e,t,n){var a=i([e,0,0,t=t||e,0,0]);return n&&(a=i.translate(n[0],n[1]).concat(a).concat(i.translate(-n[0],-n[1]))),a},i.translate=function(e,t){return i([1,0,0,1,e,t])},e.exports=i},function(e,t,n){"use strict";var i,a=n(9),r=(i=a)&&i.__esModule?i:{default:i};var o=n(10).EventEmitter,s={list:[],index:-1},l=(0,r.default)({},o.prototype,{setList:function(e){s.list=e},initVersion:function(e,t){s.list=e,t&&l.emitChange()},addVersion:function(e){s.list.push({title:e.title,desc:e.desc,time:e.time,key:e.key}),l.emitChange()},changeVersion:function(e){s.list.every(function(t){return t.key!==e.key||(t.title=e.title,t.desc=e.desc,!1)})},deleteVersion:function(e){var t=void 0;s.list.every(function(n,i){return n.key===e.key&&(t=i),!0}),s.list.splice(t,1),l.emitChange()},getVersion:function(){return s},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});e.exports=l},function(e,t,n){"use strict";var i=h(n(52)),a=h(n(249)),r=h(n(26)),o=h(n(8)),s=h(n(15)),l=h(n(248)),c=h(n(43)),d=h(n(95)),u=h(n(50)),f=h(n(98));function h(e){return e&&e.__esModule?e:{default:e}}var p=void 0,g=void 0,m=void 0,v=null,y=[];function w(){var e=s.default.getPageMoveDspl(),t=s.default.getDspl();0===y.length&&o.default.getPageSelect().forEach(function(e,t){y[t]=$.getElById("mainBox"+e)}),y.forEach(function(n){n.style.transform=$.setTranslateVals({x:e[0]-t[0],y:e[1]-t[1],z:0})})}var C={mouseDown:function(){p=null,i.default.rightMenuShow(!1,!0)},mouseMove:function(e){window.mouseDownTarget.name?p&&(!p||e.clientX==p[0]&&e.clientY==p[1])||(window.mouseDownTarget.moveFunc(e),p=[e.clientX,e.clientY]):a.default.getAnimLine().show&&l.default.move({eX:e.pageX,eY:e.pageY}),o.default.isMultiView()&&(r.default.getIsDrag()||$.hasClass($.getElById("allPanel"),"dragTarget"))&&function(e){var t=[e.pageX,e.pageY],n=o.default.isFixedView(),i=o.default.getZoom(),a="",r=void 0;if(t[1]>window.document.body.clientHeight-Math.max(100,window.phoneSize.height*i+50)&&t[0]>window.document.body.clientWidth-Math.max(100,window.phoneSize.width*i+50)?a="":t[1]<100?a="top":t[1]>window.document.body.clientHeight-100?a="bottom":t[0]<100&&!n?a="left":t[0]>window.document.body.clientWidth-100&&!n&&(a="right"),""!=a){switch(r=s.default.getCurPos(),$.isUndefined(g)||window.cancelAnimationFrame(g),a){case"top":v=function(){o.default.isMultiFixed()&&(m||(m=$.getFixedViewMinTop(i))),c.default.move({left:r.left,top:r.top+40*i*(1-Math.max(t[1]-0,0)/100),transition:!1,autoOff:!0,isMultiFixed:n,minTop:m}),g=window.requestAnimationFrame(v),n||w()};break;case"bottom":v=function(){o.default.isMultiFixed()&&(m||(m=$.getFixedViewMinTop(i))),c.default.move({left:r.left,top:r.top-40*i*(1-(window.document.body.clientHeight-t[1])/100),transition:!1,autoOff:!0,isMultiFixed:!0,minTop:m}),g=window.requestAnimationFrame(v),n||w()};break;case"left":v=function(){c.default.move({left:r.left+40*i*(1-(t[0]-0)/100),top:r.top,transition:!1,autoOff:!0}),g=window.requestAnimationFrame(v),w()};break;case"right":v=function(){c.default.move({left:r.left-40*i*(1-(window.document.body.clientWidth-t[0])/100),top:r.top,transition:!1,autoOff:!0}),g=window.requestAnimationFrame(v),w()}}v()}else $.isUndefined(g)||(window.cancelAnimationFrame(g),v=null,g=void 0)}(e),window.mousePosi=[e.pageX,e.pageY]},mouseUp:function(e){var t=$.getElById("reactBox");window.mouseDownTarget.name&&(window.mouseDownTarget.endFunc(e),$.mouseDownTargetInit()),$.isUndefined(g)||(window.cancelAnimationFrame(g),v=null,g=void 0),!e.altKey&&$.hasClass(t,"isAltKey")&&$.removeClass(t,"isAltKey"),y=[]},contextMenu:function(e){i.default.rightMenuShow(!1,!0),e.preventDefault()},click:function(){var e=window.document.querySelector("body>.C_tip");"keyframe"!=o.default.getView().mode&&d.default.unselectFrame(),u.default.hide(),f.default.hide(),e&&(e.style.display="none")},wheel:function(){}};e.exports=C},function(e,t,n){"use strict";var i=b(n(0)),a=b(n(32)),r=b(n(13)),o=b(n(17)),s=b(n(20)),l=b(n(8)),c=b(n(27)),d=b(n(18)),u=b(n(15)),f=b(n(51)),h=b(n(43)),p=b(n(96)),g=b(n(231)),m=b(n(30)),v=b(n(49)),y=b(n(57)),w=b(n(12)),C=b(n(99)),_=b(n(89));function b(e){return e&&e.__esModule?e:{default:e}}var S=0,x=void 0,E=void 0,T=[];function I(e,t,n,a,o){var s=[],l=r.default.getIsWrapEdit();n.forEach(function(t){if((t=i.default.getAllValsContr({contrKey:$.extend(!0,{},t),notCopy:!0})).isShow&&!t.isLock){var n=$.getContrPosi(t);$.isDependBottomContr(t)&&(n.top+=$.getDependBottomVal()),$.collide([+n.left*a+o.left,+n.top*a+o.top,(+n.width+2)*a,(+n.height+2)*a],[e.left,e.top,e.width,e.height])&&s.push(t.type+"_"+t.id)}}),t?(T=[],l&&0===s.length&&r.default.wrapBoxEditOut(),$.checkArrayEqual(i.default.getSelect(),s)||m.default.selectChange(s.filter(function(e){return $.getElById(e)}))):$.checkArrayEqual(T,s)||(T=$.extend(!0,[],s),m.default.selectChange(s.filter(function(e){return $.getElById(e)})))}var P={contextMenu:function(e){var t=l.default.getView(),n=t.mode,a=t.multiViewType,r=[],o=[e.clientX,e.clientY],s=["全选 ["+window.hotKey.command+"+a]",function(){window.Mousetrap.trigger(window.hotKey.command+"+a")}];if("multi-view"!=n){i.default.getActiveInterface().length>0&&r.push(s),window.localStorage.copy&&(r.push(["粘贴 ["+window.hotKey.command+"+v]",function(){$("body").trigger("paste")}]),r.push(["粘贴到当前位置 ["+window.hotKey.command+"+shift+v]",function(){$.pasteFunc(window.event,o)}]));var c=d.default.getSymbolMask();c.isShow&&(c.parentArr.length>0&&r.push(["返回上一个引用 [tab]",function(){d.default.exitAndSave()}]),r.push(["返回页面 "+(0==c.parentArr.length?"[tab]":""),function(){d.default.exitAndSave(void 0,!0)}]))}else r.push(s),r.push(["粘贴 ["+window.hotKey.command+"+v]",function(){$("body").trigger("paste")}]),"free-view"==a&&r.push(["粘贴到当前位置 ["+window.hotKey.command+"+shift+v]",function(){_.default.getPageFromClipboard(o)}]);$.hasClass(e.target,"redLineBox")&&r.push(["修改页面背景色",function(){$.getElById("pageSetLabel").click(),setTimeout(function(){$.getElById("interfaceBgPicker").click()},0)}]),r.length>0&&y.default.rightMenuUpdate({left:e.clientX,top:e.clientY,content:r}),e.stopPropagation(),e.preventDefault()},dragEnter:function(e){$.addClass($.getElById("middlePanel"),"isDroping"),e.preventDefault()},dragOver:function(e){$.addClass($.getElById("middlePanel"),"isDroping"),e.preventDefault()},dragLeave:function(e){$.removeClass($.getElById("middlePanel"),"isDroping"),e.preventDefault()},dropImage:function(e){for(var t=[e.clientX,e.clientY],n=[],i=e.dataTransfer.files,a=function(e){var a,r,o;a=i[e],r=new window.Image,o=new window.FormData,a.size/1048576<=1?(o.append("imgs",a),r.src=window.URL.createObjectURL(a),r.onload=function(){m.default.createImageContr({src:r.src,oriName:a.name,oriWidth:r.width,oriHeight:r.height,fd:o,posi:t})}):n.push(a.name),e==i.length-1&&n.length>0&&C.default.moreThanOneMB(n)},r=0;r<i.length;r++)a(r);$.removeClass($.getElById("middlePanel"),"isDroping"),e.preventDefault()},mouseDown:function(e){if(!(!window.noNew||window.noNew&&l.default.getIsInit()))return!1;var t=s.default.getZoom()/100,n=l.default.getView().mode,o=d.default.getSymbolMaskShow()&&"multi-view"!=n;if(r.default.getIsWrapEdit())setTimeout(function(){r.default.wrapBoxEditOut(),m.default.selectChange([])},0);else if(o){var c=i.default.getThisSymbolChildContr(!0),u=$.offset($.getElById("symbolWrapper"));$.setDrag({name:"mouseBox",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var n=$.getEventPosi(e);g.default.changePosi({width:n.width,height:n.height,left:n.left,top:n.top}),I(n,!1,c,t,u)},endFunc:function(e){var n=$.getEventPosi(e);g.default.show(!1),I(n,!0,c,t,u)}})}else if("multi-view"!=n&&"keyframe"!=n){var f=i.default.getActiveInterface(),h=$.offset(r.default.getMergeBoxIn()?$.getElById("mergeMainBox"):window.document.querySelector(".mainBox.active"));if($.isUndefined(h))return!1;$.setDrag({name:"mouseBox",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var n=$.getEventPosi(e);g.default.changePosi({width:n.width,height:n.height,left:n.left,top:n.top}),I(n,!1,f,t,h)},endFunc:function(e){g.default.show(!1),I($.getEventPosi(e),!0,f,t,h)}})}else if("multi-view"==n){for(var p=$.queryAll("#phoneConWrapBox .mainBox:not(.hide)"),y={},w=0;w<p.length;w++)y[p[w].id.replace("mainBox","")]=$.offset(p[w],!0);$.setDrag({name:"mouseBox",posi:[e.clientX,e.clientY],target:e.target,moveFunc:function(e){var t=$.getEventPosi(e),n={width:t.width,height:t.height,left:t.left,top:t.top};g.default.changePosi(n),function(e){var t=[];for(var n in y){var i=y[n];$.collide([e.left+2,e.top+2,e.width,e.height],[i.left,i.top,i.width,i.height])&&t.push(n)}v.default.selectChange(t)}(n)},endFunc:function(){g.default.show(!1)}}),v.default.selectChange([])}"history"==a.default.getLabel()[0][0]?"multi-view"!=n?a.default.reset():$.getElById("historyLabel")&&(a.default.change([["struct",!0,"行为记录"]]),setTimeout(function(){a.default.reset()},300)):"pageStruct"==a.default.getLabel()[0][0]&&"multi-view"==n&&$.getElById("pageStructLabel")&&setTimeout(function(){$(".iconfont.showPageStruct").mousedown()},0),$.initKeyDown(),e.stopPropagation()},click:function(){($.hasClass($.getElById("noteLabel"),"active")||c.default.hasEditNote())&&c.default.editBlur()},wheel:function(e){var t=u.default.getCurPos(),n=t.left,i=t.top,a=l.default.getView(),r=s.default.getZoom(),o=void 0,c=void 0;if(!window.mouseDownTarget.name)if(window.isKeyDown.isAlt)(S-=e.deltaY)>30?c=!0:S<-30&&(c=!1),$.isUndefined(c)||(S=0,"multi-view"==a.mode?(o=c?Math.max(100*a.zoom-5,25):Math.min(100*a.zoom+5,75),100*a.zoom!=o&&v.default.changeZoom(o)):r!=(o=c?Math.max(r-10,50):Math.min(r+10,200))&&p.default.change({zoom:o}));else if(l.default.isMultiFixed())E||(E=$.getFixedViewMinTop(a.zoom)),h.default.move({left:0,top:i-e.deltaY,transition:!1,autoOff:!0,isMultiFixed:!0,minTop:E});else{var d=f.default.getSize(),g=u.default.getCurPos(),m=r/100,y=n-e.deltaX/m,w=i-e.deltaY/m;if(window.isPc){var C=l.default.getActivePage(!0),_=C&&C.pageHeight||window.phoneSize.height;y=$.setRegion(y,(d.left+200-window.phoneSize.width*m-window.document.body.parentNode.clientWidth/2*(1-m))/m,(window.document.body.parentNode.clientWidth/2*(1+m)-200-270)/m),w=$.setRegion(w,(d.top+200-_*m-window.document.body.parentNode.clientHeight/2*(1-m))/m,(window.document.body.parentNode.clientHeight/2*(1+m)-200)/m),Math.abs(y-g.left)>Math.abs(w-g.top)?w=g.top:y=g.left}h.default.move({left:y,top:w,transition:!1,autoOff:!0})}clearTimeout(x),x=setTimeout(function(){E=null},1e3),e.preventDefault()},dblclick:function(e){if(!r.default.getMergeBoxShow()&&!window.isPc){var t=l.default.getView(),n=t.mode,i=t.editing,a=t.multiViewType,s=t.zoom;if("multi-view"!=n)v.default.zoomOut(),o.default.createData({type:"changeToMultiView",name:"[多视图] 切换为多视图",handleObjType:"viewChange",autoSaveType:"none"});else if(i||"free-view"!=a)i||"fixed-view"!=a||(w.default.show("固定模式下，请点击左侧 [+] 创建页面"),$.addAttention("addInterface"));else{var c=$.offset($.query(".phoneConBox")),d={left:(e.pageX-c.left)/s-window.phoneSize.width/2,top:(e.pageY-c.top)/s-window.phoneSize.height/2,isNew:!0};v.default.create(d),setTimeout(function(){var e=t.total;$.removeClass($.getElById("mainBox"+e),"scale-hide"),l.default.removeIsNew(e),o.default.createData({type:"createPage",name:"[页面 "+e+"] 创建",handleObjType:"page",autoSaveType:"changePages"})},0)}}}};e.exports=P},function(e,t,n){"use strict";var i=o(n(20)),a=o(n(51)),r=o(n(15));function o(e){return e&&e.__esModule?e:{default:e}}var s={moveWindowToCenterByContr:function(e,t,n){if(!window.isPc)return!1;var o=t||$.query(".mainBox.active #"+e);if(o){var s=$.offset($.query(".mainBox.active"),!0),l=s.left,c=s.top,d=s.width,u=s.height,f=i.default.getZoom()/100,h=a.default.getSize(),p=$.getMidPosi(),g=$.offset(o,!0,!0),m=$.getMinPosi({mainboxPosi:[l,c,d,u],midPosi:p},!0);!n&&$.collide(m,g)||r.default.changePos({left:-((g[0]-l+g[2]/2)/f-h.width/2-h.left/f+(window.document.body.clientWidth-h.width)/2*(1-f)/f),top:-((g[1]-c+g[3]/2)/f-h.height/2-h.top/f+(window.document.body.clientHeight-h.height)/2*(1-f)/f),transition:!1,autoOff:!0})}}};e.exports=s},function(e,t,n){"use strict";var i=["text","rect","roundRect","square","round","hLine","vLine","inputText"],a=[{name:"文本",type:"text",url:window.staticUrl+window.baseContrImg.textImg},{name:"矩形",type:"rect",url:window.staticUrl+window.baseContrImg.rectImg},{name:"圆角矩形",type:"roundRect",url:window.staticUrl+window.baseContrImg.roundRectImg},{name:"图片",type:"baseImage",url:window.staticUrl+window.baseContrImg.imageBasicImg},{name:"图标",type:"baseIcon",url:window.staticUrl+window.baseContrImg.IconImg},{name:"输入框",type:"inputText",url:window.staticUrl+window.baseContrImg.inputTextImg},{name:"标注",type:"note",url:window.staticUrl+window.baseContrImg.noteImg},{name:"热区",type:"hotspot",url:window.staticUrl+window.baseContrImg.hotspotImg},{name:"水平线",type:"hLine",url:window.staticUrl+window.baseContrImg.hLineImg},{name:"垂直线",type:"vLine",url:window.staticUrl+window.baseContrImg.vLineImg},{name:"正方形",type:"square",url:window.staticUrl+window.baseContrImg.squareImg},{name:"圆形",type:"round",url:window.staticUrl+window.baseContrImg.roundImg}],r={getTextType:function(){return i},getBaseContr:function(){return a},createTextContr:function(e,t,n,i,a){++a.textContr;var r=a.textContr,o={id:window.userKey?1e3*r+window.userKey:r,name:"文本 "+r,type:"text",content:$.isUndefined(e.content)?"文本":e.content,fontSize:14,lineHeight:10,indent:0,adjaceney:0,shadow:0,textShadow:0,textColor:"rgba(80, 80, 80, 1)",isB:!1,isI:!1,isU:!1,horizontal:"hC",vertical:"vM",isEdit:!1,lastContent:null,width:t.width,height:t.height,left:t.left,top:t.top,filter:{},isLock:!1,isShow:!0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!0};return"rect"==e.type?o=$.extend(o,{name:e.name+" "+r,content:"",hasBackColor:!0,backColor:"rgba(153, 153, 153, 1)",isBaseShape:!0,baseContrType:e.type}):"roundRect"==e.type?o=$.extend(o,{name:e.name+" "+r,content:"",hasBackColor:!0,backColor:"rgba(153, 153, 153, 1)",isBaseShape:!0,radius:16,baseContrType:e.type}):"square"==e.type?o=$.extend(o,{name:e.name+" "+r,content:"",WHrelation:!0,hasBackColor:!0,backColor:"rgba(153, 153, 153, 1)",isBaseShape:!0,baseContrType:e.type}):"round"==e.type?o=$.extend(o,{name:e.name+" "+r,content:"",WHrelation:!0,hasBackColor:!0,backColor:"rgba(153, 153, 153, 1)",isMaxRadius:!0,isBaseShape:!0,baseContrType:e.type}):"vLine"==e.type||"hLine"==e.type?o=$.extend(o,{name:e.name+" "+r,content:"",hasBackColor:!0,backColor:"rgba(153, 153, 153, 1)",isBaseShape:!0,baseContrType:e.type}):"inputText"==e.type&&(o=$.extend(o,{name:e.name+" "+r,content:"输入内容",textColor:"rgba(51, 51, 51, 1)",border:["rgba(153, 153, 153, 1)",1],indent:5,fontSize:12,radius:2,horizontal:"hL",baseContrType:e.type})),o},createIconContr:function(e,t,n,i,a){++a.iconContr;var r=a.iconContr;return{id:window.userKey?1e3*r+window.userKey:r,name:"图标 "+r,type:"icon",iconKey:$.isUndefined(e.iconKey)?"insert_emoticon":e.iconKey,width:t.width,height:t.height,left:t.left,top:t.top,filter:{},isLock:!1,isShow:!0,WHrelation:!0,rotate:0,iconColor:"rgba(153, 153, 153, 1)",opacity:100,isOpt:!0}},createHotspotContr:function(e,t,n,i,a){++a.hotspotContr;var r=a.hotspotContr;return{id:window.userKey?1e3*r+window.userKey:r,name:"热区 "+r,type:"hotspot",width:t.width,height:t.height,left:t.left,top:t.top,isLock:!1,isShow:!0,WHrelation:!1,rotate:0,isOpt:!0}}};e.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i=l(n(21)),a=l(n(1)),r=l(n(78)),o=l(n(12)),s=l(n(23));function l(e){return e&&e.__esModule?e:{default:e}}var c={isOtherEditing:function(e){var t=n(58).getChoosePageUser(),i=!1;return t&&e.some(function(e){return!!t[e]&&(i=!0,!0)}),!!i&&(setTimeout(function(){o.default.show("不能删除其他人正在操作的页面")},0),!0)},choosePageSocket:function(e,t){var i=n(8),a=n(46).getCooperation().list;if(a&&a.length>1){var s=i.getVersionSet().activeKey;r.default.emit("choosePage",{proid:t,pageKey:e,versionKey:s},function(e){e&&0==e.code||o.default.show(e&&e.msg?e.msg:"err")})}},saveErrorPopup:function(){s.default.init({width:640,title:"网络连接失败",submitBtnName:"刷新",content:a.default.createElement("div",{className:"popup-content"},a.default.createElement("span",{className:"popup-item-title"},"网络连接不通畅，您当前的操作可能无法被保存，建议刷新后使用。")),submitBtnFunc:function(){window.location.reload()}})},isOffLine:function(e){r.default.emit("autoSave",{isOffLine:!0},function(t){e.callback(t)})},post:function(e){var t=n(0),i=n(8),l=i.getVersionSet().activeKey,c=i.getActivePage();if(c||(c=void 0),"true"==$.getUrlParam("numsTest")){var d=t.getNums();for(var u in d)d[u]>1e3&&(s.default.init({width:640,title:"id数据异常！！！",submitBtnName:"我知道了",noCancel:!0,content:a.default.createElement("div",{className:"popup-content"},a.default.createElement("span",null,"项目数据异常，请停止操作！"))}),console.log(d[u],u),console.log(e.data,"_option.data"),console.log(t.getContrs(),"getContrs"),console.log(t.getSymbolContr(),"getSymbolContr"))}log(e.data,"_option.data"),log(t.getContrs(),"getContrs"),log(t.getSymbolContr(),"getSymbolContr"),r.default.emit("autoSave",{proid:e.proid,lastSaveKey:e.lastSaveKey,data:e.data,pageIndexKey:e.pageIndexKey,pageNum:i.getStructPagesLength(),name:e.name,versionKey:l,activePage:c},function(t){e.callback(t),0!==t.code&&3!==t.code?o.default.show(t.msg):3===t.code&&log(t.msg)})},getSaveKey:function(e){var t=n(8).getVersionSet().activeKey;i.default.post("/project/getSaveKey").send({proid:e.proid,lastSaveKey:e.lastSaveKey,versionKey:t}).set("X-API-Key","foobar").set("Accept","application/json").end(function(t,n){var i=n.body;e.callback(i)})},offLinePopup:function(){s.default.init({width:640,title:"网络连接失败",submitBtnName:"我知道了",noCancel:!0,content:a.default.createElement("div",{className:"popup-content"},a.default.createElement("span",null,"网络连接不通畅，已改为离线保存，待网络连接恢复后自动上传至云端。"))})},otherDeleteActivePage:function(e){var t=function(){setTimeout(function(){$.getElById("toMutiviewBtn").click(),s.default.hide()},0)};s.default.init({width:640,title:"当前页被他人删除",submitBtnName:"多视图",noCancel:!0,content:a.default.createElement("div",{className:"popup-content"},a.default.createElement("span",null,"协同用户 [",a.default.createElement("span",{className:"redspan"},e.nickName),"]，删除了你当前操作的页面，前往多视图选择其他页面")),submitBtnFunc:function(){t()},closeBtnFunc:function(){t()}})}};e.exports=c},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({POPSELECT_HIDE:null,POPSELECT_TOGGLETRANSITION:null,POPSELECT_TOGGLEEASING:null,POPSELECT_SHOWEASING:null})},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({MOUSE_POSI:null,MOUSE_SHOW:null})},function(e,t,n){"use strict";var i=r(n(2)),a=r(n(230));function r(e){return e&&e.__esModule?e:{default:e}}var o={changePosi:function(e){i.default.dispatch({actionType:a.default.MOUSE_POSI,width:e.width,height:e.height,left:e.left,top:e.top})},show:function(e){i.default.dispatch({actionType:a.default.MOUSE_SHOW,isShow:e})}};e.exports=o},function(e,t,n){"use strict";var i=r(n(0)),a=r(n(13));function r(e){return e&&e.__esModule?e:{default:e}}var o={init:function(e,t){var n=i.default.getContrByAll(t);a.default.wrapBoxEdit(n,e),i.default.emitChange()}};e.exports=o},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({EVENT_CREATE:null,EVENT_EDIT:null,EVENT_CHANGETYPE:null,EVENT_DELETE:null,EVENT_USEORIGIN:null,EVENT_DELETEACTION:null})},,function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({NOTE_ADD:null,NOTE_UPDATE:null,NOTE_REMOVE:null,NOTE_SWITCHDISPLAY:null})},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({PREVIEW_SETPREVIEWDATA:null,PREVIEW_MOVE:null,PREVIEW_STOP:null,PREVIEW_PAUSE:null,PREVIEW_PLAY:null,PREVIEW_EXIT:null,PREVIEW_PREVIEW:null,PREVIEW_SETUNITW:null,PREVIEW_PREVIEWGROUP:null,PREVIEW_PREVIEWEVENT:null,PREVIEW_RESTART:null})},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({CUTIMAGE_INIT:null,CUTIMAGE_EXIT:null,CUTIMAGE_CHANGECUTVALS:null,CUTIMAGE_ISCUTSPOT:null})},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({SAVEDATA_CREATE:null,SAVEDATA_UNDO:null,SAVEDATA_REDO:null})},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({MERGEBOX_MOVE:null,MERGEBOX_INIT:null,MERGEBOX_BACKCOLOR:null,MERGEBOX_THISCONTR:null})},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({GUIDE_ADD:null,GUIDE_UPDATE:null,GUIDE_REMOVE:null,GUIDE_SHOW:null})},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({RIGHTLABEL_CHANGE:null})},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({BOTTOMPANEL_TOGGLEFOLD:null,BOTTOMPANEL_CHANGEHEIGHT:null,BOTTOMPANEL_CHANGESCALE:null,BOTTOMPANEL_CHANGELEFT:null,BOTTOMPANEL_REVERSE:null,BOTTOMPANEL_CORRECTRANGE:null})},,function(e,t,n){"use strict";var i=o(n(9)),a=o(n(54)),r=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(10).EventEmitter,l={isShow:!1,text:""};var c=(0,i.default)({},s.prototype,{getToast:function(){return l},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});r.default.register(function(e){switch(e.actionType){case a.default.TOAST_SHOW:!function(e,t,n){window.toastTimeout&&clearTimeout(window.toastTimeout);var i=n||4e3;l.isShow=!0,l.text=e,window.toastTimeout=setTimeout(function(){l.isShow=!1,c.emitChange(),clearTimeout(window.toastTimeout),t&&t()},i)}(e.text,e.callback,e.time),c.emitChange()}}),e.exports=c},function(e,t,n){"use strict";var i=u(n(3)),a=u(n(7)),r=u(n(6)),o=u(n(5)),s=u(n(4)),l=u(n(1)),c=n(267),d=u(n(244));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){(0,a.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={renderChange:0,toast:d.default.getToast()},n._onToastChange=n._onToastChange.bind(n),n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return t.renderChange!==this.state.renderChange}},{key:"componentDidMount",value:function(){d.default.addChangeListener(this._onToastChange)}},{key:"componentWillUnmount",value:function(){d.default.removeChangeListener(this._onToastChange)}},{key:"_onToastChange",value:function(){this.setState({renderChange:this.state.renderChange+1,toast:d.default.getToast()})}},{key:"render",value:function(){return l.default.createElement(c.CSSTransitionGroup,{transitionName:"toast",transitionEnterTimeout:300,transitionLeaveTimeout:300},this.state.toast.isShow?l.default.createElement("div",{className:"toast",id:"toast"},this.state.toast.text):null)}}]),t}(l.default.Component);e.exports=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n(3)),a=d(n(7)),r=d(n(6)),o=d(n(5)),s=d(n(4)),l=d(n(1)),c=d(n(38));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){(0,a.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={inputText:""},n.inputChange=n.inputChange.bind(n),n.inputKeyDown=n.inputKeyDown.bind(n),n.getUserDom=n.getUserDom.bind(n),n.removeCooperationClick=n.removeCooperationClick.bind(n),n.addCooperationClick=n.addCooperationClick.bind(n),n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"getUserDom",value:function(e,t,n){var i=this,a=window.loginInfo.userId==e._id,r=t[e._id],o=r&&r.createUser,s=r&&r.cooperationUser||e.noRegister&&t&&-1!=t.indexOf(e._id);if(!a){var c=void 0;return c=o?l.default.createElement("span",{className:"create-user"},"创建者"):l.default.createElement("div",{className:"material-icons iconfont operate-btn"+(s?" invited":"")+" a_c","data-contr":"hovertip","data-option":'{"text":"'+(a?"退出":s?"移除":(e.noRegister&&!s?"发送邮件":"")+"添加")+'协同"}',"data-userkey":e._id,"data-noregister":""+e.noRegister,onClick:s?i.removeCooperationClick:function(t){i.addCooperationClick(t,e)}}),l.default.createElement("li",{key:e._id},l.default.createElement("img",{src:$.getUserImageUrl(e.userImage,0)}),e.noRegister?l.default.createElement("span",{className:"user-name a_c","data-contr":"hovertip","data-option":'{"text":"该用户未注册"}'},e.nickName):l.default.createElement("span",{className:"user-name",dangerouslySetInnerHTML:{__html:$.searchIn(n,e.nickName,!0,!0)}}),l.default.createElement("span",{className:"user-email",dangerouslySetInnerHTML:{__html:$.searchIn(n,e.email,!0,!0)}}),c)}}},{key:"inputChange",value:function(e){this.setState({inputText:e.currentTarget.value})}},{key:"inputKeyDown",value:function(e){var t=this,i=n(24);13==e.keyCode&&i.searchUser(t.state.inputText,function(){t.setState({})})}},{key:"removeCooperationClick",value:function(e){var t=this,i=e.currentTarget.getAttribute("data-userkey"),a="true"==e.currentTarget.getAttribute("data-noregister"),r=window.loginInfo.userId==i,o=n(24),s=c.default.getInitCooperation();r&&window.isPrototypeTool?o.removeMyCooperation(s.type,i,function(){t.setState({}),s.deleteFunc()}):o.removeCooperation(i,function(){t.setState({})},a)}},{key:"addCooperationClick",value:function(e,t){var i=this;n(24).addCooperation(e.currentTarget.getAttribute("data-userkey"),t,function(){i.setState({})})}},{key:"render",value:function(){var e=this,t=e.state.inputText.trim(),n=c.default.getCooperationLastUserList(),i=c.default.getCooperationEmailArrList(),a=c.default.getAllCooperationUserList(),r=c.default.getSearchUser(),o=c.default.getSearchText(),s=""!=o&&t==o?l.default.createElement("span",null,"搜索内容为 [",l.default.createElement("span",{className:"redspan"},o),"] "):void 0,d=[],u=[],f=[];if(""===t)f=n.map(function(t){return e.getUserDom(t,a)});else for(var h in a){var p=a[h];(p.nickName&&-1!==p.nickName.indexOf(t)||p.email&&-1!==p.email.indexOf(t))&&(u.unshift(e.getUserDom(p,a,t)),d.push(h))}return""!=o&&t==o&&r.forEach(function(n){d&&-1===d.indexOf(n._id)&&(u.unshift(e.getUserDom(n,a,t)),d.push(n._id))}),f.filter(function(e){return null!=e}),u.filter(function(e){return null!=e}),l.default.createElement("div",{className:"popup-content invite-popup"},l.default.createElement("input",{className:"popup-input search-input",placeholder:"请输入用户名或邮箱",onChange:e.inputChange,onKeyDown:e.inputKeyDown}),""===t&&n.length>0?l.default.createElement("div",null,l.default.createElement("p",{className:"latest-label"},"最近"),l.default.createElement("ul",{className:"cooperators-list"},f)):void 0,""!==t?l.default.createElement("div",null,l.default.createElement("p",{className:"latest-label"},s||"搜索结果"),l.default.createElement("ul",{className:"cooperators-list"},u.length>0?u:$.isEmail(t)&&""!=o&&t==o?e.getUserDom({_id:t,userImage:"Default",nickName:"邮箱邀请",email:t,noRegister:!0},i,t):t==o?l.default.createElement("span",{className:"invite-result-text"},"暂无搜索结果！"):l.default.createElement("span",{className:"invite-result-text"},"请输入用户名或邮箱的全称，敲击 [",l.default.createElement("span",{className:"redspan"},"回车键"),"] 进行邀请"))):void 0)}}]),t}(l.default.Component);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n(3)),a=d(n(7)),r=d(n(6)),o=d(n(5)),s=d(n(4)),l=d(n(1)),c=d(n(38));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){(0,a.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={},n.removeCooperationClick=n.removeCooperationClick.bind(n),n.getUserDom=n.getUserDom.bind(n),n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"getUserDom",value:function(e,t){var n=window.loginInfo.userId==e._id,i=void 0;return n&&(i=l.default.createElement("span",{className:"redspan"}," [我]")),l.default.createElement("li",{key:e._id},l.default.createElement("img",{src:$.getUserImageUrl(e.userImage,0)}),e.isEmail?l.default.createElement("span",{className:"user-name a_c","data-contr":"hovertip","data-option":'{"text":"该用户未注册"}'},e.nickName):l.default.createElement("span",{className:"user-name"},e.nickName,i),l.default.createElement("span",{className:"user-email"},e.email),t?l.default.createElement("span",{className:"create-user"},"创建者"):l.default.createElement("div",{className:"material-icons iconfont operate-btn invited a_c","data-contr":"hovertip","data-option":'{"text":"'+(n?"退出协同":"移除协同")+'"}',"data-userkey":e._id,"data-noregister":""+e.isEmail,onClick:this.removeCooperationClick}))}},{key:"removeCooperationClick",value:function(e){var t=this,i=e.currentTarget.getAttribute("data-userkey"),a="true"==e.currentTarget.getAttribute("data-noregister"),r=window.loginInfo.userId==e.currentTarget.getAttribute("data-userkey"),o=n(24),s=c.default.getInitCooperation();r&&window.isPrototypeTool?o.removeMyCooperation(s.type,i,function(){t.setState({}),s.deleteFunc()}):r?o.removeCooperation(i,function(){t.setState({}),n(45).delete(s)},a):o.removeCooperation(i,function(){t.setState({})},a)}},{key:"render",value:function(){var e=this,t=[],i=c.default.getCooperationUserList(),a=c.default.getCooperationEmailArrList(),r=c.default.getCooperationCreateUser();return t.push(e.getUserDom(r,!0)),i.forEach(function(n){t.push(e.getUserDom(n))}),a.forEach(function(n){t.push(e.getUserDom({_id:n,userImage:"Default",nickName:"待接受邀请",email:n,isEmail:!0}))}),l.default.createElement("div",{className:"popup-content cooperator-popup"},l.default.createElement("ul",{className:"cooperators-list"},t),l.default.createElement("div",{className:"base-btn invite-btn",onClick:function(){n(24).addCooperators()}},"邀请协作者"))}}]),t}(l.default.Component);t.default=u},function(e,t,n){"use strict";var i=r(n(2)),a=r(n(65));function r(e){return e&&e.__esModule?e:{default:e}}var o={show:function(e){i.default.dispatch({actionType:a.default.ANIMLINE_SHOW,pos:e})},move:function(e){i.default.dispatch({actionType:a.default.ANIMLINE_MOVE,endPos:e})},hide:function(){i.default.dispatch({actionType:a.default.ANIMLINE_HIDE})}};e.exports=o},function(e,t,n){"use strict";var i=o(n(9)),a=o(n(2)),r=o(n(65));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(10).EventEmitter,l={style:{},show:!1},c={};function d(e){var t=(c=$.extend(c,e)).sX-c.eX,n=c.sY-c.eY,i=Math.abs(t),a=Math.abs(n),r=Math.sqrt(i*i+a*a),o=$.getAngle(c.sX,c.sY,c.eX,c.eY,!0);l={style:{left:c.sX,top:c.sY,transform:"rotate("+o+"deg)",width:r-5},show:!0}}var u=(0,i.default)({},s.prototype,{getAnimLine:function(){return l},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});a.default.register(function(e){switch(e.actionType){case r.default.ANIMLINE_SHOW:d(e.pos),u.emitChange();break;case r.default.ANIMLINE_MOVE:d(e.endPos),u.emitChange();break;case r.default.ANIMLINE_HIDE:l.show=!1,u.emitChange()}}),e.exports=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=p(n(14)),a=p(n(3)),r=p(n(7)),o=p(n(6)),s=p(n(5)),l=p(n(4)),c=p(n(1)),d=p(n(19)),u=p(n(29)),f=p(n(0)),h=p(n(8));function p(e){return e&&e.__esModule?e:{default:e}}var g=void 0,m=function(e){function t(e){(0,r.default)(this,t);var i=(0,s.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return g=n(16),i}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.i,t=f.default.getSelect().length,n=e.interfaceId==h.default.getActivePage()||this.props.isInSymbol,a=g.getStyles(e,"box",null,void 0),r=void 0,o=void 0,s={isC:!0,hotspotC:!0,isStartState:this.props.isStartState},l={};if(n&&"isInLib"!=this.props.specialType){var p=g.getEventTag(e),m=g.getAnimTag(e),v=this.props.isWrap?g.getmDivCoverEvent(this.props.isStartState):g.getCoverEvent(this.props.isStartState);r=c.default.createElement(u.default,{isOpt:e.isOpt,width:e.width,height:e.height,rotate:e.rotate}),o=c.default.createElement("div",(0,i.default)({},v,{className:"cover"}),p,m),this.props.isWrap&&(l={onMouseDown:$.stopPropagation})}return this.props.isWrap?$.extend(s,{mDiv:!0}):$.extend(s,{cDiv:!0,opt:e.isOpt,isOnlyOpt:1==t&&e.isOpt,lock:e.isLock}),c.default.createElement("div",(0,i.default)({key:this.props.contrId,ref:this.props.contrId,className:(0,d.default)(s),id:this.props.contrId,"data-id":this.props.contrId,"data-type":e.type,style:a},l),r,c.default.createElement("div",{className:"hotspot-dom"}),o)}}]),t}(c.default.Component);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=v(n(14)),a=v(n(3)),r=v(n(7)),o=v(n(6)),s=v(n(5)),l=v(n(4)),c=v(n(1)),d=v(n(19)),u=v(n(59)),f=v(n(0)),h=v(n(8)),p=v(n(26)),g=v(n(13)),m=v(n(18));function v(e){return e&&e.__esModule?e:{default:e}}var y=void 0,w=function(e){function t(e){(0,r.default)(this,t);var i=(0,s.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return y=n(16),i}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.i,t=f.default.getSelect().length,n=h.default.getViewMode(),a=e.interfaceId==h.default.getActivePage()||this.props.isInSymbol,r=y.getStyles(e,"box",null),o=y.getStyles(e,null,["opacity"]),s={},l=m.default.getSymbolMask(),v="symbolMask"==this.props.specialType,w=[],C={},_={},b=void 0,S=void 0,x={isC:!0,wrapBox:!0,isStartState:this.props.isStartState,symbolDiv:"isInLib"!=this.props.specialType},E={},T=void 0;if(this.props.symbolChild?T=$.extend(!0,$.extend(!0,{},e.children),this.props.symbolChild):l.isShow?l.thisContrKey==$.getContrId(e)&&(T={}):T=$.extend(!0,{},e.children),e.hierarchy)for(var I=0;I<e.hierarchy.length;I++){var P=e.contrs[e.hierarchy[e.hierarchy.length-1-I]],A=void 0,O="keyframe"==this.props.specialType||"isInLib"==this.props.specialType?this.props.specialType:"";if(p.default.getIsDrag())A=P;else if(!this.props.isStartState&&P.hoverState&&P.hoverState.isEndHover?(A=f.default.getAllValsContr({contrKey:P,type:"hover"}),b=!0):(A=f.default.getAllValsContr({contrKey:P,type:this.props.isHover?"hover":this.props.isStartState?"start":void 0}),b=this.props.isHover),1==t&&this.props.contrastContr&&$.getContrId(this.props.contrastContr)==$.getContrId(P)){var k=f.default.getAllValsContr({contrKey:P,type:"start"});w.push(y.createContr(k,this.props.contrastContr,!1,!0,void 0,void 0,"symbolMask"==this.props.specialType)),w.push(c.default.createElement(u.default,{key:"linkLine",start:k,end:A}))}var L=A;if("preview"==n||"drag-preview"==n)f.default.getSelect()[0]==$.getContrId(A)&&(O="preview");"isInLib"==this.props.specialType&&(O=this.props.specialType),e.isDragContr&&(L.isDragContr=!0),w.push(y.createContr(L,this.props.contrastContr,!v,this.props.isStartState,O,b,a,T))}if(a&&"isInLib"!=this.props.specialType){var M=y.getEventTag(e),D=y.getAnimTag(e),N=void 0,B=!0;if(e.isOpen&&!this.props.isStartState){var R=g.default.getThisContr(),U=!!R&&(e.isOpen&&e.type==R.type&&e.id==R.id);B=!1,$.extend(x,{cDiv:!0,opt:e.isOpt,lock:e.isLock,open:e.isOpen,openNow:U}),C={onMouseDown:y._coverMouseDown}}else this.props.isWrap?(N=y.getmDivCoverEvent(this.props.isStartState),E={onMouseDown:$.stopPropagation}):N=y.getCoverEvent(this.props.isStartState);B&&(S=c.default.createElement("div",(0,i.default)({},N,{className:"cover"}),M,D))}if(this.props.isWrap?x.mDiv=!0:$.extend(x,{cDiv:!0,opt:e.isOpt,lock:e.isLock,isOnlyOpt:!v&&1==t&&e.isOpt,isSymbolEdit:v}),"symbol"==e.type&&10!=e.scale){var H=e.scale/10;_={transform:"scale("+H+")",left:-1*H,top:-1*H},v||(r.width*=H,r.height*=H)}return v&&(s={background:m.default.getSymbolBackColor(),width:r.width,height:r.height}),c.default.createElement("div",(0,i.default)({key:"preview"==this.props.specialType?"preview":this.props.contrId,ref:this.props.contrId,className:(0,d.default)(x),id:this.props.contrId,"data-id":this.props.contrId,"data-type":e.type,"data-symbolkey":e.symbolKey,style:r},E),v?c.default.createElement("div",{className:"symbol-bg-box",style:s}):void 0,"isInLib"!=this.props.specialType&&"symbolMask"!=this.props.specialType&&l.isShow&&l.thisContrKey==$.getContrId(e)&&"multi-view"!=h.default.getViewMode()?void 0:c.default.createElement("div",(0,i.default)({id:"isInLib"==this.props.specialType?"":"symbolWrapper",className:(0,d.default)({contrWrapBox:!0,"symbol-wrapper":!0,"stretch-wrapper":!0,"symbol-edit-wrapper":v}),style:o},C),c.default.createElement("div",{className:"contrGroup stretch-wrapper",style:_},w)),v?void 0:S)}}]),t}(c.default.Component);t.default=w},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=v(n(14)),a=v(n(3)),r=v(n(7)),o=v(n(6)),s=v(n(5)),l=v(n(4)),c=v(n(1)),d=v(n(19)),u=v(n(59)),f=v(n(29)),h=v(n(0)),p=v(n(8)),g=v(n(26)),m=v(n(13));function v(e){return e&&e.__esModule?e:{default:e}}var y=void 0,w=function(e){function t(e){(0,r.default)(this,t);var i=(0,s.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return y=n(16),i}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){for(var e=this.props.i,t=h.default.getSelect().length,n=p.default.getViewMode(),a=e.interfaceId==p.default.getActivePage()||this.props.isInSymbol,r=y.getStyles(e,"box",null),o=y.getStyles(e,null,["insetBorder","radius"]),s=y.getStyles(e,null,["opacity","radius","outerHidden","backColor","shadow","filter"]),l=[],v={},w=void 0,C=void 0,_=!0,b=void 0,S={isC:!0,wrapBox:!0,isStartState:this.props.isStartState},x={},E=0;E<e.hierarchy.length;E++){var T=e.contrs[e.hierarchy[e.hierarchy.length-1-E]],I=void 0,P="keyframe"==this.props.specialType?this.props.specialType:"";if(g.default.getIsDrag()||"isInLib"==this.props.specialType)I=T;else if(!this.props.isStartState&&T.hoverState&&T.hoverState.isEndHover?(I=h.default.getAllValsContr({contrKey:T,type:"hover"}),w=!0):(I=h.default.getAllValsContr({contrKey:T,type:this.props.isHover?"hover":this.props.isStartState?"start":void 0}),w=this.props.isHover),1==t&&this.props.contrastContr&&$.getContrId(this.props.contrastContr)==$.getContrId(T)){var A=h.default.getAllValsContr({contrKey:T,type:"start"});l.push(y.createContr(A,this.props.contrastContr,!1,!0,void 0,void 0,this.props.isInSymbol)),l.push(c.default.createElement(u.default,{key:"linkLine",start:A,end:I}))}var O=I;if("preview"==n||"drag-preview"==n)h.default.getSelect()[0]==$.getContrId(I)&&(P="preview");"isInLib"==this.props.specialType&&(P=this.props.specialType),e.isDragContr&&(O.isDragContr=!0),l.push(y.createContr(O,this.props.contrastContr,!e.isOpen,this.props.isStartState,P,w,this.props.isInSymbol,this.props.symbolChild))}if(!a&&this.props.isWrap||"isInLib"==this.props.specialType)e.insetBorder&&"0"!=e.insetBorder[1]||(_=null);else{var k=y.getEventTag(e),L=y.getAnimTag(e),M=void 0,D=!0;if(e.isOpen&&!this.props.isStartState){var N=m.default.getThisContr(),B=!!N&&(e.isOpen&&e.type==N.type&&e.id==N.id);s.overflow="visible",D=!1,$.extend(S,{cDiv:!0,opt:e.isOpt,lock:e.isLock,open:e.isOpen,openNow:B}),v={onMouseDown:y._coverMouseDown}}else this.props.isWrap?(M=y.getmDivCoverEvent(this.props.isStartState),x={onMouseDown:$.stopPropagation}):M=y.getCoverEvent(this.props.isStartState);C=c.default.createElement(f.default,{isOpt:e.isOpt,width:e.width,height:e.height,rotate:e.rotate}),D&&(b=c.default.createElement("div",(0,i.default)({},M,{className:"cover"}),k,L))}return _&&(_=c.default.createElement("div",{className:"contrBorder stretch-wrapper",style:o})),this.props.isWrap?S.mDiv=!0:$.extend(S,{cDiv:!0,opt:e.isOpt,lock:e.isLock,isOnlyOpt:1==t&&e.isOpt}),c.default.createElement("div",(0,i.default)({key:"preview"==this.props.specialType?"preview":this.props.contrId,ref:this.props.contrId,className:(0,d.default)(S),id:this.props.contrId,"data-id":this.props.contrId,"data-type":e.type,style:r},x),C,c.default.createElement("div",(0,i.default)({className:"contrWrapBox stretch-wrapper",style:s},v),c.default.createElement("div",{className:"contrGroup stretch-wrapper"},l),_),b)}}]),t}(c.default.Component);t.default=w},function(e,t,n){"use strict";var i=u(n(14)),a=u(n(3)),r=u(n(7)),o=u(n(6)),s=u(n(5)),l=u(n(4)),c=u(n(1)),d=u(n(0));function u(e){return e&&e.__esModule?e:{default:e}}var f=void 0,h=function(e){function t(e){(0,r.default)(this,t),f=n(16);var i=(0,s.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return i.state={isDroping:!1},i._inputChangeImg=i._inputChangeImg.bind(i),i._changeImage=i._changeImage.bind(i),i._imgDropImage=i._imgDropImage.bind(i),i._imgDragOver=i._imgDragOver.bind(i),i._imgDragEnter=i._imgDragEnter.bind(i),i._imgDragLeave=i._imgDragLeave.bind(i),i}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return c.default.createElement("div",(0,i.default)({},this.props.coverEvent,{className:"cover"+(this.state.isDroping?" droping":""),style:this.props.coverStyle,onDrop:this._imgDropImage,onDragOver:this._imgDragOver,onDragEnter:this._imgDragEnter,onDragLeave:this._imgDragLeave}),f.getEventTag(this.props.contr),f.getAnimTag(this.props.contr))}},{key:"_inputChangeImg",value:function(e){e.preventDefault(),this._changeImage(e.target.files[0])}},{key:"_changeImage",value:function(e){var t=new Image,n=new FormData;n.append("imgs",e),t.src=window.URL.createObjectURL(e),t.onload=function(){d.default.updateImageContrData({src:t.src,name:e.name,width:t.width,height:t.height,fd:n})}}},{key:"_imgDropImage",value:function(e){e.preventDefault(),e.stopPropagation(),d.default.selectChange([$(".cover.droping").parent().attr("id")]),this._changeImage(e.dataTransfer.files[0]),this.setState({isDroping:!1})}},{key:"_imgDragOver",value:function(e){this.setState({isDroping:!0}),e.preventDefault(),e.stopPropagation()}},{key:"_imgDragEnter",value:function(e){this.setState({isDroping:!0}),e.preventDefault(),e.stopPropagation()}},{key:"_imgDragLeave",value:function(e){this.setState({isDroping:!1}),e.preventDefault(),e.stopPropagation()}}]),t}(c.default.Component);e.exports=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=m(n(14)),a=m(n(3)),r=m(n(7)),o=m(n(6)),s=m(n(5)),l=m(n(4)),c=m(n(1)),d=m(n(19)),u=m(n(253)),f=m(n(29)),h=m(n(0)),p=m(n(33)),g=m(n(8));function m(e){return e&&e.__esModule?e:{default:e}}var v=void 0,y=function(e){function t(e){(0,r.default)(this,t);var i=(0,s.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return v=n(16),i}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.i;e=$.copyContrChangeSymbolVal(e,this.props.symbolChild,"src"),e=$.copyContrChangeSymbolVal(e,this.props.symbolChild,"cutVals");var t=p.default.getCutImage(),n=t.isShow&&$.getContrId(e)==t.thisImageKey,a=h.default.getSelect().length,r=e.interfaceId==g.default.getActivePage()||this.props.isInSymbol,o=v.getStyles(e,"box",null),s=v.getStyles(e,null,["insetBorder","radius"]),l=v.getStyles(e,null,e.layers&&e.layers.length>0||e.isSvg?["opacity","shadow","radius"]:["opacity","backColor","shadow","radius"]),m=void 0,y=!0,w=void 0,C={isC:!0,imageC:!0,isStartState:this.props.isStartState},_={};return r&&"isInLib"!=this.props.specialType?(m=c.default.createElement(f.default,{isOpt:e.isOpt,width:e.width,height:e.height,rotate:e.rotate}),this.props.isWrap?(_={onMouseDown:$.stopPropagation},w=c.default.createElement("div",(0,i.default)({},v.getmDivCoverEvent(this.props.isStartState),{className:"cover"}),v.getEventTag(e),v.getAnimTag(e))):w=c.default.createElement(u.default,{contr:e,coverEvent:v.getCoverEvent(this.props.isStartState),isStartState:this.props.isStartState})):e.insetBorder&&"0"!=e.insetBorder[1]||(y=null),y&&(y=c.default.createElement("div",{className:"contrBorder stretch-wrapper",style:s})),this.props.isWrap?C.mDiv=!0:$.extend(C,{cDiv:!0,opt:e.isOpt,isOnlyOpt:1==a&&e.isOpt,lock:e.isLock}),c.default.createElement("div",(0,i.default)({key:"preview"==this.props.specialType?"preview":this.props.contrId,ref:this.props.contrId,className:(0,d.default)(C),id:this.props.contrId,"data-id":this.props.contrId,"data-type":e.type,style:o},_),m,n?void 0:c.default.createElement("div",{className:"cutImgOutBox stretch-wrapper",style:l},v.getImageNode(e),y),w)}}]),t}(c.default.Component);t.default=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=p(n(14)),a=p(n(3)),r=p(n(7)),o=p(n(6)),s=p(n(5)),l=p(n(4)),c=p(n(1)),d=p(n(19)),u=p(n(29)),f=p(n(0)),h=p(n(8));function p(e){return e&&e.__esModule?e:{default:e}}var g=void 0,m=function(e){function t(e){(0,r.default)(this,t);var i=(0,s.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return g=n(16),i}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.i,t=f.default.getSelect().length,n=e.interfaceId==h.default.getActivePage()||this.props.isInSymbol,a=g.getStyles(e,"box",null),r=void 0,o=void 0,s={isC:!0,iconC:!0,isStartState:this.props.isStartState},l={};if(n&&"isInLib"!=this.props.specialType){var p=g.getEventTag(e),m=g.getAnimTag(e),v=this.props.isWrap?g.getmDivCoverEvent(this.props.isStartState):g.getCoverEvent(this.props.isStartState);r=c.default.createElement(u.default,{isOpt:e.isOpt,width:e.width,height:e.height,rotate:0}),o=c.default.createElement("div",(0,i.default)({},v,{className:"cover"}),p,m),this.props.isWrap&&(l={onMouseDown:$.stopPropagation})}return this.props.isWrap?s.mDiv=!0:$.extend(s,{cDiv:!0,opt:e.isOpt,isOnlyOpt:1==t&&e.isOpt,lock:e.isLock}),c.default.createElement("div",(0,i.default)({key:this.props.contrId,ref:this.props.contrId,className:(0,d.default)(s),id:this.props.contrId,"data-id":this.props.contrId,"data-type":e.type,style:a},l),r,o)}}]),t}(c.default.Component);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=p(n(14)),a=p(n(3)),r=p(n(7)),o=p(n(6)),s=p(n(5)),l=p(n(4)),c=p(n(1)),d=p(n(19)),u=p(n(29)),f=p(n(0)),h=p(n(8));function p(e){return e&&e.__esModule?e:{default:e}}var g=void 0,m=function(e){function t(e){(0,r.default)(this,t);var i=(0,s.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return g=n(16),i}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.i;e=$.copyContrChangeSymbolVal(e,this.props.symbolChild,"iconKey");var t=f.default.getSelect().length,n=1,a=1,r=e.interfaceId==h.default.getActivePage()||this.props.isInSymbol,o=g.getStyles(e,"box",null),s={fontSize:Math.ceil(Math.max(e.width,12)),color:e.iconColor,opacity:e.opacity/100,WebkitFilter:$.getFilter(e.filter)},l=Math.ceil(e.width),p=void 0,m=void 0,v={isC:!0,iconC:!0,isStartState:this.props.isStartState},y={};if(e.width!=e.height&&(a=e.height/e.width),e.width<12&&(n=n*l/12,a=a*l/12),1==n&&1==a||(s.transform=(1!=n?"scaleX("+n+")":"")+(1!=a?" scaleY("+a+")":"")),r&&"isInLib"!=this.props.specialType){var w=g.getEventTag(e),C=g.getAnimTag(e),_=this.props.isWrap?g.getmDivCoverEvent(this.props.isStartState):g.getCoverEvent(this.props.isStartState);p=c.default.createElement(u.default,{isOpt:e.isOpt,width:e.width,height:e.height,rotate:e.rotate}),m=c.default.createElement("div",(0,i.default)({},_,{className:"cover"}),w,C),this.props.isWrap&&(y={onMouseDown:$.stopPropagation})}return this.props.isWrap?v.mDiv=!0:$.extend(v,{cDiv:!0,opt:e.isOpt,isOnlyOpt:1==t&&e.isOpt,lock:e.isLock}),c.default.createElement("div",(0,i.default)({key:"preview"==this.props.specialType?"preview":this.props.contrId,ref:this.props.contrId,className:(0,d.default)(v),id:this.props.contrId,"data-id":this.props.contrId,"data-type":e.type,style:o},y),p,c.default.createElement("i",{className:"material-icons icon iconfont",style:s},e.iconKey),m)}}]),t}(c.default.Component);t.default=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(3)),a=u(n(7)),r=u(n(6)),o=u(n(5)),s=u(n(4)),l=u(n(1)),c=u(n(17)),d=u(n(30));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){(0,a.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n._change=n._change.bind(n),n._focus=n._focus.bind(n),n._blur=n._blur.bind(n),n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"_change",value:function(e){d.default.contrUpdate(this.props.contrId,{content:e.currentTarget.value}),setTimeout($.textContentChangeLine,0)}},{key:"_focus",value:function(){d.default.contrUpdate(this.props.contrId,{lastContent:this.props.contr.content},!0)}},{key:"_blur",value:function(e){var t=this.props.contr.lastContent||"";d.default.contrUpdate(this.props.contrId,{lastContent:null},!0),$.trim(String(t))!=$.trim(String(e.currentTarget.value))&&c.default.createData({type:"textareaChange",name:"["+this.props.contr.name+"] 文字内容改变",handleObjType:this.props.contr.type,autoSaveType:"pageContrs"})}},{key:"render",value:function(){var e=this.props.contr,t=parseFloat(e.fontSize/12).toFixed(2),n=void 0,i={letterSpacing:e.adjaceney,fontSize:Math.ceil(Math.max(e.fontSize,12)),lineHeight:10*Math.ceil(e.lineHeight+5)+"%",textIndent:e.indent+"px",WebkitFilter:$.getFilter(e.filter),color:null===e.textColor?"none":e.textColor,textShadow:"0"==e.textShadow?"none":"rgba(0,0,0,0.5) 0px "+e.textShadow+"px "+e.textShadow+"px",width:e.fontSize<12?e.width/t+"px":"100%",transform:e.fontSize<12?("vM"==e.vertical?"translateY(-50%) ":"")+"scale("+t+")":null};return this.props.isActivePage?(n=e.isEdit?l.default.createElement("textarea",{ref:"textarea",spellCheck:"false",className:"isEdit",value:e.content,onChange:this._change,onFocus:this._focus,onBlur:this._blur}):l.default.createElement("textarea",{ref:"textarea",spellCheck:"false",readOnly:!0,className:"noSelect",value:e.content,onClick:$.stopPropagation,onFocus:this._focus,onBlur:this._blur}),l.default.createElement("div",{className:"inputText",style:i},l.default.createElement("pre",null,l.default.createElement("span",null,e.content),l.default.createElement("br",null)),n)):l.default.createElement("p",{className:"inputText"+this.props.alignClass,style:i},e.content)}}]),t}(l.default.Component);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=g(n(14)),a=g(n(3)),r=g(n(7)),o=g(n(6)),s=g(n(5)),l=g(n(4)),c=g(n(1)),d=g(n(19)),u=g(n(29)),f=g(n(257)),h=g(n(0)),p=g(n(8));function g(e){return e&&e.__esModule?e:{default:e}}var m=void 0;function v(e){$(e.target).find("textarea").focus(),e.stopPropagation()}var y=function(e){function t(e){(0,r.default)(this,t);var i=(0,s.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return m=n(16),i}return(0,l.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=this.props.i,t=$.getContrId(e),n=((e=$.copyContrChangeSymbolVal(e,this.props.symbolChild,"content",t)).interfaceId==p.default.getActivePage()||this.props.isInSymbol)&&"isInLib"!=this.props.specialType,a=h.default.getSelect().length,r="hLine"==e.baseContrType||"vLine"==e.baseContrType,o=m.getStyles(e,"box",null,!(e.interfaceId==p.default.getActivePage()||this.props.isInSymbol)),s=" "+e.horizontal+" "+e.vertical+(e.isB?" tB":"")+(e.isI?" tI":"")+(e.isU?" tU":""),l=m.getStyles(e,"textBox"),g=void 0,y=void 0,w=void 0,C={isC:!0,textC:!0,isStartState:this.props.isStartState,noEdit:!e.isEdit,isLine:r},_={};if(n){var b={pointerEvents:e.isEdit?"none":"auto"},S=m.getEventTag(e),x=m.getAnimTag(e),E=this.props.isWrap?m.getmDivCoverEvent(this.props.isStartState):m.getCoverEvent(this.props.isStartState);g=c.default.createElement(u.default,{isOpt:e.isOpt,width:e.width,height:e.height,rotate:e.rotate}),w=c.default.createElement("div",(0,i.default)({},E,{className:"cover",style:b}),S,x),y=c.default.createElement("div",{className:"contrTextBox stretch-wrapper"+s+(e.isEdit?" isEdit":""),style:l},c.default.createElement(f.default,{contrId:t,contr:e,isActivePage:n})),this.props.isWrap?_={onMouseDown:$.stopPropagation}:e.isEdit&&(_={onClick:v,onMouseDown:$.stopPropagation})}else $.extend(!0,o,l),e.content&&(y=c.default.createElement(f.default,{contrId:t,contr:e,isActivePage:n,alignClass:s}));return this.props.isWrap?C.mDiv=!0:$.extend(C,{cDiv:!0,opt:e.isOpt,isOnlyOpt:1==a&&e.isOpt,lock:e.isLock}),c.default.createElement("div",(0,i.default)({key:"preview"==this.props.specialType?"preview":this.props.contrId,ref:this.props.contrId,className:(0,d.default)(C),id:this.props.contrId,"data-id":this.props.contrId,"data-type":e.type,style:o},_),g,y,w)}}]),t}(c.default.Component);t.default=y},function(e,t,n){"use strict";var i={createSymbol:function(e){var t=n(8),i=n(12),a=t.getProid(),r=$.extend({Nums:{},symbolContrs:{},contrArr:[],widthHeight:[],name:"",symbol:{}},e);++r.Nums.symbol;var o=window.userKey?1e3*r.Nums.symbol+window.userKey:r.Nums.symbol;r.symbolContrs.symbols[o]||(r.symbolContrs.symbols[o]={});var s=r.symbolContrs.symbols[o];s.width=r.widthHeight[0],s.height=r.widthHeight[1];var l=s.hierarchy=[];return s.name=r.name,s.uniqueKey=a+o.toString(16)+(new Date).getTime().toString(16),window.userKey&&$.addUserKeyToContr(s),r.contrArr.forEach(function(e){var t=$.getContrId(e);r.symbolContrs.contrs[t]=e,l.unshift(t)}),setTimeout(function(){i.show("已生成【"+s.name+"】引用组件")},0),o},createSymbolFromImport:function(e,t,i,a){var r=n(8),o=n(18),s=n(12),l=r.getProid();++t.symbol;var c=window.userKey?1e3*t.symbol+window.userKey:t.symbol;return i.symbols[c]=$.extend(!0,{},e),window.userKey&&(i.symbols[c].userKey=window.userKey),a||(i.symbols[c].uniqueKey=l+c.toString(16)+(new Date).getTime().toString(16)),o.setAdding(!0),setTimeout(function(){o.setAdding(!1),s.show("已生成【"+e.name+"】引用组件")},0),c},createSymbolContr:function(e){var t=$.extend({contrs:{},symbolKey:"",contr:{},contrKey:""},e),n=t.contr;return{id:t.contrKey,symbolKey:t.symbolKey,name:n.name,type:"symbol",left:n.left,top:n.top,bgColor:"rgba(255, 255, 255, 1)",isLock:!1,isShow:!0,isOpt:!0,scale:10,rotate:0,opacity:100,children:{}}},contrToSymbolClearVal:function(e,t){var n=[t.left,t.top],a=$.getContrId(e);if(e.left-=n[0],e.top-=n[1],delete e.interfaceId,delete e.mergeName,i.removechildInterfaceId(e),e.states)for(var r in e.states)if(e.states[r]&&e.states[r].contrs[a]){var o=e.states[r].contrs[a];o.left-=n[0],o.top-=n[1]}},removechildInterfaceId:function(e){if($.isUndefined(e.interfaceId)||delete e.interfaceId,"wrapbox"==e.type)for(var t in e.contrs)i.removechildInterfaceId(e.contrs[t])}};e.exports=i},function(e,t,n){"use strict";(function(t){var i,a=n(36),r=(i=a)&&i.__esModule?i:{default:i};var o=void 0!==e&&e.exports&&void 0!==t?t:window;(o._gsQueue||(o._gsQueue=[])).push(function(){var e=o._gsDefine.plugin({propName:"text",API:2,version:"0.5.1",init:function(e,t,n){var i,a;if(!("innerHTML"in e))return!1;if(this._target=e,"object"!=(void 0===t?"undefined":(0,r.default)(t))&&(t={value:t}),void 0===t.value)return this._text=this._original=[""],!0;for(this._delimiter=t.delimiter||"",this._original=function e(t){var n=t.nodeType,i="";if(1===n||9===n||11===n){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=e(t)}else if(3===n||4===n)return t.nodeValue;return i}(e).replace(/\s+/g," ").split(this._delimiter),this._text=t.value.replace(/\s+/g," ").split(this._delimiter),this._runBackwards=!0===n.vars.runBackwards,this._runBackwards&&(i=this._original,this._original=this._text,this._text=i),"string"==typeof t.newClass&&(this._newClass=t.newClass,this._hasClass=!0),"string"==typeof t.oldClass&&(this._oldClass=t.oldClass,this._hasClass=!0),a=0>(i=this._original.length-this._text.length)?this._original:this._text,this._fillChar=t.fillChar||(t.padSpace?"&nbsp;":""),0>i&&(i=-i);--i>-1;)a.push(this._fillChar);return!0},set:function(e){e>1?e=1:0>e&&(e=0),this._runBackwards&&(e=1-e);var t,n,i,a=this._text.length,r=e*a+.5|0;this._hasClass?(t=this._newClass&&0!==r,n=this._oldClass&&r!==a,i=(t?"<span class='"+this._newClass+"'>":"")+this._text.slice(0,r).join(this._delimiter)+(t?"</span>":"")+(n?"<span class='"+this._oldClass+"'>":"")+this._delimiter+this._original.slice(r).join(this._delimiter)+(n?"</span>":"")):i=this._text.slice(0,r).join(this._delimiter)+this._delimiter+this._original.slice(r).join(this._delimiter),this._target.innerHTML="&nbsp;"===this._fillChar&&-1!==i.indexOf("  ")?i.split("  ").join("&nbsp;&nbsp;"):i}}).prototype;e._newClass=e._oldClass=e._delimiter=""}),o._gsDefine&&o._gsQueue.pop()()}).call(this,n(79))},,function(e,t,n){"use strict";var i=c(n(1)),a=c(n(21)),r=c(n(62)),o=c(n(74)),s=c(n(12)),l=c(n(23));function c(e){return e&&e.__esModule?e:{default:e}}e.exports={loadNotification:function(e){if(r.default.getIsDownLoad("notification"))e&&e(!1);else{var t={};window.location.href.split("?")[0]==window.hostUrl+"/user/notification"&&(t.details=!0),a.default.post(window.hostUrl+"/user/noReadNotification").send(t).set("X-API-Key","foobar").set("Accept","application/json").end(function(e,t){"0"==t.body.code?o.default.loadNotification(t.body.data):s.default.show(t.body.msg)})}},sendEmail:function(){var e="";l.default.init({width:640,title:"邮箱注册验证",cancelBtnName:"取消",submitBtnName:"确定",content:i.default.createElement("div",{className:"popup-content"},i.default.createElement("input",{className:"pageNameInput cssTextarea",id:"sendMsgInput",placeholder:"请输入邮箱名",onChange:function(t){e=t.target.value}})),submitBtnFunc:function(){window.isDevelop&&log(e),l.default.hide()}})},activateEmail:function(){var e="";l.default.init({width:640,title:"邮箱注册验证",cancelBtnName:"取消",submitBtnName:"确定",content:i.default.createElement("div",{className:"popup-content"},i.default.createElement("input",{className:"pageNameInput cssTextarea",id:"sendMsgInput",placeholder:"请输入邮箱名",onChange:function(t){e=t.target.value}})),submitBtnFunc:function(){a.default.post(window.hostUrl+"/login/activateEmail").send({email:e}).set("X-API-Key","foobar").set("Accept","application/json").end(function(e,t){"0"==t.body.code?(window.isDevelop&&log(t.body.data),s.default.show(t.body.msg)):s.default.show(t.body.msg)}),l.default.hide()}})}}},function(e,t,n){"use strict";var i,a=n(262),r=(i=a)&&i.__esModule?i:{default:i};$(function(){window.document.addEventListener("keydown",function(e){$.commonKeyDown(e)},!1),$.hoverContrInit(),window.pcApp&&$(window.document).on("click","a",function(e){var t=e.currentTarget.getAttribute("href");return $.pcChangeIframe(null,t),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1}),window.noLogin||r.default.loadNotification()}),e.exports="HeaderInit"},function(e,t,n){"use strict";var i=o(n(276)),a=o(n(305)),r=o(n(304));function o(e){return e&&e.__esModule?e:{default:e}}var s=void 0,l=void 0,c={},d={},u=[],f=[],h=null,p={},g=["leftMenu","rightMenu","leftNav","rightNav"],m=["leftMenuBack","rightMenuBack","leftNavBack","rightNavBack"],v={setUpdateFunc:function(e,t){l=e,s=t},getEventType:function(e){return{tA:"tap",dT:"doubletap",hV:"hover",sH:"swipeH",sV:"swipeV",sL:"swipeleft",sR:"swiperight",sT:"swipeup",sD:"swipedown",tM:"timer"}[e]},setEvents:function(e){var t=[],n={},a=void 0,r=!1;for(var o in e.events)e.events[o].disable||(a=o,"tM"==o?(r=!0,v.isParentMoving(e.updateParent)||function(){var n=e.events[o];t[t.length]=setTimeout(function(){v.triggerActions(n.actions,{pageIndex:e.pageIndex,pageKey:e.pageKey,targetId:e.targetId,symbolParent:e.symbolParent})},100*n.delay)}()):"hV"==o?function(){var t=e.events[o],n=v.getContrSelector(e);n.on("mouseenter",function(){v.triggerActions(t.actions,{pageIndex:e.pageIndex,pageKey:e.pageKey,targetId:e.targetId,symbolParent:e.symbolParent,eventType:"mouseenter"})}),n.off("mouseleave").on("mouseleave",function(){v.triggerActions(t.actions,{pageIndex:e.pageIndex,pageKey:e.pageKey,targetId:e.targetId,symbolParent:e.symbolParent,eventType:"mouseleave"})})}():function(){var t,a,r=v.getContrSelector(e)[0],s=(0,i.default)(new window.Hammer(r,{touchAction:"auto"})),l=e.events[o].actions,c=v.getEventType(o);-1!==["swipeV","swipedown","swipeup"].indexOf(c)&&s.get("swipe").set({direction:window.Hammer.DIRECTION_VERTICAL}),"swipeH"!=c&&"swipeV"!=c||(c="swipe"),a=l,n[t=c]={hammertime:s,func:function(t){$.hasClass(r,"moving")&&$.isUndefined($(r).attr("data-prevstate"))||v.triggerActions(a,{pageIndex:e.pageIndex,pageKey:e.pageKey,targetId:e.targetId,symbolParent:e.symbolParent}),t.stopPropagation(),t.preventDefault()}},s.on(t,n[t].func)}());if(a){var s='<div class="gesture-tag">'+("tA"==a?"":"<img src='"+window.staticUrl+window.gestureImg[a]+"'/>")+"</div>";v.getContrSelector(e).append(s).addClass("event-show "+a)}return u=u.concat(t),v.saveTmEventData(e,r),{timers:t,eventHammers:n,eTypeClass:a}},saveTmEventData:function(e,t){!p[e.pageKey]&&t&&(p[e.pageKey]={}),t?p[e.pageKey][e.targetId]=!0:p[e.pageKey]&&p[e.pageKey][e.targetId]&&delete p[e.pageKey][e.targetId],p[e.pageKey]&&0===$.objLength(p[e.pageKey])&&delete p[e.pageKey]},triggerActions:function(e,t){var n=[];$(".current .event-show").removeClass("animating"),e.forEach(function(e){if("state"==e.type){var i=void 0,o=void 0;if(t.symbolParent)for(var l=t.symbolParent.length;l>0;l--){var f=$("#"+t.symbolParent.slice(0,l).join(" #")).find("."+e.contr);if(f){i=f,o=t.symbolParent.slice(0,l);break}}else i=$("#"+e.contr);var h=e.endState,p=+i.attr("data-state"),g=e.contr;if(o&&(g=o.join("_")+"_"+e.contr),"mouseleave"==t.eventType){var m=i.attr("data-prevstate");if(p!=h&&p!=m)return!1;h=m}if(h==p||i.attr("data-nextstate")==h)return d[g]&&h==p&&v.killTimeline({contrId:e.contr,endState:p,pageIndex:t.pageIndex,timelineContrId:g,contr:i}),!1;if("mouseenter"==t.eventType&&i.attr("data-prevstate",p),!1===e.animOn)s({contrId:e.contr,state:h,pageIndex:t.pageIndex,parentArr:v.getParentArr(i)});else{d[g]&&(v.killTimeline({contrId:e.contr,endState:h,pageIndex:t.pageIndex,timelineContrId:g,contr:i}),p=h);var y=a.default.getTimeline(g,p,h);y||(y=r.default.getTimeline({contrId:e.contr,curr:p,next:h,symbolParent:o}),a.default.setTimeline(g,p,h,y)),"disabled"==y?s({contrId:e.contr,state:h,pageIndex:t.pageIndex}):"noChange"==y?s({contrId:e.contr,state:h,pageIndex:t.pageIndex,parentArr:v.getParentArr(i)}):(d[g]=y,i.addClass("moving").attr("data-nextstate",h),n.push(y),c[e.contr]=!0,y.eventCallback("onComplete",function(){i.removeAttr("data-nextstate"),s({contrId:e.contr,state:h,pageIndex:t.pageIndex,parentArr:v.getParentArr(i)}),delete d[g],c[e.contr]&&delete c[e.contr]}))}}else if("page"==e.type){var w=$.isUndefined(e.delay)?0:e.delay,C=setTimeout(function(){v.goToPage({curr:t.pageKey,next:e.page,transition:e.transition,time:e.time,distance:e.distance,reset:e.reset})},100*w);u=u.concat(C)}}),n.forEach(function(e){e.play(0)})},goToPage:function(e){if(e.next==e.curr&&!e.reset||$("#page"+e.curr).hasClass("moving")||-1==e.next&&0===f.length||h==e.curr)return!1;var t=$("#page"+e.curr),n=void 0,a=$("#pageContainer"),r=e.next==e.curr;if(v.completeTimeline(),r&&(e.transition="empty"),-1==e.next){var o=f[f.length-1],s=$.isUndefined(e.transition)||"default"==e.transition;n=!0,e.next=o.page,e.transition=s?o.transition:e.transition,e.distance=s?o.distance:e.distance,f.pop()}$(".page.prev").removeClass("prev"),t.removeClass("current").addClass("prev").removeAttr("style");var l=$("#page"+e.next).addClass("current").removeAttr("style"),c=t.attr("data-islandscape")!=l.attr("data-islandscape");if(a.attr("class","pageContainer"),e.transition&&"empty"!=e.transition&&"0"!=e.time?(a.addClass("mobile-"+$.humpToHythen(e.transition)+" page-animating"),-1==g.indexOf(e.transition)&&-1==m.indexOf(e.transition)||$.isUndefined(e.distance)||($.setKeyframes(e.transition,e.distance),a.addClass("mobile-"+$.humpToHythen(e.transition)+"-"+$.getDistance(e.distance))),$.isUndefined(e.time)||(t.css("animationDuration",100*e.time+"ms"),l.css("animationDuration",100*e.time+"ms")),t.addClass("moving").on("webkitAnimationEnd",function(){t.off("webkitAnimationEnd"),v.resetPage({currPageDom:t,nextPageDom:l,transition:e.transition,curr:e.curr,next:e.next})}),l.addClass("moving").on("webkitAnimationEnd",function(){l.off("webkitAnimationEnd"),v.resetPage({currPageDom:t,nextPageDom:l,transition:e.transition,curr:e.curr,next:e.next})})):v.resetPage({currPageDom:t,nextPageDom:l}),-1!=g.indexOf(e.transition)){var d=(0,i.default)(new window.Hammer($.getElById("pageMask"),{touchAction:"auto"}));d.on("tap",function t(n){var i=v.goToPage({curr:e.next,next:-1,transition:"default",time:e.time,distance:e.distance});$.isUndefined(i)&&d.off("tap",t),n.stopPropagation()})}n||r||(f.length>0&&-1!=m.indexOf(f[f.length-1].transition)?f[f.length-1].transition="empty":f.push({page:e.curr,transition:$.transitionReverse(e.transition),distance:$.isUndefined(e.distance)?void 0:e.distance}));r||(h=e.curr),v.setPageInfo({curr:e.curr,next:e.next,notToparent:e.notToparent,reset:e.reset,nextPageDom:l}),e.transition&&"empty"!=e.transition&&(window.fixedData[e.curr]&&v.correctFixedContr(t),window.fixedData[e.next]&&v.correctFixedContr(l)),c&&window.initResize()},setPageInfo:function(e){var t=v.getPageIndex(e.curr),n=v.getPageIndex(e.next);window.pages[t].active=!1,window.pages[n].active=!0,e.reset&&(e.nextPageDom[0].scrollTop=0),l(n,e.reset),!e.notToparent&&window.fromIframe&&(window.isLocal||"web"==window.platform?window:window.parent).getIframePageActive(t,n)},resetPage:function(e){e.currPageDom.removeClass("moving"),e.nextPageDom.removeClass("moving"),-1==g.indexOf(e.transition)&&($("#pageContainer").attr("class","pageContainer"),e.transition&&(window.fixedData[e.curr]&&v.correctFixedContr(e.currPageDom,!0),window.fixedData[e.next]&&v.correctFixedContr(e.nextPageDom,!0)))},getPageIndex:function(e){var t=void 0;return window.pages.some(function(n,i){return n.key==e&&(t=i),n.key==e}),t},correctFixedContr:function(e,t){var n=e[0].scrollTop;e.find(".fixed").each(function(){var e=$(this);if(t)e.css({top:"",bottom:""}),window.isLocal&&e.css({left:""});else{var i=$(this)[0].offsetTop;window.isLocal?e.css({left:$(this).attr("data-ori-left"),top:+$(this).attr("data-ori-top")+n,bottom:0}):e.css({top:n+i,bottom:0})}})},offEvents:function(e){var t=v.getContrSelector(e);for(var n in e.eventHammers){var i=e.eventHammers[n];i.hammertime.off(n,i.func)}t.attr("data-prevstate")&&t.off("mouseenter"),t.removeClass("event-show "+e.eTypeClass).removeAttr("style").children(".gesture-tag").remove(),"text"==e.type&&t.find("p").removeAttr("style"),"wrapbox"==e.type&&t.find(".insetBorder").removeAttr("style"),e.timers.forEach(function(e){clearTimeout(e)})},completeTimeline:function(){for(var e in d)d[e].progress(1);u.forEach(function(e){clearTimeout(e)}),u=[]},killTimeline:function(e){e.contr.removeAttr("data-nextstate"),d[e.timelineContrId].kill(),s({contrId:e.contrId,state:e.endState,pageIndex:e.pageIndex,parentArr:v.getParentArr(e.contr)}),delete d[e.timelineContrId]},isParentMoving:function(e){if(!e)return!1;for(var t in c)if(-1!=e.indexOf(t))return!0;return!1},hasTmEvents:function(e){return!!p[e]},getContrSelector:function(e){var t=void 0,n="";return e.symbolParent?(t=e.symbolParent.concat()).push(e.targetId):t=[e.targetId],t.forEach(function(e){n+="#"+e+" "}),$(n)},getParentArr:function(e){var t=[];return e.parents(".cDiv, .mDiv").forEach(function(e){t.push(e.id)}),0==t.length?null:t.reverse()}};e.exports=v},,,,,,,,,function(e,t,n){"use strict";var i=l(n(9)),a=l(n(2)),r=l(n(284)),o=l(n(275)),s=l(n(278));function l(e){return e&&e.__esModule?e:{default:e}}var c=n(10).EventEmitter,d=[["control",!0],["page"],["image"],["symbolLib"],["tutorial"]],u=window.isPc;function f(){var e=n(51),t=n(15),i=n(8);u=window.isPc&&!u;var a=t.getCurPos();u?(t.changePos({left:a.left-225,top:a.top,transition:!1,autoOff:!0,optimization:!1}),i.setViewProp({leftUnFold:!1}),t.emitChange()):(t.changePos({left:a.left+225,top:a.top,transition:!1,autoOff:!0,optimization:!1}),i.setViewProp({leftUnFold:!0}),t.emitChange()),e.resetSize()}var h=(0,i.default)({},c.prototype,{getLabel:function(e){return e?d:d.concat()},getCurrLabel:function(){var e=void 0;return d.forEach(function(t){t[1]&&(e=t[0])}),e},getFold:function(){return u},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});a.default.register(function(e){switch(e.actionType){case r.default.LEFTLABEL_CHANGE:t=e.activeLabel,n=e.fold,d.forEach(function(e){e[0]===t?e[1]=!0:e[1]=!1}),"page"===t?(s.default.getPageLib(),s.default.getPublicPageLib()):"image"===t&&(s.default.getImageLib(),s.default.getPublicImageLib(),s.default.getHistoryImages()),"control"!==t&&"page"!==t||o.default.resetAllSeachObj(!0),n&&f(),h.emitChange();break;case r.default.LEFTLABEL_FOLD:f(e.fold),h.emitChange()}var t,n}),e.exports=h},function(e,t,n){"use strict";var i=o(n(9)),a=o(n(2)),r=o(n(83));function o(e){return e&&e.__esModule?e:{default:e}}var s=n(10).EventEmitter,l={myImageLib:[],lastImageLibKey:null,isDownload:!1},c={myPublicImageLib:[],isDownload:!1},d={images:[],isDownload:!1},u={isShow:!1,searchKey:null,libType:null},f="history",h={private:[],public:[]};window.userLibSet&&window.userLibSet.image&&$.extend(!0,h,window.userLibSet.image);var p=(0,i.default)({},s.prototype,{getSearchObj:function(){return u},closeSeachObj:function(e){u={isShow:!1,searchKey:null,libType:null},e||p.emitSearchChange()},getMyImageLib:function(){return l.myImageLib},getPublicImageLib:function(){return c.myPublicImageLib},getHistoryImages:function(){return d.images},getLastImageLibKey:function(){return l.lastImageLibKey},setLastImageLibKey:function(e){l.lastImageLibKey=e},getIsDownload:function(){return l.isDownload},getPublicIsDownload:function(){return c.isDownload},getHistoryIsDownload:function(){return d.isDownload},setSearchObj:function(e,t){u=$.extend(u,e),t||p.emitSearchChange()},getSearchLib:function(){if(u.isShow){if("public"==u.libType)return p.getPublicImageById(u.searchKey);if("private"==u.libType)return p.getImageLibById(u.searchKey);if("history"==u.libType)return p.getHistoryLib()}},getHistoryLib:function(){return{id:"history",images:d.images,name:"历史上传图片"}},changeImageLibPermission:function(e,t,n){l.myImageLib.every(function(n){return n.id!=t||(n.permission=e,!1)}),n||p.emitSearchChange()},getImageLibById:function(e){var t=void 0;return l.myImageLib.every(function(n){return n.id!=e||(t=n,!1)}),t},getPublicImageById:function(e,t){var n=void 0,i=-1;return c.myPublicImageLib.every(function(t,a){return t.id!=e||(i=a,n=t,!1)}),t?i:n},initHistoryImages:function(e){d.images=e,d.isDownload=!0,p.emitChange()},getOpenLibId:function(){return f},openChange:function(e,t){f=e.openLibId,t||p.emitChange()},emitChange:function(){this.emit("change")},getImageLibSet:function(){return h},libsManage:function(e){h[e.type]=e.data},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)},emitSearchChange:function(){this.emit("searchChange")},addSearchChangeListener:function(e){this.on("searchChange",e)},removeSearchChangeListener:function(e){this.removeListener("searchChange",e)}});a.default.register(function(e){switch(e.actionType){case r.default.IMAGELIB_INIT:g=e.myImageLib,m=e.isDownload,v=[],g.forEach(function(e){var t=[];e.images.forEach(function(e){t.push({id:e._id,images:e.images,name:e.name})}),v.push({id:e._id,images:t,name:e.name})}),l.myImageLib=v,m&&(l.isDownload=!0),p.emitChange();break;case r.default.IMAGELIB_PUBLICINIT:!function(e,t){var n=[];e.forEach(function(e){var t=[];e.images.forEach(function(e){t.push({id:e._id,images:e.images,name:e.name})}),n.push({id:e._id,images:t,name:e.name})}),c.myPublicImageLib=n,t&&(c.isDownload=!0)}(e.publicImageLib,e.isDownload),p.emitChange();break;case r.default.IMAGELIB_ADD:h=e.imageLib,l.myImageLib.unshift(h),p.emitChange();break;case r.default.IMAGELIB_SCROLLTOP:u=e.imageLibId,f=e.scrollTop,l.myImageLib.forEach(function(e){e.id==u&&(e.scrollTop=f)}),p.emitChange();break;case r.default.IMAGELIB_ADDIMAGE:o=e.id,s=e.image,l.myImageLib.forEach(function(e){e.id==o&&(e.scrollTop=0,$.isArray(s)?e.images.unshift.apply(e.images,s):e.images.unshift(s))}),p.emitChange();break;case r.default.IMAGELIB_ADDHISTORYIMAGE:!function(e){d.images.splice(0,0,e)}(e.image),p.emitChange();break;case r.default.IMAGELIB_UPDATEIMAGE:!function(e,t,n){l.myImageLib.forEach(function(i){i.id==e&&i.images.forEach(function(e){e.id==t&&$.extend(e,n)})})}(e.id,e.imageId,e.image),p.emitChange();break;case r.default.IMAGELIB_DELIMAGE:!function(e,t){l.myImageLib.forEach(function(n){if(n.id==t){var i=!1;n.images.forEach(function(t,n){t.id==e&&(i=n)}),!1!==i&&n.images.splice(i,1)}})}(e.imageId,e.imageLibId),p.emitChange();break;case r.default.IMAGELIB_DELHISTORYIMAGE:!function(e,t){d.images[e].id==t&&d.images.splice(e,1)}(e.id,e.key),p.emitChange();break;case r.default.IMAGELIB_CONCAT:n=e.thisId,i=e.otherId,a=void 0,l.myImageLib.forEach(function(e){e.id==n&&(a=e.images)}),l.myImageLib.forEach(function(e){e.id==i&&(e.images=e.images.concat(a))}),p.emitChange();break;case r.default.IMAGELIB_DELETE:!function(e){var t=void 0;l.myImageLib.forEach(function(n,i){n.id==e&&(t=i)}),l.myImageLib.splice(t,1)}(e.imageLibId),p.emitChange();break;case r.default.IMAGELIB_EDIT:!function(e,t){l.myImageLib.forEach(function(n){n.id==t&&(n.name=e,n.isEdit&&delete n.isEdit)})}(e.name,e.imageLibId),p.emitChange();break;case r.default.IMAGELIB_CHANGEEDIT:!function(e,t){l.myImageLib.forEach(function(n){n.id==e&&(t?n.isEdit=!0:n.isEdit&&delete n.isEdit)})}(e.imageLibId,e.isEdit),p.emitChange();break;case r.default.IMAGELIB_OPENCHANGE:p.openChange(e.option);break;case r.default.IMAGELIB_LIBSMANAGE:("public"==(t=e.options).type?c.myPublicImageLib:l.myImageLib).every(function(e){return $.isUndefined(t.data[e.id])||(t.data[e.id]?e.hide=!0:$.isUndefined(e.hide)||delete e.hide),!0}),p.emitChange()}var t,n,i,a,o,s,u,f,h,g,m,v}),e.exports=p},function(e,t,n){"use strict";var i,a=n(9),r=(i=a)&&i.__esModule?i:{default:i};var o=n(10).EventEmitter,s={isShow:!1,type:"contr",searchKey:null,listObj:{contr:[],page:[],project:[]},isFirst:!1,isLoading:!1},l=window.localStorage.globalSearchHistory?$.stringToObj(window.localStorage.globalSearchHistory):{contr:[],page:[]},c={contr:["按钮","顶栏","导航","loading","二维码","卡片","键盘","分享","选择器","弹窗","进度条"],page:["详情","搜索","首页","我","登录","注册","分类","列表","提示","相册","发布","消息"]},d=(0,r.default)({},o.prototype,{getAllSearchObj:function(){return s},closeAllSeachObj:function(e){s.isShow=!1,e||d.emitChange()},showAllSeachObj:function(e,t){$.extend(!0,s,e),t||d.emitChange()},initAllSeachObj:function(e,t){if(s.type=e.type,s.listObj[e.type]=e.data,s.searchKey=e.searchKey,s.isLoading=!1,s.isFirst=!1,s.searchKey){if(l[e.type]){var n=l[e.type].indexOf(s.searchKey);-1!=n&&l[e.type].splice(n,1),l[e.type].unshift(s.searchKey),l[e.type].length>8&&l[e.type].pop()}window.localStorage.globalSearchHistory=$.objToString(l)}t||d.emitChange()},changeType:function(e,t){s.type=e,s.isLoading=!0,s.isFirst=!0,t||d.emitChange()},allSearchLoad:function(e,t){s.isLoading=e,t||d.emitChange()},resetAllSeachObj:function(e){s.searchKey=null,e||d.emitChange()},getReferrals:function(e){return c[e]},getHistory:function(e){return l[e]},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});e.exports=d},function(e,t,n){"use strict";var i,a,r,o=s(n(298));s(n(36));function s(e){return e&&e.__esModule?e:{default:e}}a=[],void 0===(r="function"==typeof(i=function(){var e=null;return function t(n,i){var a=i||{preventDefault:!1};if(n.Manager){var r=n,s=function(e,n){var i=(0,o.default)(a);return n&&r.assign(i,n),t(new r(e,i),i)};return r.assign(s,r),s.Manager=function(e,n){var i=(0,o.default)(a);return n&&r.assign(i,n),t(new r.Manager(e,i),i)},s}var l=(0,o.default)(n),c=n.element;function d(e){return e.match(/[^ ]+/g)}function u(t){if("hammer.input"!==t.type){if(t.srcEvent._handled||(t.srcEvent._handled={}),t.srcEvent._handled[t.type])return;t.srcEvent._handled[t.type]=!0}var n=!1;t.stopPropagation=function(){n=!0};var i=t.srcEvent.stopPropagation.bind(t.srcEvent);"function"==typeof i&&(t.srcEvent.stopPropagation=function(){i(),t.stopPropagation()}),t.firstTarget=e;for(var a=e;a&&!n;){var r=a.hammer;if(r)for(var o,s=0;s<r.length;s++)if(o=r[s]._handlers[t.type])for(var l=0;l<o.length&&!n;l++)o[l](t);a=a.parentNode}}return c.hammer||(c.hammer=[]),c.hammer.push(l),n.on("hammer.input",function(t){!0!==a.preventDefault&&a.preventDefault!==t.pointerType||t.preventDefault(),t.isFirst&&(e=t.target)}),l._handlers={},l.on=function(e,t){return d(e).forEach(function(e){var i=l._handlers[e];i||(l._handlers[e]=i=[],n.on(e,u)),i.push(t)}),l},l.off=function(e,t){return d(e).forEach(function(e){var i=l._handlers[e];i&&((i=t?i.filter(function(e){return e!==t}):[]).length>0?l._handlers[e]=i:(n.off(e,u),delete l._handlers[e]))}),l},l.emit=function(t,i){e=i.target,n.emit(t,i)},l.destroy=function(){var e=n.element.hammer,t=e.indexOf(l);-1!==t&&e.splice(t,1),e.length||delete n.element.hammer,l._handlers={},n.destroy()},l}})?i.apply(t,a):i)||(e.exports=r)},function(e,t,n){"use strict";var i=r(n(2)),a=r(n(283));function r(e){return e&&e.__esModule?e:{default:e}}var o={changeLabel:function(e){i.default.dispatch({actionType:a.default.PHONEVIEW_CHANGELABEL,label:e})},zoom:function(e,t){i.default.dispatch({actionType:a.default.PHONEVIEW_ZOOM,type:e,scale:t})},zoomFit:function(){i.default.dispatch({actionType:a.default.PHONEVIEW_ZOOMFIT})}};e.exports=o},function(e,t,n){"use strict";var i=s(n(77)),a=s(n(274)),r=s(n(80)),o=s(n(39));function s(e){return e&&e.__esModule?e:{default:e}}var l={getHistoryImages:function(e){window.noLogin||a.default.getHistoryIsDownload()?e&&e():$.ajax("/image/myAllHistory",{},function(t){a.default.initHistoryImages(t.data),e&&e()})},getImageLib:function(e){window.noLogin||a.default.getIsDownload()?e&&e():$.ajax("/image/myAll",{},function(t){r.default.init(t.data,!0),e&&e()})},getPublicImageLib:function(e){a.default.getPublicIsDownload()?e&&e():$.ajax("/image/publicAll",{},function(t){r.default.initPublic(t.data,!0),e&&e()})},getPageLib:function(e){window.noLogin||i.default.getIsDownload()?e&&e():$.ajax("/page/myAll",{isEditer:!0,platform:window.isPc?"web":""},function(t){o.default.init(t.data,!0,t.otherNum),e&&e()})},getPublicPageLib:function(e){!window.noLogin||window.isDevelop||i.default.getPublicIsDownload()?window.noLogin||i.default.getPublicIsDownload()?e&&e():$.ajax("/page/myList",{type:"quote",isEditer:!0,platform:window.isPc?"web":""},function(t){o.default.initPublic(t.data,!0),e&&e()}):$.ajax("/page/noLoginList",{},function(t){o.default.initPublic(t.data,!0,t.otherNum),e&&e()})}};e.exports=l},function(e,t,n){"use strict";function i(e){"null"==e&&(e=[]);var t=[e[0]||1,e[1]||0,e[2]||0,e[3]||1,e[4]||0,e[5]||0];return t.getAngle=function(){return Math.atan2(this[1],this[0])},t.concat=function(e){return i([this[0]*e[0]+this[2]*e[1],this[1]*e[0]+this[3]*e[1],this[0]*e[2]+this[2]*e[3],this[1]*e[2]+this[3]*e[3],this[0]*e[4]+this[2]*e[5]+this[4],this[1]*e[4]+this[3]*e[5]+this[5]])},t.rotate=function(e,t){return this.concat(i.rotate(e,t))},t.setRotation=function(e,t){return this.rotate(e-this.getAngle(),t)},t.scale=function(e,t,n){return this.concat(i.scale(e,t,n))},t.translate=function(e,t){return this.concat(i.translate(e,t))},t.toCSSTransform=function(){return"matrix("+this.join(", ")+")"},t}i.rotate=function(e,t){var n=i([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]);return t&&(n=i.translate(t[0],t[1]).concat(n).concat(i.translate(-t[0],-t[1]))),n},i.scale=function(e,t,n){var a=i([e,0,0,t=t||e,0,0]);return n&&(a=i.translate(n[0],n[1]).concat(a).concat(i.translate(-n[0],-n[1]))),a},i.translate=function(e,t){return i([1,0,0,1,e,t])},e.exports=i},function(module,exports,__webpack_require__){"use strict";var _keys=__webpack_require__(34),_keys2=_interopRequireDefault(_keys),_stringify=__webpack_require__(261),_stringify2=_interopRequireDefault(_stringify);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}module.exports=$.extend($,{viewSize:{width:320,height:568},getContrId:function(e){return e.type+"_"+e.id},getElById:function(e){return window.document.getElementById(e)},stringToObj:function(e){return e?JSON.parse(e):e},objToString:function(e){return e?(0,_stringify2.default)(e):e},getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=encodeURI(window.location.search).substr(1).match(t);return null!==n?unescape(n[2]):null},replaceParamGetUrl:function replaceParamGetUrl(_paramName,_replaceWith,url){var func=function func(_name,_replace){-1!==url.indexOf(_name+"=")?url=url.replace(eval("/("+_name+"=)([^&]*)/gi"),_name+"="+_replace):-1===url.indexOf("?")?url+="?"+_name+"="+_replace:url+="&"+_name+"="+_replace};return $.isArray(_paramName)?_paramName.forEach(function(e){func(e[0],e[1])}):func(_paramName,_replaceWith),url},replaceParamVal:function(e,t){var n=window.location.href.toString();(n=$.replaceParamGetUrl(e,t,n))!=window.location.href.toString()&&$.urlReplaceState(n)},removeParamGetUrl:function(e,t){if(-1!==t.indexOf("?")){var n="",i=t.substr(t.indexOf("?")+1),a="",r="";if(-1!==i.indexOf("&")){for(var o in a=i.split("&"))$.isString(a[o])&&a[o].split("=")[0]!=e&&(r=r+a[o].split("=")[0]+"="+a[o].split("=")[1]+"&");n=t.substr(0,t.indexOf("?"))+"?"+r.substr(0,r.length-1)}else n=(a=i.split("="))[0]==e?t.substr(0,t.indexOf("?")):t;return n}return t},removeParamVal:function(e){var t=function(e){var t=window.location.href.toString(),n=$.removeParamGetUrl(e,t);n!=window.location.href.toString()&&$.urlReplaceState(n)};e&&($.isArray(e)?e.forEach(function(e){t(e)}):$.isString(e)&&t(e))},urlReplaceState:function(e){window.history.replaceState(null,null,e)},changeUrlRetainParam:function(e,t){var n=e+window.location.search;if(t)return n;n!=window.location.href.toString()&&window.history.replaceState(null,null,n)},offset:function(e,t){var n=e.getBoundingClientRect();if(n.width||n.height){var i=e.ownerDocument,a=$.isWindow(i)?i:9===i.nodeType&&i.defaultView,r=i.documentElement,o={left:n.left+a.pageXOffset-r.clientLeft,top:n.top+a.pageYOffset-r.clientTop};return t?$.extend(o,{width:n.width,height:n.height}):o}},getWinSize:function(){return{width:window.document.body.parentNode.clientWidth,height:window.document.body.parentNode.clientHeight}},isMac:function(){return"Mac68K"===navigator.platform||"MacPPC"===navigator.platform||"Macintosh"===navigator.platform||"MacIntel"===navigator.platform},cancelBubble:function(){var e=window.event||arguments.callee.caller.arguments[0];window.attachEvent?e.cancelBubble=!0:e.stopPropagation()},rangeGoEnd:function(e){if(window.getSelection){var t=e.target.value.length;e.target.setSelectionRange(t,t)}else if(document.selection){var n=e.target.createTextRange();n.collapse(!1),n.select()}},getCssPosi:function(e){return[e.offsetLeft,e.offsetTop,e.clientWidth,e.clientHeight]},getOffsetPosi:function(e){for(var t=[e.offsetLeft,e.offsetTop];e=e.offsetParent;)t[0]+=e.offsetLeft,t[1]+=e.offsetTop;return t},getParentAttr:function(e,t){return e.parentNode.getAttribute(t)},collide:function(e,t){return Math.abs(e[0]+e[2]/2-(t[0]+t[2]/2))<Math.abs((e[2]+t[2])/2)&&Math.abs(e[1]+e[3]/2-(t[1]+t[3]/2))<Math.abs((e[3]+t[3])/2)},hasClass:function(e,t){return!!e&&!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){e&&($.hasClass(e,t)||(e.className+=" "+t))},removeClass:function(e,t){if($.hasClass(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ").trim()}},toggleClass:function(e,t){$.hasClass(e,t)?$.removeClass(e,t):$.addClass(e,t)},checkArrayEqual:function(e,t){var n=void 0;if(e.length===t.length&&0===e.length)n=!0;else if(e.length==t.length)for(var i=0;i<t.length;i++){n=!1;for(var a=0;a<e.length;a++)if(t[i]===e[a]){n=!0;break}}else n=!1;return n},setRegion:function(e,t,n){return Math.max(t,Math.min(e,n))},arrayUnique:function(e){if(e.length>0){e.sort();for(var t=[e[0]],n=1;n<e.length;n++)e[n]!==t[t.length-1]&&t.push(e[n]);return t}return e},isUndefined:function(e){return void 0===e},isArray:function(e){return"[object Array]"===toString.apply(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},blurInput:function(e){var t=window.document.activeElement;t&&t.blur()},getWindowWH:function(){return{width:window.document.body.parentNode.clientWidth,height:window.document.body.parentNode.clientHeight}},query:function(e){return window.document.querySelector(e)},tipHide:function(){var e=window.document.querySelector("body>.C_tip");e&&(e.style.display="none")},rotateToAngle:function(e,t){return 2*Math.PI*(t?e%90<0?e%90+90:e%90:e)/360},stringCut:function(e,t){var n,i=0,a="";n=e.length;for(var r=0;r<n;r++){var o=e.charAt(r);if(i++,escape(o).length>4&&i++,a=a.concat(o),i>=t)return a}if(i<t)return e},objLength:function(e){return(0,_keys2.default)(e).length},searchIn:function(e,t,n){if(""===e)return"none";var i=t,a=!1;return(n?[e]:e.split(/\s+/)).forEach(function(e){e&&new RegExp(e,"i").exec(t)&&(a=!0,i=i.replace(new RegExp(e,"ig"),function(e){return"<span class='redspan'>"+e+"</span>"}))}),!!a&&i},getContentListPadding:function(){return($.getWindowWH().width-1200)/2+"px"},commonKeyDown:function(e){window.isMac?e.metaKey:e.ctrlKey;var t=__webpack_require__(41);if(8==e.keyCode){if("TEXTAREA"!=e.target.nodeName&&"INPUT"!=e.target.nodeName)return e.preventDefault(),!1}else if(13==e.keyCode){if(e.target&&"INPUT"==e.target.nodeName)return e.target.blur(),e.preventDefault(),!1;if(t.getShow())return $.query(".popup .submit-btn").click(),e.preventDefault(),!1}else if(27==e.keyCode){if(e.target&&"INPUT"==e.target.nodeName)return e.target.blur(),e.preventDefault(),!1;if(t.getShow())return $.query(".popup-close-btn").click(),e.preventDefault(),!1;if($.query(".phone-view-mask .close-btn"))return $.query(".phone-view-mask .close-btn").click(),e.preventDefault(),!1;if($.query(".phone-view-mask .close-btn"))return $.query(".phone-view-mask .close-btn").click(),e.preventDefault(),!1;if($.query(".lib-item-list-box .close-btn"))return $.query(".lib-item-list-box .close-btn").click(),e.preventDefault(),!1}},hoverContrInit:function(){$(document).on("mouseenter",".a_c[data-contr=hovertip]",function(e){var t=$(this),n=$.stringToObj(t.attr("data-option"));t.showTip(n)}).on("mouseleave",".a_c[data-contr=hovertip]",function(e){$("body>.C_tip").hide()})},escape:function(e){var t=document.createElement("div");return t.appendChild(document.createTextNode(e)),t.innerHTML.replaceAll('"',"&quot;")},unescape:function(e){var t=document.createElement("div");return t.innerHTML=e,t.innerText||t.textContent},humpToHythen:function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()},isRender:function(e){return!!window.renderTest&&(window.renderTest.all||window.renderTest[e])},notLoadPassword:function(e){e.target.type="password"},transitionReverse:function(e){return{fadeInOut:"fadeInOut",leftMenu:"leftMenuBack",rightMenu:"rightMenuBack",leftNav:"leftNavBack",rightNav:"rightNavBack",moveFromLeft:"moveFromRight",moveFromRight:"moveFromLeft",moveFromBottom:"moveFromTop",moveFromTop:"moveFromBottom",fadeFromLeft:"fadeFromRight",fadeFromRight:"fadeFromLeft",fadeFromBottom:"fadeFromTop",fadeFromTop:"fadeFromBottom",fadeRightFadeLeft:"fadeLeftFadeRight",fadeLeftFadeRight:"fadeRightFadeLeft",fadeTopFadeBottom:"fadeBottomFadeTop",fadeBottomFadeTop:"fadeTopFadeBottom",easingFromLeft:"easingFromRight",easingFromRight:"easingFromLeft",easingFromBottom:"easingFromTop",easingFromTop:"easingFromBottom",scaleDownFromLeft:"scaleDownFromRight",scaleDownFromRight:"scaleDownFromLeft",scaleDownFromBottom:"scaleDownFromTop",scaleDownFromTop:"scaleDownFromBottom",glueFromLeft:"glueFromRight",glueFromRight:"glueFromLeft",glueFromBottom:"glueFromTop",glueFromTop:"glueFromBottom"}[e]},changePageContrs:function(e){var t,n={};return e.contrs.forEach(function(e){var t=$.getContrId(e);$.saveOriContrs(t,e),n[t]=$.extend(!0,{},e)}),$.contrForEachChange(n,{},window.contrs),t=e.contrs.map(function(e){return n[$.getContrId(e)]}),$.extend(!0,$.extend(!0,{},e),{contrs:t})},contrForEachChange:function(e,t,n){for(var i in e){var a=e[i],r=$.getContrId(a);if($.saveOriContrs(r,n[i]),t[r]&&$.overrideContr(a,t[r]),a.state&&a.states&&-1!=a.state.endState){for(var o in a.states[a.state.endState].contrs)o!=r&&(t[o]?$.overrideContr(t[o],a.states[a.state.endState].contrs[o]):t[o]=a.states[a.state.endState].contrs[o]);$.overrideContr(a,a.states[a.state.endState].contrs[$.getContrId(a)])}a.contrs&&$.objLength(a.contrs)>0&&$.contrForEachChange(a.contrs,t,n[i].contrs)}},saveOriContrs:function(e,t){window.contrs[e]||(window.contrs[e]=t)},overrideContr:function(e,t){if(t.events)for(var n in e.events||(e.events={}),t.events)e.events[n]&&(e.events[n].actions=t.events[n].actions);$.extend(!0,e,t)},getEasingFuncName:function(e){var t=e.split("-");return t[1]+"."+t[0]},isNull:function(e){return!e&&void 0!==e&&0!=e},isEmptyObj:function(e){return $.isObject(e)&&0===$.objLength(e)},isObject:function(e){return"object"==$.type(e)},filterState:function(e){if(!e)return{};var t=["events"],n={};for(var i in e)-1==t.indexOf(i)&&(n[i]=e[i]);return n},isPropEqual:function(e,t,n){return n?$.isStateEqual(e,t):$.isObject(e)&&$.isObject(t)?$.isObjectEqual(e,t):e==t},isStateEqual:function(e,t){return $.getContrEndState({state:e})==$.getContrEndState({state:t})},getThreeDecimal:function(e){return Math.round(1e3*e)/1e3},convertNum:function(e,t){return"px"==t?$.getThreeDecimal(e*window.fontSize/50)+"px":"num"==t?$.getThreeDecimal(e*window.fontSize/50):"web"==window.platform?Math.round(e)+"px":$.getThreeDecimal(.02*e)+"rem"},isObjectEqual:function(e,t){var n=!0;if($.objLength(e)&&$.objLength(t)){for(var i in e)if(e[i]!=t[i]){n=!1;break}}else n=!1;return n},getDefaultCutVals:function(e){return{boxHeight:e.height,boxLeft:0,boxTop:0,boxWidth:e.width,height:e.height,left:0,oriHeight:e.height,oriLeft:e.left,oriTop:e.top,oriWidth:e.width,top:0,width:e.width}},getContrEndState:function(e){return e&&e.state&&!$.isUndefined(e.state.endState)?e.state.endState:-1},angleToRadian:function(e){return e*Math.PI/180},getRotatePosiDiff:function(e){var t=__webpack_require__(279),n=t.rotate($.angleToRadian(e.rotate),[0,0]),i=t.rotate($.angleToRadian(e.rotate),[e.width/2,e.height/2]);return"left"==e.type?i[4]-n[4]:"top"==e.type?i[5]-n[5]:void 0},fixPageScroll:function(e){window.fixedData[e]&&$("#page"+e).addClass("no-scrolling-touch"),window.innerScrollData[e]&&($("#page"+e).attr("innerScroll","true"),window.DragscrollFunc&&window.fromIframe&&window.DragscrollFunc())},getFilter:function(e){return"blur("+(e=$.extend({blur:0,saturate:10,hue:180,brightness:10,contrast:10},e||{})).blur+"px) saturate("+(.1*e.saturate).toFixed(1)+") hue-rotate("+(e.hue-180)+"deg) brightness("+(.1*e.brightness).toFixed(1)+") contrast("+(.1*e.contrast).toFixed(1)+")"},getDistance:function(e){return parseInt(e/320*100)},loadStyleString:function(e,t){var n=document.createElement("style");n.id=t||"baseCss",n.type="text/css";try{n.appendChild(document.createTextNode(e))}catch(t){n.styleSheet.cssText=e}document.getElementsByTagName("head")[0].appendChild(n)},setTransitionClass:function(e,t){var n="",i="mobile-"+$.humpToHythen(e)+"-"+t,a=void 0,r=void 0;switch(e){case"leftMenu":r="leftMenu";break;case"leftMenuBack":a="leftMenuBack";break;case"rightMenu":r="rightMenu";break;case"rightMenuBack":a="rightMenuBack";break;case"leftNav":a="leftNavToRight",r="leftNav";break;case"leftNavBack":a="leftNavBack",r="leftNavToLeft";break;case"rightNav":a="rightNavToLeft",r="rightNav";break;case"rightNavBack":a="rightNavBack",r="rightNavToRight"}a&&(n+="."+i+" .prev{-webkit-animation: "+(a=a+"-"+t)+" .6s ease both;animation: "+a+" .6s ease both;}"),r&&(n+="\n."+i+" .current{-webkit-animation: "+(r=r+"-"+t)+" .6s ease both;animation: "+r+" .6s ease both;}"),$.loadStyleString(n)},setKeyframes:function(e,t){var n=$.getDistance(t),i=void 0,a=-1!=e.indexOf("left")?"-":"";switch(e){case"leftMenu":case"rightMenu":i=["leftMenu","leftMenuBack"],"rightMenu"==e&&(i=["rightMenu","rightMenuBack"]),CSSAnimations.get(i[0]+"-"+n)||i.forEach(function(e,t){var r=e+"-"+n;switch(e){case i[0]:CSSAnimations.create(r,{"0%":{transform:"translateX("+a+"100%)"},"100%":{transform:"translateX("+a+(100-n)+"%)"}});break;case i[1]:CSSAnimations.create(r,{"0%":{"z-index":"3",transform:"translateX("+a+(100-n)+"%)"},"100%":{"z-index":"3",transform:"translateX("+a+"100%)"}})}});break;case"leftNav":case"rightNav":i=["leftNavToRight","leftNav","leftNavBack","leftNavToLeft"],"rightNav"==e&&(i=["rightNavToLeft","rightNav","rightNavBack","rightNavToRight"]),CSSAnimations.get(i[0]+"-"+n)||i.forEach(function(e,t){var r=e+"-"+n;switch(e){case i[0]:var o="-"==a?"":"-";CSSAnimations.create(r,{"100%":{transform:"translateX("+o+n+"%)"}});break;case i[1]:CSSAnimations.create(r,{"0%":{transform:"translateX("+a+"100%)"},"100%":{transform:"translateX("+a+(100-n)+"%)"}});break;case i[2]:CSSAnimations.create(r,{"0%":{"z-index":"3",transform:"translateX("+a+(100-n)+"%)"},"100%":{"z-index":"3",transform:"translateX("+a+"100%)"}});break;case i[3]:var s="-"==a?"":"-";CSSAnimations.create(r,{"0%":{transform:"translateX("+s+n+"%)"},"100%":{transform:"translateX(0%)"}})}})}$.setTransitionClass(e,n)},getTimelineParentKey:function(e,t,n,i){i[n]},getTimelineKey:function(e){console.log("","")},loopCache:function(e){for(var t in e.parent)console.log(e.ancestorState(t)),e.getParent&&$.isUndefined(e.ancestorState(t))&&console.log(t)},handleEventsData:function(e,t,n){if(!e.events||0===$.objLength(e.events))return n&&(console.log("handleEventsData 赋值"),e.events=$.extend(!0,{},t)),!1;var i=[];for(var a in t)e.events[a]&&(e.events[a].actions=t[a].actions,i.push(a),n&&t[a].disable&&(delete e.events[a],delete t[a]));$.extend(!0,e.events,t),e.events&&0===$.objLength(e.events)&&delete e.events},getPlatform:function(e){return e||"mobile"}})},,function(e,t,n){"use strict";var i=c(n(3)),a=c(n(7)),r=c(n(6)),o=c(n(5)),s=c(n(4)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){(0,a.default)(this,t);var e=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={isDraging:!1},e._scrollBarMouseDown=e._scrollBarMouseDown.bind(e),e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"_scrollBarMouseDown",value:function(e){var t=this,n=$.hasClass(e.target,"scrollBar")?e.target.parentNode:e.target;if(t.setState({isDraging:!0}),t.props.isVertical){var i=t.props.boxWidth||350;t.props.changeScrollLeft(t.props.maxLength*$.setRegion($.getOffsetPosi(n)[0]-e.clientX+i/2*i/t.props.maxLength,i*i/t.props.maxLength-i,0)/i),$.setDrag({name:"iconScrollBar",posi:[e.clientX,e.clientY],target:n,moveFunc:function(e){var a=$.getOffsetPosi(n)[0]-e.clientX+i/2*i/t.props.maxLength,r=i*i/t.props.maxLength-i;t.props.changeScrollLeft(t.props.maxLength*$.setRegion(a,r,0)/i)},endFunc:function(){t.setState({isDraging:!1})}})}else{var a=t.props.boxHeight||350;t.props.changeScrollTop(t.props.maxLength*$.setRegion($.getOffsetPosi(n)[1]-e.clientY+a/2*a/t.props.maxLength,a*a/t.props.maxLength-a,0)/a),$.setDrag({name:"iconScrollBar",posi:[e.clientX,e.clientY],target:n,moveFunc:function(e){var i=$.getOffsetPosi(n)[1]-e.clientY+a/2*a/t.props.maxLength,r=a*a/t.props.maxLength-a;t.props.changeScrollTop(t.props.maxLength*$.setRegion(i,r,0)/a)},endFunc:function(){t.setState({isDraging:!1})}})}e.stopPropagation()}},{key:"render",value:function(){if(this.props.isVertical){var e=this.props.boxWidth||350,t={width:e*e/this.props.maxLength,left:-this.props.scrollLeft*e/this.props.maxLength};return this.props.maxLength>e?l.default.createElement("div",{className:"contentBox vertical-scroll"+(this.state.isDraging?" scroll-drag":""),onMouseDown:this._scrollBarMouseDown,onClick:$.stopPropagation},l.default.createElement("div",{className:"scrollBar",style:t,onMouseDown:this._scrollBarMouseDown})):null}var n=this.props.boxHeight||350,i={height:n*n/this.props.maxLength,top:-this.props.scrollTop*n/this.props.maxLength};return this.props.maxLength>n?l.default.createElement("div",{className:"contentBox"+(this.state.isDraging?" scroll-drag":""),onMouseDown:this._scrollBarMouseDown,onClick:$.stopPropagation},l.default.createElement("div",{className:"scrollBar",style:i,onMouseDown:this._scrollBarMouseDown})):null}}]),t}(l.default.Component);e.exports=d},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({PHONEVIEW_CHANGELABEL:null,PHONEVIEW_ZOOM:null,PHONEVIEW_ZOOMFIT:null})},function(e,t,n){"use strict";var i,a=n(11),r=(i=a)&&i.__esModule?i:{default:i};e.exports=(0,r.default)({LEFTLABEL_CHANGE:null,LEFTLABEL_FOLD:null})},,,function(e,t,n){"use strict";var i={content:"文本",fontSize:14,lineHeight:5,indent:0,adjaceney:0,shadow:0,textShadow:0,textColor:"rgba(80, 80, 80, 1)",isB:!1,isI:!1,isU:!1,horizontal:"hC",vertical:"vM",filter:{},isLock:!1,isShow:!0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!1,mergeName:null,left:0,top:0},a={multiple:1,filter:{},isLock:!1,isShow:!0,shadow:0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,WHrelation:!0,cutVals:null,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!1,mergeName:null,left:0,top:0},r={filter:{},outerHidden:!1,scrollX:!1,scrollY:!1,isLock:!1,isShow:!0,shadow:0,border:["rgba(0, 0, 0, 1)",0],insetBorder:["rgba(204, 204, 204, 1)",0],radius:0,rotate:0,hasBackColor:!1,backColor:"rgba(204, 204, 204, 1)",opacity:100,isOpt:!1,isOpen:!1,mergeName:null,left:0,top:0},o={filter:{},isLock:!1,isShow:!0,WHrelation:!0,rotate:0,iconColor:"rgba(153, 153, 153, 1)",opacity:100,isOpt:!1,mergeName:null,left:0,top:0},s={isLock:!1,isShow:!0,WHrelation:!1,rotate:0,isOpt:!1,mergeName:null,left:0,top:0},l={isLock:!1,isShow:!0,rotate:0,isOpt:!1,mergeName:null,left:0,top:0},c=["isDepend","dependType"],d=["name","content"],u=["contrs","width","height","hierarchy"],f=["name","width","height","top","left","id","type","oriWidth","oriHeight","oriName","multiple","src","cutVals","contrs","content","hasBackColor","backColor","isBaseShape","baseContrType","hierarchy","fontSize","textColor","isB","serverKey","radius","lineHeight","horizontal","rotate","opacity","outerHidden","shadow","WHrelation","iconKey","iconColor","isMaxRadius","events","border","indent","adjaceney","textShadow","isI","isU","vertical","filter","isLock","isShow","insetBorder","isOpt","isOpenState","states","state","stateNum","isStateContrast","transition","dependType","isDepend","scrollX","scrollY","stateBindMove","userKey"],h=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49"],p={removeInitVal:function(e,t,n,c){if($.isArray(e))e.forEach(function(e){p.removeInitVal(e,void 0,n,c)});else{var d=void 0,f=void 0;if("text"==e.type?d=i:"image"==e.type?d=a:"wrapbox"==e.type?d=r:"icon"==e.type?d=o:"hotspot"==e.type?d=s:"symbol"==e.type&&(d=l),"wrapbox"==e.type)for(var h in e.contrs)p.removeInitVal(e.contrs[h],!0,n,c);if(!window.isAppView&&(n?window.phoneSize.height!=window.phoneBaseSize.height:window.phoneSize.width!=window.phoneBaseSize.width)&&$&&$.otherSizeChangeContr&&(f=n?window.phoneBaseSize.height/window.phoneSize.height:window.phoneBaseSize.width/window.phoneSize.width,$.otherSizeChangeContr(e,f,!0)),d){for(var g in d==l&&(c&&-1==c.indexOf(e.symbolKey)&&c.push(e.symbolKey),u.forEach(function(t){$.isUndefined(e[t])||delete e[t]})),$.isUndefined(e.src)||0!=e.src.indexOf("data:image")&&0!=e.src.indexOf("blob:")||(e.src="/userImages/defaultImage.png",$&&$.updateImage&&$.updateImage(e)),d){var m=d[g],v=e[g];if(!$.isUndefined(v))if($.isArray(m)&&m[0]==v[0]&&m[1]==v[1])delete e[g];else if("isOpen"==g||"isOpt"==g)delete e[g];else if("filter"==g&&0==$.objLength(v))delete e[g];else if("cutVals"==g&&null==v)delete e[g];else if("cutVals"==g){var y=$.getDefaultCutVals(e);for(var w in y)"oriHeight"==w||"oriLeft"==w||"oriTop"==w||"oriWidth"==w?delete e[g][w]:Math.abs(+e[g][w]-+y[w])<.5&&delete e[g][w];0==$.objLength(e[g])&&delete e[g]}else m==v&&delete e[g]}t&&($.isUndefined(e.isDepend)||delete e.isDepend,$.isUndefined(e.dependType)||delete e.dependType,$.isUndefined(e.id)||delete e.id,$.isUndefined(e.type)||delete e.type,$.isUndefined(e.mergeName)||delete e.mergeName),$.isUndefined(e.interfaceId)&&($.isUndefined(e.isDepend)||delete e.isDepend,$.isUndefined(e.dependType)||delete e.dependType),$.isUndefined(e.transition)||p.removeTransition(e.transition),$.isUndefined(e.states)||p.statesChangeNameToKey(e.states),$.isUndefined(e.thisSelf)||delete e.thisSelf,$.isUndefined(e.hoverState)||delete e.hoverState,$.isUndefined(e.isStructOpen)||delete e.isStructOpen,$.isUndefined(e.interfaceId)||delete e.interfaceId,$.isUndefined(e.lastContent)||delete e.lastContent,$.isUndefined(e.isEdit)||delete e.isEdit,$.isUndefined(e.copyKey)||delete e.copyKey,p.changeNameToKey(e)}}},addInitVal:function(e,t,n,c,d){if($.isArray(e)){var u=[];e.forEach(function(e,n){e[6]||e.type?p.addInitVal(e,t,void 0,void 0,d):(u.push(n),log("数据异常",e))}),u.length>0&&u.reverse().forEach(function(t){e.splice(t,1)})}else{var f=void 0;if(p.changeKeyToName(e),$.isUndefined(e.states)||p.statesChangeKeyToName(e.states),!$.isUndefined(e.stateNum)&&$.isUndefined(e.hoverState)&&(e.hoverState={}),n){var h=n.split("_");e.type=h[0],e.id=h[1]}c&&(e.mergeName=c),$.isUndefined(t)||(e.interfaceId=t);var g=void 0;if("text"==e.type?g=i:"image"==e.type?g=a:"wrapbox"==e.type?g=r:"icon"==e.type?g=o:"hotspot"==e.type?g=s:"symbol"==e.type&&(g=l),"wrapbox"==e.type)for(var m in e.contrs)p.addInitVal(e.contrs[m],t,m,e.type+"_"+e.id,d);if(g)for(var v in g){var y=g[v],w=e[v];$.isUndefined(w)?$.isArray(y)?e[v]=y.concat():e[v]="filter"==v?{}:"cutVals"==v?null:y:"isOpen"==v?e[v]=!1:"cutVals"==v&&(e[v]=$.extend($.getDefaultCutVals(e),e[v]))}!window.isAppView&&(d?window.phoneSize.height!=window.phoneBaseSize.height:window.phoneSize.width!=window.phoneBaseSize.width)&&$&&$.otherSizeChangeContr&&(f=d?window.phoneSize.height/window.phoneBaseSize.height:window.phoneSize.width/window.phoneBaseSize.width,$.otherSizeChangeContr(e,f,!0))}},statesChangeNameToKey:function(e){for(var t in e){var n=e[t].contrs,i=e[t].transition;for(var a in $.isUndefined(i)||p.removeTransition(i),n)p.changeNameToKey(n[a],!0)}},changeNameToKey:function(e,t){for(var n in e)if(t&&-1!=c.indexOf(n)&&!$.isUndefined(e[n]))delete e[n];else{-1==d.indexOf(n)&&(e[n]=$.floatNum(e[n],2));var i=f.indexOf(n);-1==i||$.isUndefined(e[n])||(e[h[i]]=e[n],delete e[n])}},statesChangeKeyToName:function(e){for(var t in e){var n=e[t].contrs;for(var i in n)p.changeKeyToName(n[i],!0)}},changeKeyToName:function(e,t){for(var n in e){var i=h.indexOf(n);-1==i||$.isUndefined(e[n])||(t&&-1!=c.indexOf(f[i])||(e[f[i]]=e[n],-1!=d.indexOf(f[i])&&(e[f[i]]=""+e[f[i]])),delete e[n])}},removeTransition:function(e){for(var t in e){var n=e[t].contrs;for(var i in n){var a=n[i].units[0];!$.isUndefined(a.keyframes)&&2!=$.objLength(a.keyframes)||!$.isUndefined(a.props)&&0!=$.objLength(a.props)?($.isUndefined(a.index)||delete a.index,$.isUndefined(a.props)||0!=$.objLength(a.props)||delete a.props,$.isUndefined(a.keyframes)||2!=$.objLength(a.keyframes)||delete a.keyframes,$.isUndefined(a.active)||delete a.active):$.isUndefined(n[i])||delete n[i]}}}};e.exports=p},function(e,t,n){"use strict";var i,a=n(287),r=(i=a)&&i.__esModule?i:{default:i};function o(){var e=window.navigator.userAgent;if(e.indexOf("Android")>-1||e.indexOf("Linux")>-1)return!0}function s(){if("micromessenger"==window.navigator.userAgent.toLowerCase().match(/MicroMessenger/i))return!0}var l={getContrsObj:function(){if(window.pages){var e=[];if(window.symbolContrs)for(var t in window.symbolContrs.contrs)r.default.addInitVal(window.symbolContrs.contrs[t]);else window.symbolContrs={symbols:{},contrs:{}};window.pages.forEach(function(t){e.push({key:t.key,name:t.name,active:t.active,note:t.note,type:"page",backColor:t.backColor,isLandscape:t.isLandscape}),t.hierarchy=[],t.contrsObj={},t.stateCache={},r.default.addInitVal(t.contrs),t.contrs.forEach(function(e){var n=$.getContrId(e);t.hierarchy.push(n),t.contrsObj[n]=e})}),(window.fromIframe||"web"==window.platform)&&((window.isLocal||"web"==window.platform?window:window.parent).getIframePageArr(e,window.structHierarchy),window.addNoteHoverClass=function(e,t){var n=$.getElById("page"+e+"Note"+t),i=$.getElById("page"+e);if(n&&i){var a=n.offsetTop,r=n.offsetHeight,o=i.scrollTop;(a+r>568||a<o)&&(i.scrollTop=a),$.addClass(n,"hover")}},window.removeNoteHoverClass=function(e,t){$.removeClass($.getElById("page"+e+"Note"+t),"hover")},window.addHideNoteClass=function(){$.addClass($.getElById("appContainer"),"hide-note")},window.removeHideNoteClass=function(){$.removeClass($.getElById("appContainer"),"hide-note")},window.addHideEventTagClass=function(){$.addClass($.getElById("appContainer"),"hide-event-tag")},window.removeHideEventTagClass=function(){$.removeClass($.getElById("appContainer"),"hide-event-tag")})}},initResize:function(e){if("web"==window.platform)return!1;o()&&s()||(window.onresize=n);var t=window.document.getElementsByTagName("body")[0];function n(e,i){var a=void 0,r=window.document.documentElement.clientWidth,l=window.document.documentElement.clientHeight;window.fromIframe||!$.query||window.isLocal||(($.hasClass($.query(".current.page"),"isLandscape")||$.hasClass(t,"notIsLandscapeBody"))&&r<l?($.hasClass($.query(".current.page"),"isLandscape")&&(a=!0),t.style.width=l+"px",t.style.height=r+"px",$.addClass(t,"isLandscapeBody"),$.removeClass(t,"notIsLandscapeBody")):(t.style.width="100%",t.style.height="100%",$.addClass(t,"notIsLandscapeBody"),$.removeClass(t,"isLandscapeBody"))),window.isLocal&&(r=window.phoneViewSize.width,l=window.phoneViewSize.height);var c=Math.min(r,l),d=1;o()&&s()&&(d=16/parseInt(window.getComputedStyle(window.document.documentElement).fontSize)),a?window.fontSize=50*l/568:l<r&&a?window.fontSize=50*r/568:(window.fontSize=.15625*c*d,t.style.width="100%",t.style.height="100%",$.addClass(t,"notIsLandscapeBody"),$.removeClass(t,"isLandscapeBody")),window.document.getElementsByTagName("html")[0].style.fontSize=window.fontSize+"px",i||(c>window.screen.width&&e<=10?setTimeout(function(){n(++e)},100):window.document.getElementsByTagName("body")[0].style.opacity=1)}e?n(0,!0):setTimeout(function(){n(0)},100)},escKey:function(){$(window.document).bind("keydown",function(e){if(27===e.which){var t=window.parent.document.getElementById("closeBtn");t&&t.click()}})}};!function(){for(var e in l)l[e]()}(),window.initResize=l.initResize,e.exports="init"},function(e,t,n){"use strict";var i=s(n(9)),a=s(n(81)),r=s(n(273)),o=s(n(2));function s(e){return e&&e.__esModule?e:{default:e}}var l=n(10).EventEmitter,c={show:!1,target:null,text:"",value:"",texts:[],values:[],type:"",styles:{width:0,top:0,left:0,maxHeight:0},includeSelected:!1,itemH:30,maxH:240,listH:0,callback:$.noop,mouseEnter:$.noop,mouseLeave:$.noop};var d=(0,i.default)({},l.prototype,{getBox:function(){return c},isShow:function(){return c.show},emitChange:function(){this.emit("change")},addChangeListener:function(e){this.on("change",e)},removeChangeListener:function(e){this.removeListener("change",e)}});o.default.register(function(e){switch(e.actionType){case a.default.DROPDOWNBOX_SHOW:!function(e){c.target&&$.removeClass(c.target,"on"),c.show=!0,$.extend(c,e),c.target="DIV"==c.target.nodeName?c.target:c.target.parentNode;var t=$.offset(c.target),n=""===c.text?c.texts.length:c.texts.length-1;e.itemH&&(c.maxH=8*e.itemH),c.listH=n*c.itemH;var i=c.listH>c.maxH?c.maxH:c.listH;window.isPc&&!r.default.getFold()&&(t.left-=272),c.styles={width:e.dropdownBoxWidth?e.dropdownBoxWidth+"px":c.target.clientWidth+"px",left:t.left+"px",maxHeight:c.maxH+"px"},$.getWinSize().height-($.offset(c.target).top+40)<i?c.styles.top=t.top-i-3+"px":c.styles.top=t.top+c.itemH+"px",$.addClass(c.target,"on")}(e.options),d.emitChange();break;case a.default.DROPDOWNBOX_HIDE:c.show&&(c.show=!1,c.type="",c.callback=$.noop,c.mouseEnter=$.noop,c.mouseLeave=$.noop,c.target&&$.removeClass(c.target,"on"),d.emitChange());break;case a.default.DROPDOWNBOX_EDIT:t=e.options,$.extend(c,t),d.emitChange()}var t}),e.exports=d},function(e,t,n){"use strict";var i=h(n(14)),a=h(n(3)),r=h(n(7)),o=h(n(6)),s=h(n(5)),l=h(n(4)),c=h(n(1)),d=h(n(282)),u=h(n(289)),f=h(n(50));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.state={renderChange:0,box:u.default.getBox(),scrollTop:0},n._onDropdownBoxChange=n._onDropdownBoxChange.bind(n),n._changeScrollTop=n._changeScrollTop.bind(n),n._boxWheel=n._boxWheel.bind(n),n._choose=n._choose.bind(n),n._mouseEnter=n._mouseEnter.bind(n),n._mouseLeave=n._mouseLeave.bind(n),n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){return t.renderChange!==this.state.renderChange}},{key:"componentDidMount",value:function(){u.default.addChangeListener(this._onDropdownBoxChange)}},{key:"componentWillUnmount",value:function(){u.default.removeChangeListener(this._onDropdownBoxChange)}},{key:"_onDropdownBoxChange",value:function(){this.setState({renderChange:this.state.renderChange+1,box:u.default.getBox(),scrollTop:0})}},{key:"render",value:function(){if(!this.state.box.show)return null;$.isRender("main")&&log("DropdownBoxRender");var e=this,t=e.state.box,n=[],a=void 0,r={};return t.values.forEach(function(i,a){if(t.includeSelected||i!=t.value){var r=i==t.value;n.push(c.default.createElement("li",{key:i,className:r?"active":"",onClick:r?null:e._choose,onMouseEnter:e._mouseEnter,onMouseLeave:e._mouseLeave,"data-text":t.texts[a],"data-value":i},t.texts[a]))}}),t.listH>t.maxH&&(a=c.default.createElement(d.default,{boxHeight:t.maxH,maxLength:t.listH,scrollTop:e.state.scrollTop,changeScrollTop:e._changeScrollTop}),r={onWheel:e._boxWheel}),c.default.createElement("div",(0,i.default)({className:"dropdownBox "+t.type+" "+(t.dropdownClass?t.dropdownClass:""),style:t.styles},r),c.default.createElement("ul",{style:{marginTop:e.state.scrollTop}},n),a)}},{key:"_changeScrollTop",value:function(e){this.state.scrollTop!=e&&this.setState({renderChange:this.state.renderChange+1,scrollTop:e})}},{key:"_boxWheel",value:function(e){var t=this.state.box,n=$.setRegion((this.state.scrollTop?this.state.scrollTop:0)-e.deltaY,t.maxH-t.listH,0);this.state.scrollTop!=n&&this.setState({renderChange:this.state.renderChange+1,scrollTop:n}),0!==n&&n!=t.maxH-t.listH&&e.preventDefault()}},{key:"_choose",value:function(e){this.state.box.callback&&this.state.box.callback(e.target.getAttribute("data-text"),e.target.getAttribute("data-value"),e),f.default.hide(),e.stopPropagation()}},{key:"_mouseEnter",value:function(e){this.state.box.mouseEnter&&this.state.box.mouseEnter(e.target.getAttribute("data-text"),e.target.getAttribute("data-value"),e),e.stopPropagation()}},{key:"_mouseLeave",value:function(e){this.state.box.mouseLeave&&this.state.box.mouseLeave(e.target.getAttribute("data-text"),e.target.getAttribute("data-value"),e),e.stopPropagation()}}]),t}(c.default.Component);e.exports=p},function(e,t,n){var i={"./af":227,"./af.js":227,"./ar":226,"./ar-dz":225,"./ar-dz.js":225,"./ar-kw":224,"./ar-kw.js":224,"./ar-ly":223,"./ar-ly.js":223,"./ar-ma":222,"./ar-ma.js":222,"./ar-sa":221,"./ar-sa.js":221,"./ar-tn":220,"./ar-tn.js":220,"./ar.js":226,"./az":219,"./az.js":219,"./be":218,"./be.js":218,"./bg":217,"./bg.js":217,"./bm":216,"./bm.js":216,"./bn":215,"./bn.js":215,"./bo":214,"./bo.js":214,"./br":213,"./br.js":213,"./bs":212,"./bs.js":212,"./ca":211,"./ca.js":211,"./cs":210,"./cs.js":210,"./cv":209,"./cv.js":209,"./cy":208,"./cy.js":208,"./da":207,"./da.js":207,"./de":206,"./de-at":205,"./de-at.js":205,"./de-ch":204,"./de-ch.js":204,"./de.js":206,"./dv":203,"./dv.js":203,"./el":202,"./el.js":202,"./en-au":201,"./en-au.js":201,"./en-ca":200,"./en-ca.js":200,"./en-gb":199,"./en-gb.js":199,"./en-ie":198,"./en-ie.js":198,"./en-il":197,"./en-il.js":197,"./en-nz":196,"./en-nz.js":196,"./eo":195,"./eo.js":195,"./es":194,"./es-do":193,"./es-do.js":193,"./es-us":192,"./es-us.js":192,"./es.js":194,"./et":191,"./et.js":191,"./eu":190,"./eu.js":190,"./fa":189,"./fa.js":189,"./fi":188,"./fi.js":188,"./fo":187,"./fo.js":187,"./fr":186,"./fr-ca":185,"./fr-ca.js":185,"./fr-ch":184,"./fr-ch.js":184,"./fr.js":186,"./fy":183,"./fy.js":183,"./gd":182,"./gd.js":182,"./gl":181,"./gl.js":181,"./gom-latn":180,"./gom-latn.js":180,"./gu":179,"./gu.js":179,"./he":178,"./he.js":178,"./hi":177,"./hi.js":177,"./hr":176,"./hr.js":176,"./hu":175,"./hu.js":175,"./hy-am":174,"./hy-am.js":174,"./id":173,"./id.js":173,"./is":172,"./is.js":172,"./it":171,"./it.js":171,"./ja":170,"./ja.js":170,"./jv":169,"./jv.js":169,"./ka":168,"./ka.js":168,"./kk":167,"./kk.js":167,"./km":166,"./km.js":166,"./kn":165,"./kn.js":165,"./ko":164,"./ko.js":164,"./ky":163,"./ky.js":163,"./lb":162,"./lb.js":162,"./lo":161,"./lo.js":161,"./lt":160,"./lt.js":160,"./lv":159,"./lv.js":159,"./me":158,"./me.js":158,"./mi":157,"./mi.js":157,"./mk":156,"./mk.js":156,"./ml":155,"./ml.js":155,"./mr":154,"./mr.js":154,"./ms":153,"./ms-my":152,"./ms-my.js":152,"./ms.js":153,"./mt":151,"./mt.js":151,"./my":150,"./my.js":150,"./nb":149,"./nb.js":149,"./ne":148,"./ne.js":148,"./nl":147,"./nl-be":146,"./nl-be.js":146,"./nl.js":147,"./nn":145,"./nn.js":145,"./pa-in":144,"./pa-in.js":144,"./pl":143,"./pl.js":143,"./pt":142,"./pt-br":141,"./pt-br.js":141,"./pt.js":142,"./ro":140,"./ro.js":140,"./ru":139,"./ru.js":139,"./sd":138,"./sd.js":138,"./se":137,"./se.js":137,"./si":136,"./si.js":136,"./sk":135,"./sk.js":135,"./sl":134,"./sl.js":134,"./sq":133,"./sq.js":133,"./sr":132,"./sr-cyrl":131,"./sr-cyrl.js":131,"./sr.js":132,"./ss":130,"./ss.js":130,"./sv":129,"./sv.js":129,"./sw":128,"./sw.js":128,"./ta":127,"./ta.js":127,"./te":126,"./te.js":126,"./tet":125,"./tet.js":125,"./tg":124,"./tg.js":124,"./th":123,"./th.js":123,"./tl-ph":122,"./tl-ph.js":122,"./tlh":121,"./tlh.js":121,"./tr":120,"./tr.js":120,"./tzl":119,"./tzl.js":119,"./tzm":118,"./tzm-latn":117,"./tzm-latn.js":117,"./tzm.js":118,"./ug-cn":116,"./ug-cn.js":116,"./uk":115,"./uk.js":115,"./ur":114,"./ur.js":114,"./uz":113,"./uz-latn":112,"./uz-latn.js":112,"./uz.js":113,"./vi":111,"./vi.js":111,"./x-pseudo":110,"./x-pseudo.js":110,"./yo":109,"./yo.js":109,"./zh-cn":108,"./zh-cn.js":108,"./zh-hk":107,"./zh-hk.js":107,"./zh-tw":106,"./zh-tw.js":106};function a(e){var t=r(e);return n(t)}function r(e){var t=i[e];if(!(t+1)){var n=new Error('Cannot find module "'+e+'".');throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id=291},function(e,t){},,,,,,,,,function(e,t,n){"use strict";var i,a,r=n(36),o=(a=r)&&a.__esModule?a:{default:a};!function(){function a(e,t){for(var n=e.cssRules||e.rules||[],i=0;i<n.length;i++){var r=n[i];r.type==CSSRule.IMPORT_RULE?a(r.styleSheet,t):r.type!==CSSRule.KEYFRAMES_RULE&&r.type!==CSSRule.MOZ_KEYFRAMES_RULE&&r.type!==CSSRule.WEBKIT_KEYFRAMES_RULE||t(r,e,i)}}function r(e){this.original=e,this.keyText=e.keyText,this.css={};for(var t=e.style.cssText.split(";"),n=0;n<t.length;n++){var i=t[n].split(":");if(2==i.length){var a=i[0].replace(/^\s+|\s+$/g,""),r=i[1].replace(/^\s+|\s+$/g,"");this.css[a]=r}}}function s(e){this.original=e,this.name=e.name,this.keyframes=[],this.keytexts=[],this.keyframeHash={},this.initKeyframes()}function l(){this.animations={};for(var e=document.styleSheets,t=this.animations,n=0;n<e.length;n++)try{a(e[n],function(e){t[e.name]=new s(e)})}catch(e){}}s.prototype.initKeyframes=function(){this.keyframes=[],this.keytexts=[],this.keyframeHash={};for(var e=this.original,t=0;t<e.cssRules.length;t++){var n=new r(e.cssRules[t]);this.keyframes.push(n),this.keytexts.push(n.keyText),this.keyframeHash[n.keyText]=n}},s.prototype.getKeyframeTexts=function(){return this.keytexts},s.prototype.getKeyframe=function(e){return this.keyframeHash[e]},s.prototype.setKeyframe=function(e,t){var n=e+" {";for(var i in t)n+=i+":"+t[i]+";";if(n+="}","appendRule"in this.original)this.original.appendRule(n);else{for(var a=0;a<this.keytexts.length;a++)this.keytexts[a]==e&&this.original.deleteRule(this.keyframes[a].keyText);this.original.insertRule(n)}return this.initKeyframes(),this},s.prototype.setKeyframes=function(e){for(var t in e)this.setKeyframe(t,e[t])},s.prototype.clear=function(){for(var e=0;e<this.keyframes.length;e++)this.original.deleteRule(this.keyframes[e].keyText)},l.prototype.get=function(e){return this.animations[e]},l.prototype.getFrames=function(e){for(var t=this.animations[e].keyframes,n={},i=0;i<t.length;i++)if(-1!=t[i].keyText.indexOf(","))for(var a=t[i].keyText.split(","),r=0;r<a.length;r++)n[a[r]]=t[i].css;else n[t[i].keyText]=t[i].css;return n},l.prototype.clone=function(e,t){return this.create(t,this.getFrames(e))},l.prototype.getDynamicSheet=function(){if(!this.dynamicSheet){var e=document.createElement("style");e.rel="stylesheet",e.type="text/css",document.getElementsByTagName("head")[0].appendChild(e),this.dynamicSheet=e.sheet}return this.dynamicSheet},l.prototype.create=function(e,t){var n=this.getDynamicSheet();"object"===(void 0===e?"undefined":(0,o.default)(e))&&(t=e,e=null),e||(e="anim"+Math.floor(1e5*Math.random()));try{var i=n.insertRule("@keyframes "+e+"{}",n.cssRules.length)}catch(t){if("SYNTAX_ERR"!=t.name&&"SyntaxError"!=t.name)throw t;i=n.insertRule("@-webkit-keyframes "+e+"{}",n.cssRules.length)}var a=new s(n.cssRules[i]);return this.animations[e]=a,t&&a.setKeyframes(t),a},l.prototype.remove=function(e){var t=this.getDynamicSheet();e=e instanceof s?e.name:e,this.animations[e]=null;try{a(t,function(t,n,i){t.name==e&&n.deleteRule(i)})}catch(e){}},void 0===(i=function(){return new l}.call(t,n,t,e))||(e.exports=i)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(3)),a=c(n(7)),r=c(n(6)),o=c(n(5)),s=c(n(4)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){(0,a.default)(this,t);var e=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e._noteMouseEnter=e._noteMouseEnter.bind(e),e._noteMouseLeave=e._noteMouseLeave.bind(e),e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"_noteMouseEnter",value:function(){window.fromIframe&&(window.isLocal?window:window.parent).addNoteHoverClass(this.props.pageId,this.props.info.id)}},{key:"_noteMouseLeave",value:function(){window.fromIframe&&(window.isLocal?window:window.parent).removeNoteHoverClass(this.props.pageId,this.props.info.id)}},{key:"render",value:function(){var e=this.props.info;return l.default.createElement("div",{className:"note-box",style:{left:$.convertNum(e.left),top:$.convertNum(e.top)},id:"page"+this.props.pageId+"Note"+e.id,onMouseEnter:this._noteMouseEnter,onMouseLeave:this._noteMouseLeave},e.hasArea?l.default.createElement("div",{className:"note-area",style:{width:$.convertNum(e.width),height:$.convertNum(e.height)}}):void 0,l.default.createElement("div",{className:"note"},e.index))}}]),t}(l.default.Component);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n(3)),a=d(n(7)),r=d(n(6)),o=d(n(5)),s=d(n(4)),l=d(n(1)),c=d(n(302));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return(0,a.default)(this,t),(0,o.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,r.default)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this,t=[];return e.props.noteList.forEach(function(n,i){t.push(l.default.createElement(c.default,{key:i,info:n,pageId:e.props.pageId}))}),l.default.createElement("div",{className:"note-layer"},t)}}]),t}(l.default.Component);t.default=u},function(e,t,n){"use strict";var i=r(n(34)),a=r(n(93));function r(e){return e&&e.__esModule?e:{default:e}}CSSPlugin.defaultForce3D=!0;var o=void 0,s=void 0,l=void 0,c=void 0,d={delay:0,time:.5,count:1},u=void 0,f={getTimeline:function(e,t,n){var i=new window.TimelineMax({paused:!0}),r={},d=n||1,h=!$.isUndefined(n),p={};l={start:e.next,end:e.curr},o=a.default.getAllValsContr({contrKey:t||e.contrId}),s=f.getTransition();var g=f.getTrProps();if(c||(c=$.extend(!0,{},l)),f.setChangedContrs(e),f.getDisabled()){if(!h)return"disabled";g.time=0,g.delay=0}if(s||console.log("warning"),!s||!s[l.end]||!s[l.end].contrs)return"noChange";for(var m in s[l.end].contrs)if(u[m]){var v=a.default.getStartEndContrs(m,e.contrId,c.start),y=v.start,w=v.end,C=s[l.end].contrs[m],_=[],b=[];for(var S in C.units[0].keyframes)b.push(S),_[S]=C.units[0].keyframes[S].frame;b=b.sort(function(e,t){return parseInt(e)-parseInt(t)}),p[m]={keyArr:b,keyframes:_,props:C.units[0].props||{},startContr:y,endContr:w}}var x=function(t){var n=p[t].keyArr,i=p[t].props.time||g.time,a=p[t].props.delay?p[t].props.delay-g.delay:0,o=p[t].props.easing||g.easing,s=p[t].keyframes["0%"];if(r[t]||(r[t]={}),r[t+"_start"]||(r[t+"_start"]={}),n.forEach(function(s,l){if(0!==l)for(var c=p[t].keyframes[s],u=$.extend(!0,$.extend(!0,{},p[t].startContr),c),h=l-1;h>=0;h--){var g=p[t].keyframes[n[h]],m=$.extend(!0,$.extend(!0,{},p[t].startContr),g);for(var v in c){if("state"==v){var y=f.getTimeline({contrId:e.contrId,next:$.isUndefined(u[v].endState)?"-1":u[v].endState,curr:m[v].endState},t,d+1);$.isObject(y)&&$.extend(!0,r,y)}"100%"!=s&&$.isUndefined(p[t].keyframes["100%"][v])&&(p[t].keyframes["100%"][v]=p[t].endContr[v])}r[t][d]={contrId:t,styles:c,curData:u,prevData:m,time:i*(parseInt(s)-parseInt(n[h]))/100,delay:a+parseInt(n[h])/100*i,easing:o,symbolParent:e.symbolParent}}}),!$.isUndefined(s.rotate)||!$.isUndefined(s.filter)){var l={};$.isUndefined(s.rotate)||(l.rotate=s.rotate),$.isUndefined(s.filter)||(l.filter=s.filter),r[t+"_start"][d]={contrId:t,styles:l,curData:$.extend(!0,$.extend(!0,{},p[t].endContr),s),symbolParent:e.symbolParent},r[t+"_start"][d].prevData=r[t+"_start"][d].curData}};for(var E in p)x(E);if(!h){var T=[],I=[],P={};for(var A in r)for(var O in r[A])-1==A.indexOf("_start")?I=I.concat(f.dataToStyle(r[A][O])):T=T.concat(f.dataToStyle(r[A][O]));T.forEach(function(e){"self"==e.type&&(P[e.contrId]=!0),i.set(e.element,$.extend(!0,"self"==e.type?{transformOrigin:"50% 50%",x:0,y:0}:{},e.props),0)}),I.forEach(function(e){var t=e.props;e.start&&i.set(e.element,e.start,e.delay),P[e.contrId]||"self"!=e.type||(i.set(e.element,{x:0,y:0},0),e.rotation&&i.set(e.element,{transformOrigin:"50% 50%"},0)),e.easing&&(t=$.extend(!0,{ease:$.getEasingFuncName(e.easing)},t)),i.to(e.element,e.time,t,e.delay),e.end&&i.set(e.element,e.end)}),c=null}return h?r:i},unrepeatedContrProps:function(e){for(var t in e){var n=e[t];$.objLength(n)>1&&f.unrepeatedProps(n)}},unrepeatedProps:function(e){var t=(0,i.default)(e),n=[];t.sort(function(e,t){return+t-+e}),t.forEach(function(t){for(var i in e[t].styles)-1!=n.indexOf(i)?delete e[t].styles[i]:n.push(i);0===$.objLength(e[t].styles)&&delete e[t]})},setChangedContrs:function(e){var t={};for(var n in u={},t[l.start]={},t[l.end]={},(-1!=l.start&&!o.states[l.start]||-1!=l.end&&!o.states[l.end])&&console.log("warning"),-1!=l.start&&o.states[l.start]&&(t[l.start]=f.unrepeatedContrs(o,o.states[l.start].contrs)),-1!=l.end&&o.states[l.end]&&(t[l.end]=f.unrepeatedContrs(o,o.states[l.end].contrs)),t[l.end]){var i=$.filterState(t[l.end][n]),r=$.filterState(t[l.start][n]),s={},d={},h=a.default.getStartEndContrs(n,e.contrId,c.start),p=h.start,g=h.end;for(var m in i)$.isPropEqual(p[m],i[m],"state"==m)||(u[n]=!0,f.compareProps({prop:m,startContr:p,endContr:i,reverse:!0,startData:s,endData:d}));for(var v in r)$.isPropEqual(r[v],g[v],"state"==v)||(u[n]=!0,f.compareProps({prop:v,startContr:r,endContr:g,reverse:!1,startData:s,endData:d}));(d.isDelete||s.isDelete)&&(d={isDelete:d.isDelete},s={isDelete:s.isDelete}),f.editFrame(d,n,"0%",!0),f.editFrame(s,n,"100%",!0)}for(var y in t[l.start])if(!t[l.end][y]){var w=$.filterState(t[l.start][y]),C={},_={},b=a.default.getStartEndContrs(y,e.contrId,c.start).end;for(var S in w)$.isPropEqual(w[S],b[S],"state"==S)||(u[y]=!0,f.compareProps({prop:S,startContr:w,endContr:b,reverse:!1,startData:C,endData:_}));(_.isDelete||C.isDelete)&&(_={isDelete:_.isDelete},C={isDelete:C.isDelete}),f.editFrame(_,y,"0%",!0),f.editFrame(C,y,"100%",!0)}},unrepeatedContrs:function(e,t,n){var i=n?t:$.extend(!0,{},t),r=$.getContrId(e);for(var o in i){var s=i[o];a.default.getAllValsContr({contrKey:o,parentSaveContrVals:s,parentSaveContrId:r})}return i},compareProps:function(e){var t=e.startContr[e.prop],n=e.endContr[e.prop];if("cutVals"==e.prop){var i=e.reverse?n:t;for(var a in t||(t=$.getDefaultCutVals(e.startContr)),n||(n=$.getDefaultCutVals(e.endContr)),i)t[a]!=n[a]&&($.isUndefined(e.startData[e.prop])&&(e.startData[e.prop]={}),$.isUndefined(e.endData[e.prop])&&(e.endData[e.prop]={}),e.startData[e.prop][a]=t[a],e.endData[e.prop][a]=n[a])}else e.reverse?(e.startData[e.prop]=$.isUndefined(t)?null:t,"filter"==e.prop?e.endData[e.prop]=$.extend(!0,$.extend(!0,{},t),n):e.endData[e.prop]=n):(e.endData[e.prop]=$.isUndefined(n)?null:n,"filter"==e.prop?e.startData[e.prop]=$.extend(!0,$.extend(!0,{},n),t):e.startData[e.prop]=t)},editFrame:function(e,t,n,i){var a=void 0,r=void 0;if(i&&$.isEmptyObj(e)&&(!s[l.end]||!s[l.end].contrs||!s[l.end].contrs[t]))return!1;t?((r=f.getContrAnim(t,!0)).keyframes[n]||f.createFrame(n,t,{},!0),a=r.keyframes[n].frame):a=curInfo.keyframe.frame,i?t?r.keyframes[n].frame=e:curInfo.keyframe.frame=e:$.extend(a,e)},getContrAnim:function(e,t){if(s&&s[l.end]&&s[l.end].contrs&&s[l.end].contrs[e]&&s[l.end].contrs[e].units){var n=s[l.end].contrs[e].units[0];return $.isUndefined(n.keyframes)&&(n.keyframes={}),$.isUndefined(n.props)&&(n.props={}),n}return t?(f.setContrAnim(e),s[l.end].contrs[e].units[0]):f.getContrAnimData()},setContrAnim:function(e){s[l.end]||(s[l.end]={});var t=s[l.end];t.contrs||(t.contrs={}),t.contrs[e]||(t.contrs[e]={units:[{index:0,props:{},keyframes:{}}]})},getContrAnimData:function(e){var t={};return e&&s&&s[l.end]&&s[l.end].contrs&&(t=s[l.end].contrs[e]),$.extend(!0,{units:[{index:0,props:{},keyframes:{}}]},t)},createFrame:function(e,t,n,i){var a=f.getContrAnim(t);return a.keyframes[e]={frame:n||{},show:!0,active:!i},a},getTransition:function(){var e=void 0;return $.objLength(o.states)>0&&(-1!=l.start?(o.states[l.start].transition||(o.states[l.start].transition={}),e=o.states[l.start].transition):(o.transition||(o.transition={}),e=o.transition)),e},getTrProps:function(){var e=$.extend({},d);return s||console.log("warning"),s&&s[l.end]&&s[l.end].props&&$.extend(e,s[l.end].props),e},getDisabled:function(){return!(!s||!s[l.end])&&s[l.end].disabled},dataToStyle:function(e){var t={},n=[],a=e.contrId.split("_")[0],r=f.getStyleCategory(a),o=e.curData,s=function(n){r[n].stylesArr.forEach(function(i){if(!$.isUndefined(e.styles[i])){var a="#"+e.contrId;e.symbolParent&&(a="#"+e.symbolParent.join(" #")+" "+a),$.isUndefined(t[n])&&(t[n]={element:$.query(a+" "+r[n].class),process:{},ins:{},startData:{}}),function t(n,i,a){var r=f.styleDict(n);var s=e.styles[n];switch(n){case"textShadow":i.process[r]="rgba(0,0,0,0.5) 0px "+$.convertNum(s,"px")+" "+$.convertNum(s,"px");break;case"opacity":i.process[r]=s/100;break;case"insetBorder":i.process[r]=$.convertNum(s[1])+" solid "+s[0];break;case"content":i.ins[r]=s;break;case"vertical":case"horizontal":i.ins[n]=s;break;case"isB":i.ins[r]=s?"bold":"normal";break;case"isI":i.ins[r]=s?"italic":"normal";break;case"isU":i.ins[r]=s?"underline":"none";break;case"isShow":case"isDelete":var l=!1!==o.isShow&&!o.isDelete;l&&(i.ins[r]="block"),i.process.opacity=l?o.opacity/100:0;break;case"shadow":case"border":var c=0;o.border[0]&&(c="0"==(c=$.convertNum(o.border[1],"num"))?c=1:c),i.process[r]||(i.process[r]=(null===o.border[0]?"":"0 0 0 "+$.convertNum(c,"px")+" "+o.border[0]+", ")+"0 "+$.convertNum(o.shadow,"px")+" "+$.convertNum(o.shadow,"px")+" "+$.convertNum(c,"px")+" rgba(0,0,0,.5)");break;case"rotate":i.process[r]=s,t("left",i,n),t("top",i,n);break;case"cutVals":$.extend(!0,i.process,{width:$.convertNum(o.cutVals.boxWidth),height:$.convertNum(o.cutVals.boxHeight),"margin-left":$.convertNum(s.boxLeft),"margin-top":$.convertNum(s.boxTop)});break;case"filter":i.process.webkitFilter=$.getFilter(s),i.process.filter=$.getFilter(s);break;case"radius":case"isMaxRadius":i.process[r]||(i.process[r]=o.isMaxRadius?$.convertNum(Math.ceil(Math.min(o.width,o.height)/2),"px"):$.convertNum(o.radius,"px"));break;case"backColor":case"hasBackColor":i.process[r]||(i.process[r]=o.hasBackColor?o.backColor:"transparent");break;case"left":case"top":var d="rotate"==a?$.getRotatePosiDiff({rotate:o.rotate,width:o.width,height:o.height,type:n}):0;i.process[r]=e.prevData?$.convertNum(o[n]-e.prevData[n]-d,"px"):0;break;case"width":case"height":if("icon"==a){if($.isUndefined(i.process.fontSize)){var u=1,h=1;i.process.fontSize=$.convertNum(Math.max(Math.max(o.width,o.height),12)),o.width!=o.height&&(o.width>o.height?h=o.height/o.width:u=o.width/o.height),i.process.transform=1!=u||1!=h?(1!=u?"scaleX("+u+")":"")+(1!=h?" scaleY("+h+")":""):"none"}}else"textBox"==a?t("fontSize",i):"self"!=a?t("radius",i):(i.process[r]=$.convertNum(s,"px"),t("radius",i));break;case"independWH":case"outerHidden":i.process.overflow=!o.independWH&&o.outerHidden?"hidden":"visible";break;case"textColor":case"iconColor":i.process[r]=s;break;case"fontSize":(s<12||e.prevData.fontSize<12)&&fromIframe&&(i.ins.width="100%",i.ins.scale=1,"vM"==o.vertical?i.ins.y="-50%":i.ins.y=0,s=Math.max(s,12)),i.process[r]=$.convertNum(s);break;case"scale":i.process.transform="scale("+s/10+")";break;default:i.process[r]=$.convertNum(s)}}(i,t[n],n)}})};for(var l in r)s(l);var c=function(a){if((0,i.default)(t[a].process).length>0){var r={},o={};n.push({element:t[a].element,props:t[a].process,time:e.time,delay:e.delay,start:0!==$.objLength(r)&&r,end:0!==$.objLength(o)&&o,easing:e.easing,type:a,contrId:e.contrId})}if((0,i.default)(t[a].ins).length>0){if("textBox"==a){var s="";[["horizontal",t[a].ins.horizontal],["vertical",t[a].ins.vertical]].forEach(function(e){$.isUndefined(t[a].ins[e[0]])||(s+=(""!==s?" ":"")+e[1],delete t[a].ins[e[0]])}),""!==s&&(e.prevData?t[a].ins.className="+="+s:t[a].ins.className="-="+s)}n.push({element:t[a].element,props:t[a].ins,time:0,delay:e.delay,type:a,contrId:e.contrId})}};for(var d in t)c(d);return n},styleDict:function(e){return{width:"width",height:"height",left:"x",top:"y",rotate:"rotation",radius:"borderRadius",isMaxRadius:"borderRadius",shadow:"box-shadow",opacity:"opacity",backColor:"backgroundColor",hasBackColor:"backgroundColor",iconColor:"color",insetBorder:"border",adjaceney:"letterSpacing",textColor:"color",fontSize:"fontSize",textShadow:"textShadow",lineHeight:"lineHeight",indent:"textIndent",content:"value",border:"boxShadow",isShow:"display",isDelete:"display",outerHidden:"overflow",scrollX:"overflow-x",scrollY:"overflow-y",isDepend:"position"}[e]},getStyleCategory:function(e){var t={class:"",stylesArr:"hotspot"==e||"icon"==e?["width","height","left","top","opacity","rotate","isShow","isDelete","isDepend"]:["width","height","left","top","backColor","hasBackColor","radius","isMaxRadius","border","shadow","opacity","rotate","isShow","isDelete","isDepend"]};switch(e){case"text":return t.stylesArr.push("insetBorder"),{self:t,textBox:{class:" .content",stylesArr:["width","adjaceney","indent","textColor","lineHeight","textShadow","fontSize"]}};case"hotspot":return{self:t};case"icon":return{self:t,icon:{class:" i",stylesArr:["iconColor","width","height"]}};case"image":return{self:t,insetBorder:{class:" .insetBorder",stylesArr:["insetBorder","radius","isMaxRadius","width","height"]},imgBox:{class:" .cutImgOutBox",stylesArr:["radius","isMaxRadius","width","height"]},img:{class:" .cImg",stylesArr:["cutVals","filter"]}};case"wrapbox":return t.stylesArr.push("outerHidden","scrollX","scrollY"),{self:t,insetBorder:{class:">.insetBorder",stylesArr:["insetBorder","radius","isMaxRadius","width","height"]},childrenBox:{class:">.childrenBox",stylesArr:["radius","isMaxRadius","outerHidden","scrollX","scrollY"]}};case"symbol":return{self:{class:"",stylesArr:["left","top"]},childrenBox:{class:">.childrenBox",stylesArr:["scale"]}}}}};e.exports=f},function(e,t,n){"use strict";var i={},a={getTimeline:function(e,t,n){return i[e+"_"+t+"_"+n]},setTimeline:function(e,t,n,a){i[e+"_"+t+"_"+n]=a}};e.exports=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=f(n(14)),a=f(n(3)),r=f(n(7)),o=f(n(6)),s=f(n(5)),l=f(n(4)),c=f(n(1)),d=f(n(93)),u=f(n(264));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){(0,r.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.state={timers:[],eventHammers:{},eTypeClass:"",renderChange:1},n.focus=n.focus.bind(n),n}return(0,l.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.contr,t=$("#"+$.getContrId(e)+">.childrenBox");(e.scrollX||e.scrollY)&&t.on("touchmove",function(e){e.stopPropagation()}),this.setEvents()}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.state.renderChange==t.renderChange,i="page"==e.updateType;return n&&(i||e.isUpdateParent||e.mustChange)}},{key:"componentWillUpdate",value:function(){this.offEvents()}},{key:"componentDidUpdate",value:function(){this.setEvents()}},{key:"render",value:function(){var e=this,n=e.props.contr,a=$.getContrId(n),r=e.props.symbolChild&&e.props.symbolChild[a],o=$.getContrEndState(n);"contr"!=e.props.updateType&&r&&!$.isUndefined(r.endState)&&(o=r.endState);var s=n.scrollX||n.scrollY,l={text:"textC",hotspot:"hotspotC",icon:"iconC",image:"imageC",wrapbox:"wrapBox",symbol:"symbol"}[n.type]+" "+(e.props.isMergeBox?"mDiv":"cDiv")+(n.isDepend?" fixed":"")+" state"+(+o+1)+" "+a,u=null,f=e.props.parentStateCache,h=e.props.stateAncestor,p=$.extend(!0,{},e.props.ancestorState)||{},g=void 0,m={},v={};switch(n.isDepend&&(window.fixedData[e.props.page.key]=!0,window.isLocal&&(v={"data-ori-left":n.left,"data-ori-top":n.top})),s&&(window.innerScrollData[e.props.page.key]=!0),n.states&&!$.isEmptyObj(n.states)&&($.isEmptyObj(f)&&(h=a),f[a]||(f[a]={}),f[a][o]||(f[a][o]={}),g=f[a][o],p[a]=o),n.type){case"text":r&&!$.isUndefined(r.content)&&((n=$.extend(!0,{},n)).content=r.content);var y="inputText"==n.baseContrType,w={},C={};"inputText"==n.baseContrType?(w={contentEditable:!0,placeholder:n.content,onClick:e.stopPropagation},C={onClick:e.focus}):w={dangerouslySetInnerHTML:{__html:n.content.replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;")}},u=c.default.createElement("div",(0,i.default)({key:a,id:a,className:l+" "+("inputText"==n.baseContrType?"editable":""),style:m,ref:"contr","data-state":o},C,v),c.default.createElement("p",(0,i.default)({className:"content "+(y?"isInput ":"")+n.vertical+" "+n.horizontal+(n.isB?" tB":"")+(n.isI?" tI":"")+(n.isU?" tU":"")},w)));break;case"hotspot":u=c.default.createElement("div",{key:a,id:a,className:l,ref:"contr"});break;case"icon":r&&!$.isUndefined(r.iconKey)&&((n=$.extend(!0,{},n)).iconKey=r.iconKey),u=c.default.createElement("div",(0,i.default)({key:a,id:a,className:l,style:m,ref:"contr","data-state":o},v),c.default.createElement("i",{className:"material-icons icon iconfont"},n.iconKey));break;case"image":r&&r.src&&((n=$.extend(!0,{},n)).src=r.src);var _={},b=void 0,S=-1!=n.src.indexOf("defaultImg"),x=window.h5ImgUrl+n.src;window.isLocal&&(x="images/"+/\/([^\/]*?\.(jpg|png|svg|jpeg|gif|webp|bmp))/i.exec(n.src)[1]),S?b="cImg default-img material-icons":(_.backgroundImage="url("+x+")",b="cImg"),u=c.default.createElement("div",(0,i.default)({key:a,id:a,className:l,style:m,ref:"contr","data-state":o},v),c.default.createElement("div",{className:"cutImgOutBox"},S?c.default.createElement("div",{className:b,style:_}):c.default.createElement("img",{className:b,src:x})),c.default.createElement("div",{className:"insetBorder"}));break;case"symbol":case"wrapbox":var E=e.props.symbolChild,T=e.props.symbolParent;"symbol"==n.type&&(E=E?$.extend(!0,$.extend(!0,{},n.children),E):$.extend(!0,{},n.children),(T=T?T.concat():[]).push(a));var I=[];n.hierarchy&&n.hierarchy.concat().reverse().forEach(function(i){var a=n.contrs[i];if(!a)return!1;var r=$.getContrId(a),o=-1!==e.props.updateParent.indexOf(i),s=e.props.mustChange||e.props.updateContrId==i;("page"==e.props.updateType||o||s)&&(a=d.default.getAllValsContr({contrKey:a,symbolChild:E})),I.push(c.default.createElement(t,{key:r,contr:a,page:e.props.page,pageIndex:e.props.pageIndex,isMergeBox:!0,updateType:e.props.updateType,updateContrId:e.props.updateContrId,updateParent:e.props.updateParent,isUpdateParent:o,mustChange:s,parentStateCache:g||e.props.parentStateCache,stateAncestor:h,ancestorState:p,symbolChild:E,symbolParent:T}))}),u=c.default.createElement("div",(0,i.default)({key:a,id:a,className:l,style:m,ref:"contr","data-state":o},v),c.default.createElement("div",{className:"childrenBox"+(window.fromIframe&&s?" dragscroll":"")},I),c.default.createElement("div",{className:"insetBorder"}))}return u}},{key:"setEvents",value:function(){var e=this.props.contr.events;if(e&&0!==$.objLength(e)){var t=u.default.setEvents({events:e,updateParent:this.props.updateParent,pageIndex:this.props.pageIndex,pageKey:this.props.page.key,targetId:$.getContrId(this.props.contr),type:this.props.contr.type,symbolParent:this.props.symbolParent});this.setState({timers:t.timers,eventHammers:t.eventHammers,eTypeClass:t.eTypeClass,renderChange:this.state.renderChange+1})}}},{key:"offEvents",value:function(){u.default.offEvents({pageKey:this.props.page.key,targetId:$.getContrId(this.props.contr),eventHammers:this.state.eventHammers,eTypeClass:this.state.eTypeClass,type:this.props.contr.type,timers:this.state.timers,symbolParent:this.props.symbolParent})}},{key:"focus",value:function(){$("#"+$.getContrId(this.props.contr)+" p").focus()}},{key:"stopPropagation",value:function(e){e.stopPropagation()}}]),t}(c.default.Component);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=h(n(3)),a=h(n(7)),r=h(n(6)),o=h(n(5)),s=h(n(4)),l=h(n(1)),c=h(n(306)),d=h(n(303)),u=h(n(93)),f=h(n(264));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){(0,a.default)(this,t);var e=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={renderChange:1},e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.state.renderChange==t.renderChange;return"page"==e.updateType?"web"==$.getPlatform(window.platform)?e.active&&n:e.active&&(!window.loadPages[e.page.key]||!!e.reset||f.default.hasTmEvents(e.page.key))&&n:"contr"==e.updateType?e.active&&n:void 0}},{key:"componentDidMount",value:function(){this.initPage()}},{key:"componentWillUpdate",value:function(e){"page"==e.updateType&&this.offEvents()}},{key:"componentDidUpdate",value:function(){"page"==this.props.updateType&&this.initPage()}},{key:"render",value:function(){var e=this,t=e.props.page,n=[],i=window.pages[e.props.index].stateCache;return t.active&&(window.loadPages[t.key]=!0,t.contrs.forEach(function(a){var r=$.getContrId(a),o=a,s=-1!==e.props.updateParent.indexOf(r),d=e.props.updateContrId==r;("page"==e.props.updateType||s||d)&&(o=u.default.getAllValsContr({contrKey:a})),n.push(l.default.createElement(c.default,{key:r,contr:o,page:t,pageIndex:e.props.index,updateType:e.props.updateType,updateContrId:e.props.updateContrId,updateParent:e.props.updateParent,isUpdateParent:s,mustChange:d,parentStateCache:i}))})),l.default.createElement("div",{key:"page"+t.key,id:"page"+t.key,"data-islandscape":t.isLandscape?"true":"false",ref:"page",className:(t.active?"current ":"")+"page"+(!window.fromIframe&&t.isLandscape?" isLandscape":"")+" container-height"+(window.fromIframe?" dragscroll":""),"data-key":t.key,"data-direction":"y"},n,window.fromIframe&&t.note&&t.note.length>0?l.default.createElement(d.default,{noteList:t.note,pageId:t.key||"1"}):void 0)}},{key:"setEvents",value:function(){var e=this.props.page.events;e&&0!==$.objLength(e)&&f.default.setEvents({events:e,updateParent:this.props.updateParent,pageIndex:this.props.pageIndex,pageKey:this.props.page.key,targetId:"page"+this.props.page.key,type:"page"})}},{key:"offEvents",value:function(){this.props.page.events&&$("#page"+this.props.page.key).children(".gesture-tag").remove()}},{key:"initPage",value:function(){var e=this.props.page.key,t=["page"+e],n=$.getPlatform(window.platform);if("mobile"==n)new PreventOverScroll({list:t});if($.fixPageScroll(e),this.props.page.active&&(this.setEvents(),"web"==n)){var i=$.isUndefined(this.props.page.pageHeight)?$.getElById("page"+e).scrollHeight:this.props.page.pageHeight;$.getElById("page"+e).style.height=i+"px"}}}]),t}(l.default.Component);t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=h(n(3)),a=h(n(7)),r=h(n(6)),o=h(n(5)),s=h(n(4)),l=h(n(1)),c=h(n(276)),d=h(n(307)),u=h(n(93)),f=h(n(264));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(){(0,a.default)(this,t);var e=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={pages:window.pages,updateType:"page",updateParent:[]},e.updatePage=e.updatePage.bind(e),e.updateContr=e.updateContr.bind(e),e.touchStartFunc=e.touchStartFunc.bind(e),f.default.setUpdateFunc(e.updatePage,e.updateContr),window.fromIframe&&(window.goToPage=f.default.goToPage),e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=window.isLocal||"web"==window.platform?$.getElById("appContainer"):window.document;(0,c.default)(new Hammer(e,{touchAction:"auto"})).on("tap",function(e){if($(e.target).hasClass("gesture-tag"))return!1;var t=$(".current .event-show").add(".current.event-show");t.hasClass("animating")||(t.addClass("animating"),setTimeout(function(){t.removeClass("animating")},2e3)),e.stopPropagation()});new PreventOverScroll({list:["pageMask"]})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=[],n={},i=window.isWxxcx||$.getUrlParam("fromApp");return e.props.scale&&(n.transform="scale("+e.props.scale+")"),e.props.width&&(n.width=e.props.width),e.state.pages.forEach(function(n,i){t.push(l.default.createElement(d.default,{key:"page"+n.key,index:i,page:n,active:n.active,reset:e.state.reset,updateType:e.state.updateType,updateParent:e.state.updateParent,updateContrId:e.state.updateContrId}))}),l.default.createElement("div",{id:"pageContainer",className:"pageContainer",style:n,onTouchStart:window.isWxxcx?e.touchStartFunc:$.noop},t,l.default.createElement("div",{id:"pageMask",className:"page-mask "}),i?l.default.createElement("div",{className:"app-exit-guide"},l.default.createElement("div",{className:"guide-box"},l.default.createElement("div",{className:"guide-img"}),l.default.createElement("p",null,"三指点击退出预览"))):void 0)}},{key:"touchStartFunc",value:function(e){3===e.touches.length&&window.wx&&window.wx.miniProgram.navigateBack()}},{key:"updatePage",value:function(e,t){t&&u.default.initPageState(e),this.setState({page:window.pages,updateType:"page",reset:t})}},{key:"updateContr",value:function(e){var t=e.parentArr||u.default.getContrAllParent(u.default.getContrByAll(e.contrId));u.default.changeState(e),this.setState({updateType:"contr",updateParent:t,updateContrId:e.contrId})}}]),t}(l.default.Component);t.default=p},function(e,t,n){"use strict";(function(t){var n={},i=!1,a=!1,r=void 0,o={left:0,top:0,width:0,height:0},s=!1,l=void 0,c={init:function(e){var t=$.extend({},e);n={},o={left:0,top:0,width:0,height:0},i=!$.isUndefined(t.isMobile)&&t.isMobile,a=!$.isUndefined(t.isImage)&&t.isImage,r=$.isUndefined(t.serverId)?"":t.serverId,s=!$.isUndefined(t.isLocalResize)&&t.isLocalResize},getSymbolVal:function(e){if(e.symbolKey&&window.symbolContrs.symbols){var t=window.symbolContrs.symbols[e.symbolKey];t&&(e.hierarchy=t.hierarchy,e.width=t.width,e.height=t.height,e.contrs={},e.hierarchy&&e.hierarchy.forEach(function(t){e.contrs[t]=window.symbolContrs.contrs[t]}))}},getPage:function(e,t){var n="",i=function(e){return"#page"+e.key+"{\n\tbackground-color:"+e.backColor+";\n}\n#page"+e.key+" .pageBg{\n\tbackground-color:"+e.backColor+";\n}\n"}(e);return l=e.isLandscape,e.contrs.forEach(function(e){var r={thisDom:"",thisCss:""};if(s&&!e.isDepend)return!1;switch(e.type){case"text":r=c.getText(e,!1,t);break;case"hotspot":a||(r=c.getHotspot(e,!1,t));break;case"icon":r=c.getIcon(e,!1,t);break;case"image":r=c.getImage(e,!1,t);break;case"wrapbox":r=c.getWrapbox(e,!1,t);break;case"symbol":c.getSymbolVal(e);var o=$.extend(!0,{},e.children);r=c.getWrapbox(e,!1,t,void 0,void 0,o)}n+=r.thisDom,i+=r.thisCss}),{thisDom:'<div class="page'+(e.active?" current":"")+'" id = "page'+e.key+'" data-key = "'+e.key+'">'+n+"\n</div>",thisCss:i}},getText:function(e,t,i,r,o){var s=$.getContrId(e),l=e.content.replace(/\n/g,"<br/>").replace(/\s/g,"&nbsp;");n[s]=e,a&&r&&r[s]&&r[s].state&&(e.state=$.extend(e.state,r[s].state));var c=f(e,t,i,($.isUndefined(o)||o)&&"-1"==w(e));return{thisDom:'<div class="textC '+(t?"mDiv":"cDiv")+" "+c.stateId+" "+s+'" id="'+s+'" data-state="'+c.state+'">\n\t<p class="content '+e.vertical+" "+e.horizontal+(e.isB?" tB":"")+(e.isI?" tI":"")+(e.isU?" tU":"")+'">'+l+"</p>\n</div>",thisCss:c.cssStr}},getHotspot:function(e,t,i){var a=$.getContrId(e),r=f(e,t,i,!0);return n[a]=e,{thisDom:'<div class="hotspotC '+(t?"mDiv":"cDiv")+" "+a+'" id="'+a+'"></div>',thisCss:r.cssStr}},getIcon:function(e,t,i,r,o){var s=$.getContrId(e);n[s]=e,a&&r&&r[s]&&r[s].state&&(e.state=$.extend(e.state,r[s].state));var l=f(e,t,i,($.isUndefined(o)||o)&&"-1"==w(e));return{thisDom:'<div class="iconC '+(t?"mDiv":"cDiv")+" "+l.stateId+" "+s+'" id="'+s+'" data-state="'+l.state+'">\n\t<i class="material-icons icon iconfont">'+e.iconKey+"</i>\n</div>",thisCss:l.cssStr}},getImage:function(e,i,r,o,s){var l=$.getContrId(e),c=void 0,d="";n[l]=e,a&&o&&o[l]&&o[l].state&&(e.state=$.extend(e.state,o[l].state));var u=f(e,i,r,($.isUndefined(s)||s)&&"-1"==w(e));return-1!=e.src.indexOf("defaultImg")?c="cImg default-img material-icons":(d="background-image:url("+(t.staticUrl+e.src)+")",c="cImg"),{thisDom:'<div class="imageC '+(i?"mDiv":"cDiv")+" "+u.stateId+" "+l+'" id="'+l+'" data-state="'+u.state+'">\n\t<div class="cutImgOutBox">\n\t\t<div class="'+c+'" style="'+d+'"></div>\n\t</div>\n\t<div class="insetBorder"></div>\n</div>',thisCss:u.cssStr}},getWrapbox:function(e,t,i,r,o,l){var d,u=$.getContrId(e),h="",p="",g=!e.outerHidden&&i,m=r||{};n[u]=e,a&&m[u]&&m[u].state&&(e.state=$.extend(!0,e.state,m[u].state));var v=w(e),y=($.isUndefined(o)||o)&&"-1"==v;-1!=v&&e.states&&e.states[v]&&$.extend(!0,m,e.states[v].contrs),!s&&e.hierarchy&&e.hierarchy.concat().reverse().forEach(function(t){var n=void 0,i=e.contrs[t];if(i){if("text"==i.type)n=c.getText(i,!0,g,m,y);else if("hotspot"==i.type)n=c.getHotspot(i,!0);else if("icon"==i.type)n=c.getIcon(i,!0,g,m);else if("image"==i.type){var a=$.getContrId(i);l&&l[a]&&l[a].cutVals&&(i.cutVals=l[a].cutVals),n=c.getImage(i,!0,g,m)}else if("wrapbox"==i.type)n=c.getWrapbox(i,!0,g,m,void 0,l);else if("symbol"==i.type){c.getSymbolVal(i);var r=l;"symbol"==i.type&&(r=r?$.extend(!0,$.extend(!0,{},i.children),r):$.extend(!0,{},i.children)),n=c.getWrapbox(i,!0,g,m,void 0,r)}h+="\n"+n.thisDom,p+=n.thisCss}}),e.hierarchy&&e.hierarchy.length>0&&(p="/* 集合#"+u+" 内部元素--start */\n"+p+"/* 集合#"+u+" 内部元素--end */\n");var C=f(e,t,i,y);return d=C.cssStr+p,{thisDom:'<div class="wrapBox '+(t?"mDiv":"cDiv")+" "+C.stateId+" "+u+'" id="'+u+'" data-state="'+C.state+'"><div class="childrenBox">'+h+'\n</div>\n\t<div class="insetBorder"></div>\n</div>',thisCss:d}}};function d(e,t,n,r){var o,s={},c=function(e){return{width:"width",height:"height",left:"left",top:"top",rotate:"rotation",radius:"border-radius",isMaxRadius:"border-radius",shadow:"box-shadow",opacity:"opacity",backColor:"background-color",hasBackColor:"background-color",iconColor:"color",insetBorder:"border",adjaceney:"letter-spacing",textColor:"color",fontSize:"font-size",textShadow:"text-shadow",lineHeight:"line-height",indent:"text-indent",content:"value",border:"box-shadow",isShow:"display",isDelete:"display",outerHidden:"overflow",scrollX:"overflow-x",scrollY:"overflow-y",isDepend:"position",filter:"filter"}[e]}(e),u=t[e],f=null;switch(e){case"textShadow":r&&y(e,u)||(f=v(u,"number")?"rgba(0,0,0,0.5) 0 "+v(u)+" "+v(u):"none");break;case"opacity":r&&y(e,u)||(f=$.isUndefined(u)?null:Math.round(u)/100);break;case"insetBorder":r&&y(e,u[1])||(f=v(u[1])+" solid "+u[0],"insetBorder"==n&&$.extend(!0,s,d("radius",t)));break;case"shadow":case"border":if(!(r&&y("border",t.border[1])&&y("shadow",t.shadow))){var h="0"==t.border[1]?"":" 0 0 0 "+v(t.border[1])+" "+t.border[0],p="0"==t.shadow?"":"0 "+v(t.shadow)+" "+v(t.shadow)+" "+(t.border[1]?v(t.border[1]):0)+" rgba(0,0,0,0.5)";f=h||p?h+(h&&p?",":"")+p:"none"}break;case"cutVals":$.extend(!0,s,{width:v(u.boxWidth),height:v(u.boxHeight),"margin-left":v(u.boxLeft),"margin-top":v(u.boxTop)});break;case"filter":if(t&&t.isSvg&&t.svgToGray&&(u?u.saturate=0:u={saturate:0}),0!==$.objLength(u)){var g=(o=u,"blur("+(o=$.extend({blur:0,saturate:10,hue:180,brightness:10,contrast:10},o||{})).blur+"px) saturate("+(.1*o.saturate).toFixed(1)+") hue-rotate("+(o.hue-180)+"deg) brightness("+(.1*o.brightness).toFixed(1)+") contrast("+(.1*o.contrast).toFixed(1)+")");$.extend(!0,s,{filter:g,"-webkit-filter":g})}break;case"radius":case"isMaxRadius":r&&!t.isMaxRadius&&y("radius",t.radius)||(f=t.isMaxRadius?v(Math.min(t.width,t.height)/2):$.isUndefined(t.radius)?null:v(t.radius));break;case"backColor":case"hasBackColor":"img"==n?$.extend(!0,s,d("src",t,n,r)):r&&!t.hasBackColor||(f=t.gradientColor&&t.hasBackColor?t.gradientColor:t.hasBackColor?t.backColor:"transparent");break;case"src":c="background-color";var m=-1!=t.src.indexOf("defaultImg");m&&(f=t.hasBackColor?t.backColor:"#D9D9D9"),r||m&&!t.hasBackColor||(f="transparent");break;case"textColor":case"iconColor":r&&y(e,u)||(f=u);break;case"lineHeight":r&&y(e,u)||(f=10*Math.round(u+5)+"%");break;case"isShow":case"isDelete":var w=!1!==t.isShow&&!t.isDelete;r&&w||(f=w?"block":"none",w?$.extend(!0,s,d("opacity",{opacity:t.opacity})):$.extend(!0,s,d("opacity",{opacity:0})));break;case"rotate":r&&y(e,u)||(f=u,$.extend(!0,s,d("left",t,n)),$.extend(!0,s,d("top",t,n)));break;case"outerHidden":f=u?"hidden":null;break;case"scrollX":case"scrollY":f=u&&!a?"scroll":null;break;case"fontSize":if(!i&&u<12){var C=parseFloat(u/12).toFixed(2),_=("vM"==t.vertical?"translateY(-50%)":"")+" scale("+C+")";$.extend(!0,s,{transform:_,"-webkit-transform":_,width:v(t.width/C)}),f=v(12)}else f=v(u);break;case"top":t.isDepend&&"bm"==t.dependType?$.extend(!0,s,d("isDepend",t)):f=v(u);break;case"isDepend":if(u){var b=window.isLocal?1:0;$.extend(!0,s,{position:"fixed"}),t.rotate||"0"!=t.rotate||$.extend(!0,s,{transform:"translateZ(0)","-webkit-transform":"translateZ(0)"}),"bm"==t.dependType?$.extend(!0,s,{top:"auto",bottom:v((l?$.viewSize.width:$.viewSize.height)-b-(t.top+t.height))}):window.isLocal&&$.extend(!0,s,{top:v(t.top+b)}),window.isLocal&&$.extend(!0,s,{left:v(t.left+b)})}break;case"width":case"height":if("icon"==n){var S=1,x=1,E=v(Math.max(Math.max(t.width,t.height),12)),T=void 0;t.width!=t.height&&(t.width>t.height?x=t.height/t.width:S=t.width/t.height),T=1!=S||1!=x?(1!=S?"scaleX("+S+")":"")+(1!=x?" scaleY("+x+")":""):t.width<12?"scale("+t.width/12+")":"none",r&&"none"==T?$.extend(!0,s,{"font-size":E}):$.extend(!0,s,{"font-size":E,transform:T,"-webkit-transform":T})}else"textBox"==n?$.extend(!0,s,d("fontSize",t,n,r)):"self"!=n?$.extend(!0,s,d("radius",t,n,r)):(f=v(u),$.extend(!0,s,d("radius",t,n,r)));break;case"indent":case"adjaceney":r&&y(e,u)||(f=v(u));break;case"scale":$.extend(!0,s,{transform:"scale("+u/10+")","-webkit-transform":"scale("+u/10+")"});break;default:f=v(u)}return null!==f&&(s[c]=f),s}function u(e){var t={class:"",stylesArr:s?["width","height","left","top","isDepend"]:"hotspot"==e||"icon"==e?["width","height","left","top","opacity","rotate","isShow","isDelete","isDepend"]:["width","height","left","top","backColor","hasBackColor","radius","isMaxRadius","border","shadow","opacity","rotate","isShow","isDelete","isDepend"]};switch(e){case"text":return t.stylesArr.push("insetBorder"),{self:t,textBox:{class:" .content",stylesArr:["width","adjaceney","indent","textColor","textShadow","fontSize","lineHeight","filter"]},placeholder:{class:" .content::-webkit-input-placeholder",stylesArr:["textColor"]}};case"hotspot":return{self:t};case"icon":return{self:t,icon:{class:" i",stylesArr:["iconColor","width","height"]}};case"image":return{self:t,insetBorder:{class:" .insetBorder",stylesArr:["insetBorder","radius","isMaxRadius","width","height"]},imgBox:{class:" .cutImgOutBox",stylesArr:["radius","isMaxRadius","width","height"]},img:{class:" .cImg",stylesArr:["cutVals","filter","src","backColor","hasBackColor"]}};case"wrapbox":return t.stylesArr.push("outerHidden","scrollX","scrollY"),{self:t,insetBorder:{class:">.insetBorder",stylesArr:["insetBorder","radius","isMaxRadius","width","height"]},childrenBox:{class:">.childrenBox",stylesArr:["radius","isMaxRadius","outerHidden","scrollX","scrollY"]}};case"symbol":return{self:{class:"",stylesArr:["width","height","left","top","opacity","isDepend"]},childrenBox:{class:">.childrenBox",stylesArr:["scale"]}}}}function f(e,t,n,i){var a=$.getContrId(e),r=u(e.type),o="",s=e.state&&!$.isUndefined(e.state.endState)?e.state.endState:"-1",l=function(s){var l={};r[s].stylesArr.forEach(function(t){null!==e[t]&&$.extend(!0,l,d(t,e,s,!0))}),n&&"self"==s&&i&&$.extend(!0,l,h(e,t)),0!==$.objLength(l)&&(o+="."+a+r[s].class+"{\n"+m(l)+"}\n")};for(var c in r)l(c);if(e.states)for(var f in e.states)o+=g(e,f,t,n);return{cssStr:o,state:s,stateId:"state"+(+s+1)}}function h(e,t){if(t)return p(e),!1;var n,i=[+e.width,+e.height],a=[1,1],s={},l=[o.left,o.top],c=[0,0],u=[0,0];if(e.border&&e.border[1]>0&&(c[0]+=2*e.border[1],c[1]+=2*e.border[1],u[0]+=e.border[1],u[1]+=e.border[1]),e.shadow>0&&(c[0]+=2*e.shadow,c[1]+=2*e.shadow,u[0]+=e.shadow),l[0]+=Math.round(Math.max(0,u[0]-l[0])),l[1]+=Math.round(Math.max(0,u[1]-l[1])),i[0]=Math.round(Math.max(c[0]+i[0],o.width+l[0])),i[1]=Math.round(Math.max(c[1]+i[1],o.height+l[1])),"0"!=e.rotate){var f=$.getRotatePos([l[1],i[0]-e.width-l[0],i[1]-e.height-l[1],l[0]],e.rotate,[e.width,e.height]);i=$.getRotateWH(e.rotate,i),l[0]=f[0],l[1]=f[1]}return i[0]>$.viewSize.width&&(a[0]=$.viewSize.width/i[0]),i[1]>$.viewSize.height&&(a[1]=$.viewSize.height/i[1]),n=Math.min(a[0],a[1]),$.extend(!0,s,d("left",{left:l[0]*n})),$.extend(!0,s,d("top",{top:l[1]*n})),1!=n&&($.extend(!0,s,{"-webkit-transform":"rotate("+e.rotate+"deg) scale("+n+")"}),i=[i[0]*n,i[1]*n]),$.contrWH[r]=i,s}function p(e){var t=[e.width,e.height],n=[e.left,e.top],i=[0,0],a=[0,0];if(e.border&&e.border[1]>0&&(i[0]+=2*e.border[1],i[1]+=2*e.border[1],a[0]+=e.border[1],a[1]+=e.border[1]),e.shadow>0&&(i[0]+=2*e.shadow,i[1]+=2*e.shadow,a[0]+=e.shadow),t[0]+=Math.round(i[0]),t[1]+=Math.round(i[1]),"0"!=e.rotate){var r=$.getRotatePos([a[1],t[0]-e.width-a[0],t[1]-e.height-a[1],a[0]],e.rotate,[e.width,e.height]);t=$.getRotateWH(e.rotate,t),a[0]=r[0],a[1]=r[1]}n[0]-a[0]<0&&(o.left=Math.max(Math.abs(n[0]-a[0]),o.left)),n[1]-a[1]<0&&(o.top=Math.max(Math.abs(n[1]-a[1]),o.top)),o.width=Math.max(o.width,t[0]+n[0]-a[0]),o.height=Math.max(o.height,t[1]+n[1]-a[1])}function g(e,t,i,a){var r=$.getContrId(e),o=u(e.type),s=e.states[t],l=".state"+(+t+1),c="",f=s.contrs[r],g=$.extend(!0,$.extend(!0,{},e),f),v=function(n){var s={};o[n].stylesArr.forEach(function(e){f&&($.isUndefined(f[e])||$.extend(!0,s,d(e,g,n)))}),i&&a&&"self"==n&&e.state&&e.state.endState==t&&p(g),0!==$.objLength(s)&&(c+="#"+r+l+o[n].class+"{\n"+m(s)+"}\n")};for(var y in o)v(y);if("wrapbox"==e.type||"symbol"==e.type){var w=!g.outerHidden&&a;c+="\n/* 集合#"+r+" 状态state"+t+"下的内部元素样式--start */\n";var C=function(i){i!=r&&n[i]?function(){var a=u(n[i].type),o=s.contrs[i],f=$.extend(!0,$.extend(!0,{},n[i]),o),h=function(s){var u={};a[s].stylesArr.forEach(function(e){$.isUndefined(o[e])||o[e]==n[i][e]||$.extend(!0,u,d(e,f,s))}),w&&"self"==s&&e.state&&e.state.endState==t&&p(f),0!==$.objLength(u)&&(c+="."+r+l+" ."+i+a[s].class+"{\n"+m(u)+"}\n")};for(var g in a)h(g)}():n[i]};for(var _ in s.contrs)C(_);c+="/* 集合#"+r+" 状态state"+t+"下的内部元素样式--end */\n\n"}return a&&e.state&&e.state.endState==t&&(c+="#"+r+l+"{\n"+m(h(g,i))+"}\n"),c}function m(e){var t="";for(var n in e)"rotation"==n?(t+="\t-webkit-transform: rotate("+e[n]+"deg);\n",t+="\ttransform: rotate("+e[n]+"deg);\n"):t+="\t"+n+": "+e[n]+";\n";return t}function v(e,t){return"number"==t?Math.round(.02*e*1e3)/1e3:"web"==window.platform?Math.round(e)+"px":Math.round(.02*e*1e3)/1e3+"rem"}function y(e,t){var n={opacity:100,lineHeight:10,fontsize:14,textColor:"rgba(80, 80, 80, 1)",iconColor:"rgba(153, 153, 153, 1)",backColor:"rgba(153, 153, 153, 1)"};return n[e]?t==n[e]:0==t}function w(e){return e.state&&!$.isUndefined(e.state.endState)?e.state.endState:"-1"}e.exports=c}).call(this,n(79))},function(e,t,n){"use strict";var i,a=l(n(34)),r=l(n(335)),o=l(n(36)),s=l(n(298));function l(e){return e&&e.__esModule?e:{default:e}}!function(l,c,d,u){function f(e,t,n){return setTimeout(v(e,n),t)}function h(e,t,n){return!!Array.isArray(e)&&(p(e,n[t],n),!0)}function p(e,t,n){var i;if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==u)for(i=0;i<e.length;)t.call(n,e[i],i,e),i++;else for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e)}function g(e,t,n){var i="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=l.console&&(l.console.warn||l.console.log);return a&&a.call(l.console,i,n),e.apply(this,arguments)}}function m(e,t,n){var i,a=t.prototype;(i=e.prototype=(0,s.default)(a)).constructor=e,i._super=a,n&&se(i,n)}function v(e,t){return function(){return e.apply(t,arguments)}}function y(e,t){return(void 0===e?"undefined":(0,o.default)(e))==de?e.apply(t&&t[0]||u,t):e}function w(e,t){return e===u?t:e}function C(e,t,n){p(x(t),function(t){e.addEventListener(t,n,!1)})}function _(e,t,n){p(x(t),function(t){e.removeEventListener(t,n,!1)})}function b(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function S(e,t){return e.indexOf(t)>-1}function x(e){return e.trim().split(/\s+/g)}function E(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var i=0;i<e.length;){if(n&&e[i][n]==t||!n&&e[i]===t)return i;i++}return-1}function T(e){return Array.prototype.slice.call(e,0)}function I(e,t,n){for(var i=[],a=[],r=0;r<e.length;){var o=t?e[r][t]:e[r];E(a,o)<0&&i.push(e[r]),a[r]=o,r++}return n&&(i=t?i.sort(function(e,n){return e[t]>n[t]}):i.sort()),i}function P(e,t){for(var n,i,a=t[0].toUpperCase()+t.slice(1),r=0;r<le.length;){if((i=(n=le[r])?n+a:t)in e)return i;r++}return u}function $(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||l}function A(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){y(e.options.enable,[e])&&n.handler(t)},this.init()}function O(e,t,n){var i=n.pointers.length,a=n.changedPointers.length,r=t&Se&&i-a==0,o=t&(Ee|Te)&&i-a==0;n.isFirst=!!r,n.isFinal=!!o,r&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,i=t.pointers,a=i.length;n.firstInput||(n.firstInput=L(t)),a>1&&!n.firstMultiple?n.firstMultiple=L(t):1===a&&(n.firstMultiple=!1);var r=n.firstInput,o=n.firstMultiple,s=o?o.center:r.center,l=t.center=M(i);t.timeStamp=he(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=R(s,l),t.distance=B(s,l),function(e,t){var n=t.center,i=e.offsetDelta||{},a=e.prevDelta||{},r=e.prevInput||{};t.eventType!==Se&&r.eventType!==Ee||(a=e.prevDelta={x:r.deltaX||0,y:r.deltaY||0},i=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=a.x+(n.x-i.x),t.deltaY=a.y+(n.y-i.y)}(n,t),t.offsetDirection=N(t.deltaX,t.deltaY);var c=D(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=fe(c.x)>fe(c.y)?c.x:c.y,t.scale=o?function(e,t){return B(t[0],t[1],Ne)/B(e[0],e[1],Ne)}(o.pointers,i):1,t.rotation=o?function(e,t){return R(t[1],t[0],Ne)+R(e[1],e[0],Ne)}(o.pointers,i):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,k(n,t);var d=e.element;b(t.srcEvent.target,d)&&(d=t.srcEvent.target),t.target=d}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function k(e,t){var n,i,a,r,o=e.lastInterval||t,s=t.timeStamp-o.timeStamp;if(t.eventType!=Te&&(s>be||o.velocity===u)){var l=t.deltaX-o.deltaX,c=t.deltaY-o.deltaY,d=D(s,l,c);i=d.x,a=d.y,n=fe(d.x)>fe(d.y)?d.x:d.y,r=N(l,c),e.lastInterval=t}else n=o.velocity,i=o.velocityX,a=o.velocityY,r=o.direction;t.velocity=n,t.velocityX=i,t.velocityY=a,t.direction=r}function L(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:ue(e.pointers[n].clientX),clientY:ue(e.pointers[n].clientY)},n++;return{timeStamp:he(),pointers:t,center:M(t),deltaX:e.deltaX,deltaY:e.deltaY}}function M(e){var t=e.length;if(1===t)return{x:ue(e[0].clientX),y:ue(e[0].clientY)};for(var n=0,i=0,a=0;t>a;)n+=e[a].clientX,i+=e[a].clientY,a++;return{x:ue(n/t),y:ue(i/t)}}function D(e,t,n){return{x:t/e||0,y:n/e||0}}function N(e,t){return e===t?Ie:fe(e)>=fe(t)?0>e?Pe:$e:0>t?Ae:Oe}function B(e,t,n){n||(n=De);var i=t[n[0]]-e[n[0]],a=t[n[1]]-e[n[1]];return Math.sqrt(i*i+a*a)}function R(e,t,n){n||(n=De);var i=t[n[0]]-e[n[0]],a=t[n[1]]-e[n[1]];return 180*Math.atan2(a,i)/Math.PI}function U(){this.evEl=Re,this.evWin=Ue,this.pressed=!1,A.apply(this,arguments)}function H(){this.evEl=Ke,this.evWin=je,A.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function V(){this.evTarget=ze,this.evWin=We,this.started=!1,A.apply(this,arguments)}function K(){this.evTarget=Xe,this.targetIds={},A.apply(this,arguments)}function j(){A.apply(this,arguments);var e=v(this.handler,this);this.touch=new K(this.manager,e),this.mouse=new U(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function F(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var i=this.lastTouches;setTimeout(function(){var e=i.indexOf(n);e>-1&&i.splice(e,1)},Ye)}}function z(e,t){this.manager=e,this.set(t)}function W(e){this.options=se({},this.defaults,e||{}),this.id=me++,this.manager=null,this.options.enable=w(this.options.enable,!0),this.state=ot,this.simultaneous={},this.requireFail=[]}function G(e){return e&ut?"cancel":e&ct?"end":e&lt?"move":e&st?"start":""}function X(e){return e==Oe?"down":e==Ae?"up":e==Pe?"left":e==$e?"right":""}function Y(e,t){var n=t.manager;return n?n.get(e):e}function q(){W.apply(this,arguments)}function Z(){q.apply(this,arguments),this.pX=null,this.pY=null}function Q(){q.apply(this,arguments)}function J(){W.apply(this,arguments),this._timer=null,this._input=null}function ee(){q.apply(this,arguments)}function te(){q.apply(this,arguments)}function ne(){W.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ie(e,t){return(t=t||{}).recognizers=w(t.recognizers,ie.defaults.preset),new ae(e,t)}function ae(e,t){this.options=se({},ie.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){var t=e.options.inputClass;return new(t||(ye?H:we?K:ve?j:U))(e,O)}(this),this.touchAction=new z(this,this.options.touchAction),re(this,!0),p(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function re(e,t){var n,i=e.element;i.style&&(p(e.options.cssProps,function(a,r){n=P(i.style,r),t?(e.oldCssProps[n]=i.style[n],i.style[n]=a):i.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}function oe(e,t){var n=c.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}var se,le=["","webkit","Moz","MS","ms","o"],ce=c.createElement("div"),de="function",ue=Math.round,fe=Math.abs,he=Date.now;se="function"!=typeof r.default?function(e){if(e===u||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==u&&null!==i)for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])}return t}:r.default;var pe=g(function(e,t,n){for(var i=(0,a.default)(t),r=0;r<i.length;)(!n||n&&e[i[r]]===u)&&(e[i[r]]=t[i[r]]),r++;return e},"extend","Use `assign`."),ge=g(function(e,t){return pe(e,t,!0)},"merge","Use `assign`."),me=1,ve="ontouchstart"in l,ye=P(l,"PointerEvent")!==u,we=ve&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Ce="touch",_e="mouse",be=25,Se=1,xe=2,Ee=4,Te=8,Ie=1,Pe=2,$e=4,Ae=8,Oe=16,ke=Pe|$e,Le=Ae|Oe,Me=ke|Le,De=["x","y"],Ne=["clientX","clientY"];A.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C($(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_($(this.element),this.evWin,this.domHandler)}};var Be={mousedown:Se,mousemove:xe,mouseup:Ee},Re="mousedown",Ue="mousemove mouseup";m(U,A,{handler:function(e){var t=Be[e.type];t&Se&&0===e.button&&(this.pressed=!0),t&xe&&1!==e.which&&(t=Ee),this.pressed&&(t&Ee&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:_e,srcEvent:e}))}});var He={pointerdown:Se,pointermove:xe,pointerup:Ee,pointercancel:Te,pointerout:Te},Ve={2:Ce,3:"pen",4:_e,5:"kinect"},Ke="pointerdown",je="pointermove pointerup pointercancel";l.MSPointerEvent&&!l.PointerEvent&&(Ke="MSPointerDown",je="MSPointerMove MSPointerUp MSPointerCancel"),m(H,A,{handler:function(e){var t=this.store,n=!1,i=e.type.toLowerCase().replace("ms",""),a=He[i],r=Ve[e.pointerType]||e.pointerType,o=r==Ce,s=E(t,e.pointerId,"pointerId");a&Se&&(0===e.button||o)?0>s&&(t.push(e),s=t.length-1):a&(Ee|Te)&&(n=!0),0>s||(t[s]=e,this.callback(this.manager,a,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),n&&t.splice(s,1))}});var Fe={touchstart:Se,touchmove:xe,touchend:Ee,touchcancel:Te},ze="touchstart",We="touchstart touchmove touchend touchcancel";m(V,A,{handler:function(e){var t=Fe[e.type];if(t===Se&&(this.started=!0),this.started){var n=function(e,t){var n=T(e.touches),i=T(e.changedTouches);return t&(Ee|Te)&&(n=I(n.concat(i),"identifier",!0)),[n,i]}.call(this,e,t);t&(Ee|Te)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Ce,srcEvent:e})}}});var Ge={touchstart:Se,touchmove:xe,touchend:Ee,touchcancel:Te},Xe="touchstart touchmove touchend touchcancel";m(K,A,{handler:function(e){var t=Ge[e.type],n=function(e,t){var n=T(e.touches),i=this.targetIds;if(t&(Se|xe)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var a,r,o=T(e.changedTouches),s=[],l=this.target;if(r=n.filter(function(e){return b(e.target,l)}),t===Se)for(a=0;a<r.length;)i[r[a].identifier]=!0,a++;for(a=0;a<o.length;)i[o[a].identifier]&&s.push(o[a]),t&(Ee|Te)&&delete i[o[a].identifier],a++;return s.length?[I(r.concat(s),"identifier",!0),s]:void 0}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:Ce,srcEvent:e})}});var Ye=2500,qe=25;m(j,A,{handler:function(e,t,n){var i=n.pointerType==Ce,a=n.pointerType==_e;if(!(a&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)(function(e,t){e&Se?(this.primaryTouch=t.changedPointers[0].identifier,F.call(this,t)):e&(Ee|Te)&&F.call(this,t)}).call(this,t,n);else if(a&&function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var a=this.lastTouches[i],r=Math.abs(t-a.x),o=Math.abs(n-a.y);if(qe>=r&&qe>=o)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ze=P(ce.style,"touchAction"),Qe=Ze!==u,Je="compute",et="auto",tt="manipulation",nt="none",it="pan-x",at="pan-y",rt=function(){if(!Qe)return!1;var e={},t=l.CSS&&l.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){e[n]=!t||l.CSS.supports("touch-action",n)}),e}();z.prototype={set:function(e){e==Je&&(e=this.compute()),Qe&&this.manager.element.style&&rt[e]&&(this.manager.element.style[Ze]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return p(this.manager.recognizers,function(t){y(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(S(e,nt))return nt;var t=S(e,it),n=S(e,at);return t&&n?nt:t||n?t?it:at:S(e,tt)?tt:et}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(!this.manager.session.prevented){var i=this.actions,a=S(i,nt)&&!rt[nt],r=S(i,at)&&!rt[at],o=S(i,it)&&!rt[it];if(a){var s=1===e.pointers.length,l=e.distance<2,c=e.deltaTime<250;if(s&&l&&c)return}return o&&r?void 0:a||r&&n&ke||o&&n&Le?this.preventSrc(t):void 0}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var ot=1,st=2,lt=4,ct=8,dt=ct,ut=16;W.prototype={defaults:{},set:function(e){return se(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(h(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Y(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return h(e,"dropRecognizeWith",this)?this:(e=Y(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(h(e,"requireFailure",this))return this;var t=this.requireFail;return-1===E(t,e=Y(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(h(e,"dropRequireFailure",this))return this;e=Y(e,this);var t=E(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,i=this.state;ct>i&&t(n.options.event+G(i)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),i>=ct&&t(n.options.event+G(i))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=32)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|ot)))return!1;e++}return!0},recognize:function(e){var t=se({},e);return y(this.options.enable,[this,t])?(this.state&(dt|ut|32)&&(this.state=ot),this.state=this.process(t),void(this.state&(st|lt|ct|ut)&&this.tryEmit(t))):(this.reset(),void(this.state=32))},process:function(e){},getTouchAction:function(){},reset:function(){}},m(q,W,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,i=t&(st|lt),a=this.attrTest(e);return i&&(n&Te||!a)?t|ut:i||a?n&Ee?t|ct:t&st?t|lt:st:32}}),m(Z,q,{defaults:{event:"pan",threshold:10,pointers:1,direction:Me},getTouchAction:function(){var e=this.options.direction,t=[];return e&ke&&t.push(at),e&Le&&t.push(it),t},directionTest:function(e){var t=this.options,n=!0,i=e.distance,a=e.direction,r=e.deltaX,o=e.deltaY;return a&t.direction||(t.direction&ke?(a=0===r?Ie:0>r?Pe:$e,n=r!=this.pX,i=Math.abs(e.deltaX)):(a=0===o?Ie:0>o?Ae:Oe,n=o!=this.pY,i=Math.abs(e.deltaY))),e.direction=a,n&&i>t.threshold&&a&t.direction},attrTest:function(e){return q.prototype.attrTest.call(this,e)&&(this.state&st||!(this.state&st)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=X(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),m(Q,q,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[nt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&st)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),m(J,W,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[et]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,a=e.deltaTime>t.time;if(this._input=e,!i||!n||e.eventType&(Ee|Te)&&!a)this.reset();else if(e.eventType&Se)this.reset(),this._timer=f(function(){this.state=dt,this.tryEmit()},t.time,this);else if(e.eventType&Ee)return dt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===dt&&(e&&e.eventType&Ee?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=he(),this.manager.emit(this.options.event,this._input)))}}),m(ee,q,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[nt]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&st)}}),m(te,q,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:ke|Le,pointers:1},getTouchAction:function(){return Z.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(ke|Le)?t=e.overallVelocity:n&ke?t=e.overallVelocityX:n&Le&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&fe(t)>this.options.velocity&&e.eventType&Ee},emit:function(e){var t=X(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),m(ne,W,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[tt]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,i=e.distance<t.threshold,a=e.deltaTime<t.time;if(this.reset(),e.eventType&Se&&0===this.count)return this.failTimeout();if(i&&a&&n){if(e.eventType!=Ee)return this.failTimeout();var r=!this.pTime||e.timeStamp-this.pTime<t.interval,o=!this.pCenter||B(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,o&&r?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=f(function(){this.state=dt,this.tryEmit()},t.interval,this),st):dt}return 32},failTimeout:function(){return this._timer=f(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==dt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ie.VERSION="2.0.8",ie.defaults={domEvents:!1,touchAction:Je,enable:!0,inputTarget:null,inputClass:null,preset:[[ee,{enable:!1}],[Q,{enable:!1},["rotate"]],[te,{direction:ke}],[Z,{direction:ke},["swipe"]],[ne],[ne,{event:"doubletap",taps:2},["tap"]],[J]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ae.prototype={set:function(e){return se(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,i=this.recognizers,a=t.curRecognizer;(!a||a&&a.state&dt)&&(a=t.curRecognizer=null);for(var r=0;r<i.length;)n=i[r],2===t.stopped||a&&n!=a&&!n.canRecognizeWith(a)?n.reset():n.recognize(e),!a&&n.state&(st|lt|ct)&&(a=t.curRecognizer=n),r++}},get:function(e){if(e instanceof W)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(h(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(h(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=E(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(e!==u&&t!==u){var n=this.handlers;return p(x(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this}},off:function(e,t){if(e!==u){var n=this.handlers;return p(x(e),function(e){t?n[e]&&n[e].splice(E(n[e],t),1):delete n[e]}),this}},emit:function(e,t){this.options.domEvents&&oe(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var i=0;i<n.length;)n[i](t),i++}},destroy:function(){this.element&&re(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},se(ie,{INPUT_START:Se,INPUT_MOVE:xe,INPUT_END:Ee,INPUT_CANCEL:Te,STATE_POSSIBLE:ot,STATE_BEGAN:st,STATE_CHANGED:lt,STATE_ENDED:ct,STATE_RECOGNIZED:dt,STATE_CANCELLED:ut,STATE_FAILED:32,DIRECTION_NONE:Ie,DIRECTION_LEFT:Pe,DIRECTION_RIGHT:$e,DIRECTION_UP:Ae,DIRECTION_DOWN:Oe,DIRECTION_HORIZONTAL:ke,DIRECTION_VERTICAL:Le,DIRECTION_ALL:Me,Manager:ae,Input:A,TouchAction:z,TouchInput:K,MouseInput:U,PointerEventInput:H,TouchMouseInput:j,SingleTouchInput:V,Recognizer:W,AttrRecognizer:q,Tap:ne,Pan:Z,Swipe:te,Pinch:Q,Rotate:ee,Press:J,on:C,off:_,each:p,merge:ge,extend:pe,assign:se,inherit:m,bindFn:v,prefixed:P}),(void 0!==l?l:"undefined"!=typeof self?self:{}).Hammer=ie,void 0===(i=function(){return ie}.call(t,n,t,e))||(e.exports=i)}(window,document)},function(e,t,n){"use strict";(function(i){var a,r,o=n(36),s=(r=o)&&r.__esModule?r:{default:r};var l=void 0!==e&&e.exports&&void 0!==i?i:window;(l._gsQueue||(l._gsQueue=[])).push(function(){var e,t,n,i,a,r,o,c,d,u,f,h,p,g,m,v;l._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var i=function(e){var t,n=[],i=e.length;for(t=0;t!==i;n.push(e[t++]));return n},a=function(e,t,n){var i,a,r=e.cycle;for(i in r)a=r[i],e[i]="function"==typeof a?a(n,t[n]):a[n%a.length];delete e.cycle},r=function e(t,i,a){n.call(this,t,i,a),this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=e.prototype.render},o=1e-10,s=n._internals,l=s.isSelector,c=s.isArray,d=r.prototype=n.to({},.1,{}),u=[];r.version="1.19.0",d.constructor=r,d.kill()._gc=!1,r.killTweensOf=r.killDelayedCallsTo=n.killTweensOf,r.getTweensOf=n.getTweensOf,r.lagSmoothing=n.lagSmoothing,r.ticker=n.ticker,r.render=n.render,d.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),n.prototype.invalidate.call(this)},d.updateTo=function(e,t){var i,a=this.ratio,r=this.vars.immediateRender||e.immediateRender;for(i in t&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay)),e)this.vars[i]=e[i];if(this._initted||r)if(t)this._initted=!1,r&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&n._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var o=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(o,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||r)for(var s,l=1/(1-a),c=this._firstPT;c;)s=c.s+c.c,c.c*=l,c.s=s-c.c,c=c._next;return this},d.render=function(e,t,n){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var i,a,r,l,c,d,u,f,h=this._dirty?this.totalDuration():this._totalDuration,p=this._time,g=this._totalTime,m=this._cycle,v=this._duration,y=this._rawPrevTime;if(e>=h-1e-7?(this._totalTime=h,this._cycle=this._repeat,this._yoyo&&0!=(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=v,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(i=!0,a="onComplete",n=n||this._timeline.autoRemoveChildren),0===v&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(0>y||0>=e&&e>=-1e-7||y===o&&"isPause"!==this.data)&&y!==e&&(n=!0,y>o&&(a="onReverseComplete")),this._rawPrevTime=f=!t||e||y===e?e:o)):1e-7>e?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==g||0===v&&y>0)&&(a="onReverseComplete",i=this._reversed),0>e&&(this._active=!1,0===v&&(this._initted||!this.vars.lazy||n)&&(y>=0&&(n=!0),this._rawPrevTime=f=!t||e||y===e?e:o)),this._initted||(n=!0)):(this._totalTime=this._time=e,0!==this._repeat&&(l=v+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&e>=g&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!=(1&this._cycle)&&(this._time=v-this._time),this._time>v?this._time=v:this._time<0&&(this._time=0)),this._easeType?(c=this._time/v,(1===(d=this._easeType)||3===d&&c>=.5)&&(c=1-c),3===d&&(c*=2),1===(u=this._easePower)?c*=c:2===u?c*=c*c:3===u?c*=c*c*c:4===u&&(c*=c*c*c*c),1===d?this.ratio=1-c:2===d?this.ratio=c:this._time/v<.5?this.ratio=c/2:this.ratio=1-c/2):this.ratio=this._ease.getRatio(this._time/v)),p!==this._time||n||m!==this._cycle){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=p,this._totalTime=g,this._rawPrevTime=y,this._cycle=m,s.lazyTweens.push(this),void(this._lazy=[e,t]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/v):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==p&&e>=0&&(this._active=!0),0===g&&(2===this._initted&&e>0&&this._init(),this._startAt&&(e>=0?this._startAt.render(e,t,n):a||(a="_dummyGS")),this.vars.onStart&&(0!==this._totalTime||0===v)&&(t||this._callback("onStart"))),r=this._firstPT;r;)r.f?r.t[r.p](r.c*this.ratio+r.s):r.t[r.p]=r.c*this.ratio+r.s,r=r._next;this._onUpdate&&(0>e&&this._startAt&&this._startTime&&this._startAt.render(e,t,n),t||(this._totalTime!==g||a)&&this._callback("onUpdate")),this._cycle!==m&&(t||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),a&&(!this._gc||n)&&(0>e&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(e,t,n),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[a]&&this._callback(a),0===v&&this._rawPrevTime===o&&f!==o&&(this._rawPrevTime=0))}else g!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate"))},r.to=function(e,t,n){return new r(e,t,n)},r.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new r(e,t,n)},r.fromTo=function(e,t,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new r(e,t,i)},r.staggerTo=r.allTo=function(e,t,o,s,d,f,h){s=s||0;var p,g,m,v,y=0,w=[],C=function(){o.onComplete&&o.onComplete.apply(o.onCompleteScope||this,arguments),d.apply(h||o.callbackScope||this,f||u)},_=o.cycle,b=o.startAt&&o.startAt.cycle;for(c(e)||("string"==typeof e&&(e=n.selector(e)||e),l(e)&&(e=i(e))),e=e||[],0>s&&((e=i(e)).reverse(),s*=-1),p=e.length-1,m=0;p>=m;m++){for(v in g={},o)g[v]=o[v];if(_&&(a(g,e,m),null!=g.duration&&(t=g.duration,delete g.duration)),b){for(v in b=g.startAt={},o.startAt)b[v]=o.startAt[v];a(g.startAt,e,m)}g.delay=y+(g.delay||0),m===p&&d&&(g.onComplete=C),w[m]=new r(e[m],t,g),y+=s}return w},r.staggerFrom=r.allFrom=function(e,t,n,i,a,o,s){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,r.staggerTo(e,t,n,i,a,o,s)},r.staggerFromTo=r.allFromTo=function(e,t,n,i,a,o,s,l){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,r.staggerTo(e,t,i,a,o,s,l)},r.delayedCall=function(e,t,n,i,a){return new r(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:i,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,useFrames:a,overwrite:0})},r.set=function(e,t){return new r(e,0,t)},r.isTweening=function(e){return n.getTweensOf(e,!0).length>0};var f=function e(t,i){for(var a=[],r=0,o=t._first;o;)o instanceof n?a[r++]=o:(i&&(a[r++]=o),r=(a=a.concat(e(o,i))).length),o=o._next;return a},h=r.getAllTweens=function(t){return f(e._rootTimeline,t).concat(f(e._rootFramesTimeline,t))};r.killAll=function(e,n,i,a){null==n&&(n=!0),null==i&&(i=!0);var r,o,s,l=h(0!=a),c=l.length,d=n&&i&&a;for(s=0;c>s;s++)o=l[s],(d||o instanceof t||(r=o.target===o.vars.onComplete)&&i||n&&!r)&&(e?o.totalTime(o._reversed?0:o.totalDuration()):o._enabled(!1,!1))},r.killChildTweensOf=function(e,t){if(null!=e){var a,o,d,u,f,h=s.tweenLookup;if("string"==typeof e&&(e=n.selector(e)||e),l(e)&&(e=i(e)),c(e))for(u=e.length;--u>-1;)r.killChildTweensOf(e[u],t);else{for(d in a=[],h)for(o=h[d].target.parentNode;o;)o===e&&(a=a.concat(h[d].tweens)),o=o.parentNode;for(f=a.length,u=0;f>u;u++)t&&a[u].totalTime(a[u].totalDuration()),a[u]._enabled(!1,!1)}}};var p=function(e,n,i,a){n=!1!==n,i=!1!==i;for(var r,o,s=h(a=!1!==a),l=n&&i&&a,c=s.length;--c>-1;)o=s[c],(l||o instanceof t||(r=o.target===o.vars.onComplete)&&i||n&&!r)&&o.paused(e)};return r.pauseAll=function(e,t,n){p(!0,e,t,n)},r.resumeAll=function(e,t,n){p(!1,e,t,n)},r.globalTimeScale=function(t){var i=e._rootTimeline,a=n.ticker.time;return arguments.length?(t=t||o,i._startTime=a-(a-i._startTime)*i._timeScale/t,i=e._rootFramesTimeline,a=n.ticker.frame,i._startTime=a-(a-i._startTime)*i._timeScale/t,i._timeScale=e._rootTimeline._timeScale=t,t):i._timeScale},d.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()},d.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()},d.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},d.duration=function(t){return arguments.length?e.prototype.duration.call(this,t):this._duration},d.totalDuration=function(e){return arguments.length?-1===this._repeat?this:this.duration((e-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},d.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},d.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},d.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},r},!0),l._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(e,t,n){var i=function(e){t.call(this,e),this._labels={},this.autoRemoveChildren=!0===this.vars.autoRemoveChildren,this.smoothChildTiming=!0===this.vars.smoothChildTiming,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var n,i,a=this.vars;for(i in a)n=a[i],c(n)&&-1!==n.join("").indexOf("{self}")&&(a[i]=this._swapSelfInParams(n));c(a.tweens)&&this.add(a.tweens,0,a.align,a.stagger)},a=1e-10,r=n._internals,o=i._internals={},s=r.isSelector,c=r.isArray,d=r.lazyTweens,u=r.lazyRender,f=l._gsDefine.globals,h=function(e){var t,n={};for(t in e)n[t]=e[t];return n},p=function(e,t,n){var i,a,r=e.cycle;for(i in r)a=r[i],e[i]="function"==typeof a?a.call(t[n],n):a[n%a.length];delete e.cycle},g=o.pauseCallback=function(){},m=function(e){var t,n=[],i=e.length;for(t=0;t!==i;n.push(e[t++]));return n},v=i.prototype=new t;return i.version="1.19.0",v.constructor=i,v.kill()._gc=v._forcingPlayhead=v._hasPause=!1,v.to=function(e,t,i,a){var r=i.repeat&&f.TweenMax||n;return t?this.add(new r(e,t,i),a):this.set(e,i,a)},v.from=function(e,t,i,a){return this.add((i.repeat&&f.TweenMax||n).from(e,t,i),a)},v.fromTo=function(e,t,i,a,r){var o=a.repeat&&f.TweenMax||n;return t?this.add(o.fromTo(e,t,i,a),r):this.set(e,a,r)},v.staggerTo=function(e,t,a,r,o,l,c,d){var u,f,g=new i({onComplete:l,onCompleteParams:c,callbackScope:d,smoothChildTiming:this.smoothChildTiming}),v=a.cycle;for("string"==typeof e&&(e=n.selector(e)||e),s(e=e||[])&&(e=m(e)),0>(r=r||0)&&((e=m(e)).reverse(),r*=-1),f=0;f<e.length;f++)(u=h(a)).startAt&&(u.startAt=h(u.startAt),u.startAt.cycle&&p(u.startAt,e,f)),v&&(p(u,e,f),null!=u.duration&&(t=u.duration,delete u.duration)),g.to(e[f],t,u,f*r);return this.add(g,o)},v.staggerFrom=function(e,t,n,i,a,r,o,s){return n.immediateRender=0!=n.immediateRender,n.runBackwards=!0,this.staggerTo(e,t,n,i,a,r,o,s)},v.staggerFromTo=function(e,t,n,i,a,r,o,s,l){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,this.staggerTo(e,t,i,a,r,o,s,l)},v.call=function(e,t,i,a){return this.add(n.delayedCall(0,e,t,i),a)},v.set=function(e,t,i){return i=this._parseTimeOrLabel(i,0,!0),null==t.immediateRender&&(t.immediateRender=i===this._time&&!this._paused),this.add(new n(e,0,t),i)},i.exportRoot=function(e,t){null==(e=e||{}).smoothChildTiming&&(e.smoothChildTiming=!0);var a,r,o=new i(e),s=o._timeline;for(null==t&&(t=!0),s._remove(o,!0),o._startTime=0,o._rawPrevTime=o._time=o._totalTime=s._time,a=s._first;a;)r=a._next,t&&a instanceof n&&a.target===a.vars.onComplete||o.add(a,a._startTime-a._delay),a=r;return s.add(o,0),o},v.add=function(a,r,o,s){var l,d,u,f,h,p;if("number"!=typeof r&&(r=this._parseTimeOrLabel(r,0,!0,a)),!(a instanceof e)){if(a instanceof Array||a&&a.push&&c(a)){for(o=o||"normal",s=s||0,l=r,d=a.length,u=0;d>u;u++)c(f=a[u])&&(f=new i({tweens:f})),this.add(f,l),"string"!=typeof f&&"function"!=typeof f&&("sequence"===o?l=f._startTime+f.totalDuration()/f._timeScale:"start"===o&&(f._startTime-=f.delay())),l+=s;return this._uncache(!0)}if("string"==typeof a)return this.addLabel(a,r);if("function"!=typeof a)throw"Cannot add "+a+" into the timeline; it is not a tween, timeline, function, or string.";a=n.delayedCall(0,a)}if(t.prototype.add.call(this,a,r),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(p=(h=this).rawTime()>a._startTime;h._timeline;)p&&h._timeline.smoothChildTiming?h.totalTime(h._totalTime,!0):h._gc&&h._enabled(!0,!1),h=h._timeline;return this},v.remove=function(t){if(t instanceof e){this._remove(t,!1);var n=t._timeline=t.vars.useFrames?e._rootFramesTimeline:e._rootTimeline;return t._startTime=(t._paused?t._pauseTime:n._time)-(t._reversed?t.totalDuration()-t._totalTime:t._totalTime)/t._timeScale,this}if(t instanceof Array||t&&t.push&&c(t)){for(var i=t.length;--i>-1;)this.remove(t[i]);return this}return"string"==typeof t?this.removeLabel(t):this.kill(null,t)},v._remove=function(e,n){t.prototype._remove.call(this,e,n);var i=this._last;return i?this._time>i._startTime+i._totalDuration/i._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},v.append=function(e,t){return this.add(e,this._parseTimeOrLabel(null,t,!0,e))},v.insert=v.insertMultiple=function(e,t,n,i){return this.add(e,t||0,n,i)},v.appendMultiple=function(e,t,n,i){return this.add(e,this._parseTimeOrLabel(null,t,!0,e),n,i)},v.addLabel=function(e,t){return this._labels[e]=this._parseTimeOrLabel(t),this},v.addPause=function(e,t,i,a){var r=n.delayedCall(0,g,i,a||this);return r.vars.onComplete=r.vars.onReverseComplete=t,r.data="isPause",this._hasPause=!0,this.add(r,e)},v.removeLabel=function(e){return delete this._labels[e],this},v.getLabelTime=function(e){return null!=this._labels[e]?this._labels[e]:-1},v._parseTimeOrLabel=function(t,n,i,a){var r;if(a instanceof e&&a.timeline===this)this.remove(a);else if(a&&(a instanceof Array||a.push&&c(a)))for(r=a.length;--r>-1;)a[r]instanceof e&&a[r].timeline===this&&this.remove(a[r]);if("string"==typeof n)return this._parseTimeOrLabel(n,i&&"number"==typeof t&&null==this._labels[n]?t-this.duration():0,i);if(n=n||0,"string"!=typeof t||!isNaN(t)&&null==this._labels[t])null==t&&(t=this.duration());else{if(-1===(r=t.indexOf("=")))return null==this._labels[t]?i?this._labels[t]=this.duration()+n:n:this._labels[t]+n;n=parseInt(t.charAt(r-1)+"1",10)*Number(t.substr(r+1)),t=r>1?this._parseTimeOrLabel(t.substr(0,r-1),0,i):this.duration()}return Number(t)+n},v.seek=function(e,t){return this.totalTime("number"==typeof e?e:this._parseTimeOrLabel(e),!1!==t)},v.stop=function(){return this.paused(!0)},v.gotoAndPlay=function(e,t){return this.play(e,t)},v.gotoAndStop=function(e,t){return this.pause(e,t)},v.render=function(e,t,n){this._gc&&this._enabled(!0,!1);var i,r,o,s,l,c,f,h=this._dirty?this.totalDuration():this._totalDuration,p=this._time,g=this._startTime,m=this._timeScale,v=this._paused;if(e>=h-1e-7)this._totalTime=this._time=h,this._reversed||this._hasPausedChild()||(r=!0,s="onComplete",l=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=e&&e>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===a)&&this._rawPrevTime!==e&&this._first&&(l=!0,this._rawPrevTime>a&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:a,e=h+1e-4;else if(1e-7>e)if(this._totalTime=this._time=0,(0!==p||0===this._duration&&this._rawPrevTime!==a&&(this._rawPrevTime>0||0>e&&this._rawPrevTime>=0))&&(s="onReverseComplete",r=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(l=r=!0,s="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(l=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:a,0===e&&r)for(i=this._first;i&&0===i._startTime;)i._duration||(r=!1),i=i._next;e=0,this._initted||(l=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!t){if(e>=p)for(i=this._first;i&&i._startTime<=e&&!c;)i._duration||"isPause"!==i.data||i.ratio||0===i._startTime&&0===this._rawPrevTime||(c=i),i=i._next;else for(i=this._last;i&&i._startTime>=e&&!c;)i._duration||"isPause"===i.data&&i._rawPrevTime>0&&(c=i),i=i._prev;c&&(this._time=e=c._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=e}if(this._time!==p&&this._first||n||l||c){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&e>0&&(this._active=!0),0===p&&this.vars.onStart&&(0===this._time&&this._duration||t||this._callback("onStart")),(f=this._time)>=p)for(i=this._first;i&&(o=i._next,f===this._time&&(!this._paused||v));)(i._active||i._startTime<=f&&!i._paused&&!i._gc)&&(c===i&&this.pause(),i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,n):i.render((e-i._startTime)*i._timeScale,t,n)),i=o;else for(i=this._last;i&&(o=i._prev,f===this._time&&(!this._paused||v));){if(i._active||i._startTime<=p&&!i._paused&&!i._gc){if(c===i){for(c=i._prev;c&&c.endTime()>this._time;)c.render(c._reversed?c.totalDuration()-(e-c._startTime)*c._timeScale:(e-c._startTime)*c._timeScale,t,n),c=c._prev;c=null,this.pause()}i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,n):i.render((e-i._startTime)*i._timeScale,t,n)}i=o}this._onUpdate&&(t||(d.length&&u(),this._callback("onUpdate"))),s&&(this._gc||(g===this._startTime||m!==this._timeScale)&&(0===this._time||h>=this.totalDuration())&&(r&&(d.length&&u(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[s]&&this._callback(s)))}},v._hasPausedChild=function(){for(var e=this._first;e;){if(e._paused||e instanceof i&&e._hasPausedChild())return!0;e=e._next}return!1},v.getChildren=function(e,t,i,a){a=a||-9999999999;for(var r=[],o=this._first,s=0;o;)o._startTime<a||(o instanceof n?!1!==t&&(r[s++]=o):(!1!==i&&(r[s++]=o),!1!==e&&(s=(r=r.concat(o.getChildren(!0,t,i))).length))),o=o._next;return r},v.getTweensOf=function(e,t){var i,a,r=this._gc,o=[],s=0;for(r&&this._enabled(!0,!0),a=(i=n.getTweensOf(e)).length;--a>-1;)(i[a].timeline===this||t&&this._contains(i[a]))&&(o[s++]=i[a]);return r&&this._enabled(!1,!0),o},v.recent=function(){return this._recent},v._contains=function(e){for(var t=e.timeline;t;){if(t===this)return!0;t=t.timeline}return!1},v.shiftChildren=function(e,t,n){n=n||0;for(var i,a=this._first,r=this._labels;a;)a._startTime>=n&&(a._startTime+=e),a=a._next;if(t)for(i in r)r[i]>=n&&(r[i]+=e);return this._uncache(!0)},v._kill=function(e,t){if(!e&&!t)return this._enabled(!1,!1);for(var n=t?this.getTweensOf(t):this.getChildren(!0,!0,!1),i=n.length,a=!1;--i>-1;)n[i]._kill(e,t)&&(a=!0);return a},v.clear=function(e){var t=this.getChildren(!1,!0,!0),n=t.length;for(this._time=this._totalTime=0;--n>-1;)t[n]._enabled(!1,!1);return!1!==e&&(this._labels={}),this._uncache(!0)},v.invalidate=function(){for(var t=this._first;t;)t.invalidate(),t=t._next;return e.prototype.invalidate.call(this)},v._enabled=function(e,n){if(e===this._gc)for(var i=this._first;i;)i._enabled(e,!0),i=i._next;return t.prototype._enabled.call(this,e,n)},v.totalTime=function(t,n,i){this._forcingPlayhead=!0;var a=e.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,a},v.duration=function(e){return arguments.length?(0!==this.duration()&&0!==e&&this.timeScale(this._duration/e),this):(this._dirty&&this.totalDuration(),this._duration)},v.totalDuration=function(e){if(!arguments.length){if(this._dirty){for(var t,n,i=0,a=this._last,r=999999999999;a;)t=a._prev,a._dirty&&a.totalDuration(),a._startTime>r&&this._sortChildren&&!a._paused?this.add(a,a._startTime-a._delay):r=a._startTime,a._startTime<0&&!a._paused&&(i-=a._startTime,this._timeline.smoothChildTiming&&(this._startTime+=a._startTime/this._timeScale),this.shiftChildren(-a._startTime,!1,-9999999999),r=0),(n=a._startTime+a._totalDuration/a._timeScale)>i&&(i=n),a=t;this._duration=this._totalDuration=i,this._dirty=!1}return this._totalDuration}return e&&this.totalDuration()?this.timeScale(this._totalDuration/e):this},v.paused=function(t){if(!t)for(var n=this._first,i=this._time;n;)n._startTime===i&&"isPause"===n.data&&(n._rawPrevTime=0),n=n._next;return e.prototype.paused.apply(this,arguments)},v.usesFrames=function(){for(var t=this._timeline;t._timeline;)t=t._timeline;return t===e._rootFramesTimeline},v.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},i},!0),l._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(e,t,n){var i=function(t){e.call(this,t),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=!0===this.vars.yoyo,this._dirty=!0},a=1e-10,r=t._internals,o=r.lazyTweens,s=r.lazyRender,c=l._gsDefine.globals,d=new n(null,null,1,0),u=i.prototype=new e;return u.constructor=i,u.kill()._gc=!1,i.version="1.19.0",u.invalidate=function(){return this._yoyo=!0===this.vars.yoyo,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),e.prototype.invalidate.call(this)},u.addCallback=function(e,n,i,a){return this.add(t.delayedCall(0,e,i,a),n)},u.removeCallback=function(e,t){if(e)if(null==t)this._kill(null,e);else for(var n=this.getTweensOf(e,!1),i=n.length,a=this._parseTimeOrLabel(t);--i>-1;)n[i]._startTime===a&&n[i]._enabled(!1,!1);return this},u.removePause=function(t){return this.removeCallback(e._internals.pauseCallback,t)},u.tweenTo=function(e,n){n=n||{};var i,a,r,o={ease:d,useFrames:this.usesFrames(),immediateRender:!1},s=n.repeat&&c.TweenMax||t;for(a in n)o[a]=n[a];return o.time=this._parseTimeOrLabel(e),i=Math.abs(Number(o.time)-this._time)/this._timeScale||.001,r=new s(this,i,o),o.onStart=function(){r.target.paused(!0),r.vars.time!==r.target.time()&&i===r.duration()&&r.duration(Math.abs(r.vars.time-r.target.time())/r.target._timeScale),n.onStart&&r._callback("onStart")},r},u.tweenFromTo=function(e,t,n){n=n||{},e=this._parseTimeOrLabel(e),n.startAt={onComplete:this.seek,onCompleteParams:[e],callbackScope:this},n.immediateRender=!1!==n.immediateRender;var i=this.tweenTo(t,n);return i.duration(Math.abs(i.vars.time-e)/this._timeScale||.001)},u.render=function(e,t,n){this._gc&&this._enabled(!0,!1);var i,r,l,c,d,u,f,h,p=this._dirty?this.totalDuration():this._totalDuration,g=this._duration,m=this._time,v=this._totalTime,y=this._startTime,w=this._timeScale,C=this._rawPrevTime,_=this._paused,b=this._cycle;if(e>=p-1e-7)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(r=!0,c="onComplete",d=!!this._timeline.autoRemoveChildren,0===this._duration&&(0>=e&&e>=-1e-7||0>C||C===a)&&C!==e&&this._first&&(d=!0,C>a&&(c="onReverseComplete"))),this._rawPrevTime=this._duration||!t||e||this._rawPrevTime===e?e:a,this._yoyo&&0!=(1&this._cycle)?this._time=e=0:(this._time=g,e=g+1e-4);else if(1e-7>e)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==m||0===g&&C!==a&&(C>0||0>e&&C>=0)&&!this._locked)&&(c="onReverseComplete",r=this._reversed),0>e)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(d=r=!0,c="onReverseComplete"):C>=0&&this._first&&(d=!0),this._rawPrevTime=e;else{if(this._rawPrevTime=g||!t||e||this._rawPrevTime===e?e:a,0===e&&r)for(i=this._first;i&&0===i._startTime;)i._duration||(r=!1),i=i._next;e=0,this._initted||(d=!0)}else if(0===g&&0>C&&(d=!0),this._time=this._rawPrevTime=e,this._locked||(this._totalTime=e,0!==this._repeat&&(u=g+this._repeatDelay,this._cycle=this._totalTime/u>>0,0!==this._cycle&&this._cycle===this._totalTime/u&&e>=v&&this._cycle--,this._time=this._totalTime-this._cycle*u,this._yoyo&&0!=(1&this._cycle)&&(this._time=g-this._time),this._time>g?(this._time=g,e=g+1e-4):this._time<0?this._time=e=0:e=this._time)),this._hasPause&&!this._forcingPlayhead&&!t){if((e=this._time)>=m)for(i=this._first;i&&i._startTime<=e&&!f;)i._duration||"isPause"!==i.data||i.ratio||0===i._startTime&&0===this._rawPrevTime||(f=i),i=i._next;else for(i=this._last;i&&i._startTime>=e&&!f;)i._duration||"isPause"===i.data&&i._rawPrevTime>0&&(f=i),i=i._prev;f&&(this._time=e=f._startTime,this._totalTime=e+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==b&&!this._locked){var S=this._yoyo&&0!=(1&b),x=S===(this._yoyo&&0!=(1&this._cycle)),E=this._totalTime,T=this._cycle,I=this._rawPrevTime,P=this._time;if(this._totalTime=b*g,this._cycle<b?S=!S:this._totalTime+=g,this._time=m,this._rawPrevTime=0===g?C-1e-4:C,this._cycle=b,this._locked=!0,m=S?0:g,this.render(m,t,0===g),t||this._gc||this.vars.onRepeat&&this._callback("onRepeat"),m!==this._time)return;if(x&&(m=S?g+1e-4:-1e-4,this.render(m,!0,!1)),this._locked=!1,this._paused&&!_)return;this._time=P,this._totalTime=E,this._cycle=T,this._rawPrevTime=I}if(this._time!==m&&this._first||n||d||f){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==v&&e>0&&(this._active=!0),0===v&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||t||this._callback("onStart")),(h=this._time)>=m)for(i=this._first;i&&(l=i._next,h===this._time&&(!this._paused||_));)(i._active||i._startTime<=this._time&&!i._paused&&!i._gc)&&(f===i&&this.pause(),i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,n):i.render((e-i._startTime)*i._timeScale,t,n)),i=l;else for(i=this._last;i&&(l=i._prev,h===this._time&&(!this._paused||_));){if(i._active||i._startTime<=m&&!i._paused&&!i._gc){if(f===i){for(f=i._prev;f&&f.endTime()>this._time;)f.render(f._reversed?f.totalDuration()-(e-f._startTime)*f._timeScale:(e-f._startTime)*f._timeScale,t,n),f=f._prev;f=null,this.pause()}i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,n):i.render((e-i._startTime)*i._timeScale,t,n)}i=l}this._onUpdate&&(t||(o.length&&s(),this._callback("onUpdate"))),c&&(this._locked||this._gc||(y===this._startTime||w!==this._timeScale)&&(0===this._time||p>=this.totalDuration())&&(r&&(o.length&&s(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[c]&&this._callback(c)))}else v!==this._totalTime&&this._onUpdate&&(t||this._callback("onUpdate"))},u.getActive=function(e,t,n){null==e&&(e=!0),null==t&&(t=!0),null==n&&(n=!1);var i,a,r=[],o=this.getChildren(e,t,n),s=0,l=o.length;for(i=0;l>i;i++)(a=o[i]).isActive()&&(r[s++]=a);return r},u.getLabelAfter=function(e){e||0!==e&&(e=this._time);var t,n=this.getLabelsArray(),i=n.length;for(t=0;i>t;t++)if(n[t].time>e)return n[t].name;return null},u.getLabelBefore=function(e){null==e&&(e=this._time);for(var t=this.getLabelsArray(),n=t.length;--n>-1;)if(t[n].time<e)return t[n].name;return null},u.getLabelsArray=function(){var e,t=[],n=0;for(e in this._labels)t[n++]={time:this._labels[e],name:e};return t.sort(function(e,t){return e.time-t.time}),t},u.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!=(1&this._cycle)?1-e:e)+this._cycle*(this._duration+this._repeatDelay),t):this._time/this.duration()},u.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._totalTime/this.totalDuration()},u.totalDuration=function(t){return arguments.length?-1!==this._repeat&&t?this.timeScale(this.totalDuration()/t):this:(this._dirty&&(e.prototype.totalDuration.call(this),this._totalDuration=-1===this._repeat?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},u.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),e>this._duration&&(e=this._duration),this._yoyo&&0!=(1&this._cycle)?e=this._duration-e+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(e+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(e,t)):this._time},u.repeat=function(e){return arguments.length?(this._repeat=e,this._uncache(!0)):this._repeat},u.repeatDelay=function(e){return arguments.length?(this._repeatDelay=e,this._uncache(!0)):this._repeatDelay},u.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},u.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.getLabelBefore(this._time+1e-8)},i},!0),e=180/Math.PI,t=[],n=[],i=[],a={},r=l._gsDefine.globals,o=function(e,t,n,i){n===i&&(n=i-(i-t)/1e6),e===t&&(t=e+(n-e)/1e6),this.a=e,this.b=t,this.c=n,this.d=i,this.da=i-e,this.ca=n-e,this.ba=t-e},c=function(e,t,n,i){var a={a:e},r={},o={},s={c:i},l=(e+t)/2,c=(t+n)/2,d=(n+i)/2,u=(l+c)/2,f=(c+d)/2,h=(f-u)/8;return a.b=l+(e-l)/4,r.b=u+h,a.c=r.a=(a.b+r.b)/2,r.c=o.a=(u+f)/2,o.b=f-h,s.b=d+(i-d)/4,o.c=s.a=(o.b+s.b)/2,[a,r,o,s]},d=function(e,a,r,o,s){var l,d,u,f,h,p,g,m,v,y,w,C,_,b=e.length-1,S=0,x=e[0].a;for(l=0;b>l;l++)d=(h=e[S]).a,u=h.d,f=e[S+1].d,s?(w=t[l],_=((C=n[l])+w)*a*.25/(o?.5:i[l]||.5),m=u-((p=u-(u-d)*(o?.5*a:0!==w?_/w:0))+(((g=u+(f-u)*(o?.5*a:0!==C?_/C:0))-p)*(3*w/(w+C)+.5)/4||0))):m=u-((p=u-(u-d)*a*.5)+(g=u+(f-u)*a*.5))/2,p+=m,g+=m,h.c=v=p,h.b=0!==l?x:x=h.a+.6*(h.c-h.a),h.da=u-d,h.ca=v-d,h.ba=x-d,r?(y=c(d,x,v,u),e.splice(S,1,y[0],y[1],y[2],y[3]),S+=4):S++,x=g;(h=e[S]).b=x,h.c=x+.4*(h.d-x),h.da=h.d-h.a,h.ca=h.c-h.a,h.ba=x-h.a,r&&(y=c(h.a,x,h.c,h.d),e.splice(S,1,y[0],y[1],y[2],y[3]))},u=function(e,i,a,r){var s,l,c,d,u,f,h=[];if(r)for(l=(e=[r].concat(e)).length;--l>-1;)"string"==typeof(f=e[l][i])&&"="===f.charAt(1)&&(e[l][i]=r[i]+Number(f.charAt(0)+f.substr(2)));if(0>(s=e.length-2))return h[0]=new o(e[0][i],0,0,e[-1>s?0:1][i]),h;for(l=0;s>l;l++)c=e[l][i],d=e[l+1][i],h[l]=new o(c,0,0,d),a&&(u=e[l+2][i],t[l]=(t[l]||0)+(d-c)*(d-c),n[l]=(n[l]||0)+(u-d)*(u-d));return h[l]=new o(e[l][i],0,0,e[l+1][i]),h},f=function(e,r,o,s,l,c){var f,h,p,g,m,v,y,w,C={},_=[],b=c||e[0];for(h in l="string"==typeof l?","+l+",":",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",null==r&&(r=1),e[0])_.push(h);if(e.length>1){for(w=e[e.length-1],y=!0,f=_.length;--f>-1;)if(h=_[f],Math.abs(b[h]-w[h])>.05){y=!1;break}y&&(e=e.concat(),c&&e.unshift(c),e.push(e[1]),c=e[e.length-3])}for(t.length=n.length=i.length=0,f=_.length;--f>-1;)h=_[f],a[h]=-1!==l.indexOf(","+h+","),C[h]=u(e,h,a[h],c);for(f=t.length;--f>-1;)t[f]=Math.sqrt(t[f]),n[f]=Math.sqrt(n[f]);if(!s){for(f=_.length;--f>-1;)if(a[h])for(v=(p=C[_[f]]).length-1,g=0;v>g;g++)m=p[g+1].da/n[g]+p[g].da/t[g]||0,i[g]=(i[g]||0)+m*m;for(f=i.length;--f>-1;)i[f]=Math.sqrt(i[f])}for(f=_.length,g=o?4:1;--f>-1;)p=C[h=_[f]],d(p,r,o,s,a[h]),y&&(p.splice(0,g),p.splice(p.length-g,g));return C},h=function(e,t,n){var i,a,r,s,l,c,d,u,f,h,p,g={},m="cubic"===(t=t||"soft")?3:2,v="soft"===t,y=[];if(v&&n&&(e=[n].concat(e)),null==e||e.length<m+1)throw"invalid Bezier data";for(f in e[0])y.push(f);for(c=y.length;--c>-1;){for(f=y[c],g[f]=l=[],h=0,u=e.length,d=0;u>d;d++)i=null==n?e[d][f]:"string"==typeof(p=e[d][f])&&"="===p.charAt(1)?n[f]+Number(p.charAt(0)+p.substr(2)):Number(p),v&&d>1&&u-1>d&&(l[h++]=(i+l[h-2])/2),l[h++]=i;for(u=h-m+1,h=0,d=0;u>d;d+=m)i=l[d],a=l[d+1],r=l[d+2],s=2===m?0:l[d+3],l[h++]=p=3===m?new o(i,a,r,s):new o(i,(2*a+i)/3,(2*a+r)/3,r);l.length=h}return g},p=function(e,t,n){for(var i,a,r,o,s,l,c,d,u,f,h,p=1/n,g=e.length;--g>-1;)for(r=(f=e[g]).a,o=f.d-r,s=f.c-r,l=f.b-r,i=a=0,d=1;n>=d;d++)i=a-(a=((c=p*d)*c*o+3*(u=1-c)*(c*s+u*l))*c),h=g*n+d-1,t[h]=(t[h]||0)+i*i},g=function(e,t){var n,i,a,r,o=[],s=[],l=0,c=0,d=(t=t>>0||6)-1,u=[],f=[];for(n in e)p(e[n],o,t);for(a=o.length,i=0;a>i;i++)l+=Math.sqrt(o[i]),f[r=i%t]=l,r===d&&(c+=l,u[r=i/t>>0]=f,s[r]=c,l=0,f=[]);return{length:c,lengths:s,segments:u}},m=l._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.7",API:2,global:!0,init:function(e,t,n){this._target=e,t instanceof Array&&(t={values:t}),this._func={},this._mod={},this._props=[],this._timeRes=null==t.timeResolution?6:parseInt(t.timeResolution,10);var i,a,r,o,s,l=t.values||[],c={},d=l[0],u=t.autoRotate||n.vars.orientToBezier;for(i in this._autoRotate=u?u instanceof Array?u:[["x","y","rotation",!0===u?0:Number(u)||0]]:null,d)this._props.push(i);for(r=this._props.length;--r>-1;)i=this._props[r],this._overwriteProps.push(i),a=this._func[i]="function"==typeof e[i],c[i]=a?e[i.indexOf("set")||"function"!=typeof e["get"+i.substr(3)]?i:"get"+i.substr(3)]():parseFloat(e[i]),s||c[i]!==l[0][i]&&(s=c);if(this._beziers="cubic"!==t.type&&"quadratic"!==t.type&&"soft"!==t.type?f(l,isNaN(t.curviness)?1:t.curviness,!1,"thruBasic"===t.type,t.correlate,s):h(l,t.type,c),this._segCount=this._beziers[i].length,this._timeRes){var p=g(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(u=this._autoRotate)for(this._initialRotations=[],u[0]instanceof Array||(this._autoRotate=u=[u]),r=u.length;--r>-1;){for(o=0;3>o;o++)i=u[r][o],this._func[i]="function"==typeof e[i]&&e[i.indexOf("set")||"function"!=typeof e["get"+i.substr(3)]?i:"get"+i.substr(3)];i=u[r][2],this._initialRotations[r]=(this._func[i]?this._func[i].call(this._target):this._target[i])||0,this._overwriteProps.push(i)}return this._startRatio=n.vars.runBackwards?1:0,!0},set:function(t){var n,i,a,r,o,s,l,c,d,u,f=this._segCount,h=this._func,p=this._target,g=t!==this._startRatio;if(this._timeRes){if(d=this._lengths,u=this._curSeg,t*=this._length,a=this._li,t>this._l2&&f-1>a){for(c=f-1;c>a&&(this._l2=d[++a])<=t;);this._l1=d[a-1],this._li=a,this._curSeg=u=this._segments[a],this._s2=u[this._s1=this._si=0]}else if(t<this._l1&&a>0){for(;a>0&&(this._l1=d[--a])>=t;);0===a&&t<this._l1?this._l1=0:a++,this._l2=d[a],this._li=a,this._curSeg=u=this._segments[a],this._s1=u[(this._si=u.length-1)-1]||0,this._s2=u[this._si]}if(n=a,t-=this._l1,a=this._si,t>this._s2&&a<u.length-1){for(c=u.length-1;c>a&&(this._s2=u[++a])<=t;);this._s1=u[a-1],this._si=a}else if(t<this._s1&&a>0){for(;a>0&&(this._s1=u[--a])>=t;);0===a&&t<this._s1?this._s1=0:a++,this._s2=u[a],this._si=a}s=(a+(t-this._s1)/(this._s2-this._s1))*this._prec||0}else s=(t-(n=0>t?0:t>=1?f-1:f*t>>0)*(1/f))*f;for(i=1-s,a=this._props.length;--a>-1;)r=this._props[a],l=(s*s*(o=this._beziers[r][n]).da+3*i*(s*o.ca+i*o.ba))*s+o.a,this._mod[r]&&(l=this._mod[r](l,p)),h[r]?p[r](l):p[r]=l;if(this._autoRotate){var m,v,y,w,C,_,b,S=this._autoRotate;for(a=S.length;--a>-1;)r=S[a][2],_=S[a][3]||0,b=!0===S[a][4]?1:e,o=this._beziers[S[a][0]],m=this._beziers[S[a][1]],o&&m&&(o=o[n],m=m[n],v=o.a+(o.b-o.a)*s,v+=((w=o.b+(o.c-o.b)*s)-v)*s,w+=(o.c+(o.d-o.c)*s-w)*s,y=m.a+(m.b-m.a)*s,y+=((C=m.b+(m.c-m.b)*s)-y)*s,C+=(m.c+(m.d-m.c)*s-C)*s,l=g?Math.atan2(C-y,w-v)*b+_:this._initialRotations[a],this._mod[r]&&(l=this._mod[r](l,p)),h[r]?p[r](l):p[r]=l)}}}),v=m.prototype,m.bezierThrough=f,m.cubicToQuadratic=c,m._autoCSS=!0,m.quadraticToCubic=function(e,t,n){return new o(e,(2*t+e)/3,(2*t+n)/3,n)},m._cssRegister=function(){var e=r.CSSPlugin;if(e){var t=e._internals,n=t._parseToProxy,i=t._setPluginRatio,a=t.CSSPropTween;t._registerComplexSpecialProp("bezier",{parser:function(e,t,r,o,s,l){t instanceof Array&&(t={values:t}),l=new m;var c,d,u,f=t.values,h=f.length-1,p=[],g={};if(0>h)return s;for(c=0;h>=c;c++)u=n(e,f[c],o,s,l,h!==c),p[c]=u.end;for(d in t)g[d]=t[d];return g.values=p,(s=new a(e,"bezier",0,0,u.pt,2)).data=u,s.plugin=l,s.setRatio=i,0===g.autoRotate&&(g.autoRotate=!0),!g.autoRotate||g.autoRotate instanceof Array||(c=!0===g.autoRotate?0:Number(g.autoRotate),g.autoRotate=null!=u.end.left?[["left","top","rotation",c,!1]]:null!=u.end.x&&[["x","y","rotation",c,!1]]),g.autoRotate&&(o._transform||o._enableTransforms(!1),u.autoRotate=o._target._gsTransform,u.proxy.rotation=u.autoRotate.rotation||0,o._overwriteProps.push("rotation")),l._onInitTween(u.proxy,g,o._tween),s}})}},v._mod=function(e){for(var t,n=this._overwriteProps,i=n.length;--i>-1;)(t=e[n[i]])&&"function"==typeof t&&(this._mod[n[i]]=t)},v._kill=function(e){var t,n,i=this._props;for(t in this._beziers)if(t in e)for(delete this._beziers[t],delete this._func[t],n=i.length;--n>-1;)i[n]===t&&i.splice(n,1);if(i=this._autoRotate)for(n=i.length;--n>-1;)e[i[n][2]]&&i.splice(n,1);return this._super._kill.call(this,e)},l._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(e,t){var n,i,a,r,o=function t(){e.call(this,"css"),this._overwriteProps.length=0,this.setRatio=t.prototype.setRatio},c=l._gsDefine.globals,d={},u=o.prototype=new e("css");u.constructor=o,o.version="1.19.0",o.API=2,o.defaultTransformPerspective=0,o.defaultSkewType="compensated",o.defaultSmoothOrigin=!0,o.suffixMap={top:u="px",right:u,bottom:u,left:u,width:u,height:u,fontSize:u,padding:u,margin:u,perspective:u,lineHeight:""};var f,h,p,g,m,v,y,w,C=/(?:\-|\.|\b)(\d|\.|e\-)+/g,_=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,b=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,S=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,x=/(?:\d|\-|\+|=|#|\.)*/g,E=/opacity *= *([^)]*)/i,T=/opacity:([^;]*)/i,I=/alpha\(opacity *=.+?\)/i,P=/^(rgb|hsl)/,$=/([A-Z])/g,A=/-([a-z])/gi,O=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,k=function(e,t){return t.toUpperCase()},L=/(?:Left|Right|Width)/i,M=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,D=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,N=/,(?=[^\)]*(?:\(|$))/gi,B=/[\s,\(]/i,R=Math.PI/180,U=180/Math.PI,H={},V=document,K=function(e){return V.createElementNS?V.createElementNS("http://www.w3.org/1999/xhtml",e):V.createElement(e)},j=K("div"),F=K("img"),z=o._internals={_specialProps:d},W=navigator.userAgent,G=function(){var e=W.indexOf("Android"),t=K("a");return p=-1!==W.indexOf("Safari")&&-1===W.indexOf("Chrome")&&(-1===e||Number(W.substr(e+8,1))>3),m=p&&Number(W.substr(W.indexOf("Version/")+8,1))<6,g=-1!==W.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(W)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(W))&&(v=parseFloat(RegExp.$1)),!!t&&(t.style.cssText="top:1px;opacity:.55;",/^0.55/.test(t.style.opacity))}(),X=function(e){return E.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1},Y=function(e){window.console&&console.log(e)},q="",Z="",Q=function(e,t){var n,i,a=(t=t||j).style;if(void 0!==a[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),n=["O","Moz","ms","Ms","Webkit"],i=5;--i>-1&&void 0===a[n[i]+e];);return i>=0?(q="-"+(Z=3===i?"ms":n[i]).toLowerCase()+"-",Z+e):null},J=V.defaultView?V.defaultView.getComputedStyle:function(){},ee=o.getStyle=function(e,t,n,i,a){var r;return G||"opacity"!==t?(!i&&e.style[t]?r=e.style[t]:(n=n||J(e))?r=n[t]||n.getPropertyValue(t)||n.getPropertyValue(t.replace($,"-$1").toLowerCase()):e.currentStyle&&(r=e.currentStyle[t]),null==a||r&&"none"!==r&&"auto"!==r&&"auto auto"!==r?r:a):X(e)},te=z.convertToPixels=function(e,n,i,a,r){if("px"===a||!a)return i;if("auto"===a||!i)return 0;var s,l,c,d=L.test(n),u=e,f=j.style,h=0>i,p=1===i;if(h&&(i=-i),p&&(i*=100),"%"===a&&-1!==n.indexOf("border"))s=i/100*(d?e.clientWidth:e.clientHeight);else{if(f.cssText="border:0 solid red;position:"+ee(e,"position")+";line-height:0;","%"!==a&&u.appendChild&&"v"!==a.charAt(0)&&"rem"!==a)f[d?"borderLeftWidth":"borderTopWidth"]=i+a;else{if(l=(u=e.parentNode||V.body)._gsCache,c=t.ticker.frame,l&&d&&l.time===c)return l.width*i/100;f[d?"width":"height"]=i+a}u.appendChild(j),s=parseFloat(j[d?"offsetWidth":"offsetHeight"]),u.removeChild(j),d&&"%"===a&&!1!==o.cacheWidths&&((l=u._gsCache=u._gsCache||{}).time=c,l.width=s/i*100),0!==s||r||(s=te(e,n,i,a,!0))}return p&&(s/=100),h?-s:s},ne=z.calculateOffset=function(e,t,n){if("absolute"!==ee(e,"position",n))return 0;var i="left"===t?"Left":"Top",a=ee(e,"margin"+i,n);return e["offset"+i]-(te(e,t,parseFloat(a),a.replace(x,""))||0)},ie=function(e,t){var n,i,a,r={};if(t=t||J(e,null))if(n=t.length)for(;--n>-1;)(-1===(a=t[n]).indexOf("-transform")||Ae===a)&&(r[a.replace(A,k)]=t.getPropertyValue(a));else for(n in t)(-1===n.indexOf("Transform")||$e===n)&&(r[n]=t[n]);else if(t=e.currentStyle||e.style)for(n in t)"string"==typeof n&&void 0===r[n]&&(r[n.replace(A,k)]=t[n]);return G||(r.opacity=X(e)),i=Ke(e,t,!1),r.rotation=i.rotation,r.skewX=i.skewX,r.scaleX=i.scaleX,r.scaleY=i.scaleY,r.x=i.x,r.y=i.y,ke&&(r.z=i.z,r.rotationX=i.rotationX,r.rotationY=i.rotationY,r.scaleZ=i.scaleZ),r.filters&&delete r.filters,r},ae=function(e,t,n,i,a){var r,o,s,l={},c=e.style;for(o in n)"cssText"!==o&&"length"!==o&&isNaN(o)&&(t[o]!==(r=n[o])||a&&a[o])&&-1===o.indexOf("Origin")&&("number"==typeof r||"string"==typeof r)&&(l[o]="auto"!==r||"left"!==o&&"top"!==o?""!==r&&"auto"!==r&&"none"!==r||"string"!=typeof t[o]||""===t[o].replace(S,"")?r:0:ne(e,o),void 0!==c[o]&&(s=new we(c,o,c[o],s)));if(i)for(o in i)"className"!==o&&(l[o]=i[o]);return{difs:l,firstMPT:s}},re={width:["Left","Right"],height:["Top","Bottom"]},oe=["marginLeft","marginRight","marginTop","marginBottom"],se=function(e,t,n){if("svg"===(e.nodeName+"").toLowerCase())return(n||J(e))[t]||0;if(e.getBBox&&Ue(e))return e.getBBox()[t]||0;var i=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),a=re[t],r=a.length;for(n=n||J(e,null);--r>-1;)i-=parseFloat(ee(e,"padding"+a[r],n,!0))||0,i-=parseFloat(ee(e,"border"+a[r]+"Width",n,!0))||0;return i},le=function e(t,n){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";(null==t||""===t)&&(t="0 0");var i,a=t.split(" "),r=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":a[0],o=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":a[1];if(a.length>3&&!n){for(a=t.split(", ").join(",").split(","),t=[],i=0;i<a.length;i++)t.push(e(a[i]));return t.join(",")}return null==o?o="center"===r?"50%":"0":"center"===o&&(o="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),t=r+" "+o+(a.length>2?" "+a[2]:""),n&&(n.oxp=-1!==r.indexOf("%"),n.oyp=-1!==o.indexOf("%"),n.oxr="="===r.charAt(1),n.oyr="="===o.charAt(1),n.ox=parseFloat(r.replace(S,"")),n.oy=parseFloat(o.replace(S,"")),n.v=t),n||t},ce=function(e,t){return"function"==typeof e&&(e=e(w,y)),"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)||0},de=function(e,t){return"function"==typeof e&&(e=e(w,y)),null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2))+t:parseFloat(e)||0},ue=function(e,t,n,i){var a,r,o,s,l;return"function"==typeof e&&(e=e(w,y)),null==e?s=t:"number"==typeof e?s=e:(a=360,r=e.split("_"),o=((l="="===e.charAt(1))?parseInt(e.charAt(0)+"1",10)*parseFloat(r[0].substr(2)):parseFloat(r[0]))*(-1===e.indexOf("rad")?1:U)-(l?0:t),r.length&&(i&&(i[n]=t+o),-1!==e.indexOf("short")&&((o%=a)!==o%180&&(o=0>o?o+a:o-a)),-1!==e.indexOf("_cw")&&0>o?o=(o+9999999999*a)%a-(o/a|0)*a:-1!==e.indexOf("ccw")&&o>0&&(o=(o-9999999999*a)%a-(o/a|0)*a)),s=t+o),1e-6>s&&s>-1e-6&&(s=0),s},fe={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},he=function(e,t,n){return 255*(1>6*(e=0>e?e+1:e>1?e-1:e)?t+(n-t)*e*6:.5>e?n:2>3*e?t+(n-t)*(2/3-e)*6:t)+.5|0},pe=o.parseColor=function(e,t){var n,i,a,r,o,s,l,c,d,u,f;if(e)if("number"==typeof e)n=[e>>16,e>>8&255,255&e];else{if(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),fe[e])n=fe[e];else if("#"===e.charAt(0))4===e.length&&(e="#"+(i=e.charAt(1))+i+(a=e.charAt(2))+a+(r=e.charAt(3))+r),n=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(n=f=e.match(C),t){if(-1!==e.indexOf("="))return e.match(_)}else o=Number(n[0])%360/360,s=Number(n[1])/100,i=2*(l=Number(n[2])/100)-(a=.5>=l?l*(s+1):l+s-l*s),n.length>3&&(n[3]=Number(e[3])),n[0]=he(o+1/3,i,a),n[1]=he(o,i,a),n[2]=he(o-1/3,i,a);else n=e.match(C)||fe.transparent;n[0]=Number(n[0]),n[1]=Number(n[1]),n[2]=Number(n[2]),n.length>3&&(n[3]=Number(n[3]))}else n=fe.black;return t&&!f&&(i=n[0]/255,a=n[1]/255,r=n[2]/255,l=((c=Math.max(i,a,r))+(d=Math.min(i,a,r)))/2,c===d?o=s=0:(u=c-d,s=l>.5?u/(2-c-d):u/(c+d),o=c===i?(a-r)/u+(r>a?6:0):c===a?(r-i)/u+2:(i-a)/u+4,o*=60),n[0]=o+.5|0,n[1]=100*s+.5|0,n[2]=100*l+.5|0),n},ge=function(e,t){var n,i,a,r=e.match(me)||[],o=0,s=r.length?"":e;for(n=0;n<r.length;n++)i=r[n],o+=(a=e.substr(o,e.indexOf(i,o)-o)).length+i.length,3===(i=pe(i,t)).length&&i.push(1),s+=a+(t?"hsla("+i[0]+","+i[1]+"%,"+i[2]+"%,"+i[3]:"rgba("+i.join(","))+")";return s+e.substr(o)},me="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(u in fe)me+="|"+u+"\\b";me=new RegExp(me+")","gi"),o.colorStringFilter=function(e){var t,n=e[0]+e[1];me.test(n)&&(t=-1!==n.indexOf("hsl(")||-1!==n.indexOf("hsla("),e[0]=ge(e[0],t),e[1]=ge(e[1],t)),me.lastIndex=0},t.defaultStringFilter||(t.defaultStringFilter=o.colorStringFilter);var ve=function(e,t,n,i){if(null==e)return function(e){return e};var a,r=t?(e.match(me)||[""])[0]:"",o=e.split(r).join("").match(b)||[],s=e.substr(0,e.indexOf(o[0])),l=")"===e.charAt(e.length-1)?")":"",c=-1!==e.indexOf(" ")?" ":",",d=o.length,u=d>0?o[0].replace(C,""):"";return d?a=t?function(e){var t,f,h,p;if("number"==typeof e)e+=u;else if(i&&N.test(e)){for(p=e.replace(N,"|").split("|"),h=0;h<p.length;h++)p[h]=a(p[h]);return p.join(",")}if(t=(e.match(me)||[r])[0],h=(f=e.split(t).join("").match(b)||[]).length,d>h--)for(;++h<d;)f[h]=n?f[(h-1)/2|0]:o[h];return s+f.join(c)+c+t+l+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,r,f;if("number"==typeof e)e+=u;else if(i&&N.test(e)){for(r=e.replace(N,"|").split("|"),f=0;f<r.length;f++)r[f]=a(r[f]);return r.join(",")}if(f=(t=e.match(b)||[]).length,d>f--)for(;++f<d;)t[f]=n?t[(f-1)/2|0]:o[f];return s+t.join(c)+l}:function(e){return e}},ye=function(e){return e=e.split(","),function(t,n,i,a,r,o,s){var l,c=(n+"").split(" ");for(s={},l=0;4>l;l++)s[e[l]]=c[l]=c[l]||c[(l-1)/2>>0];return a.parse(t,s,r,o)}},we=(z._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,n,i,a,r,o=this.data,s=o.proxy,l=o.firstMPT;l;)t=s[l.v],l.r?t=Math.round(t):1e-6>t&&t>-1e-6&&(t=0),l.t[l.p]=t,l=l._next;if(o.autoRotate&&(o.autoRotate.rotation=o.mod?o.mod(s.rotation,this.t):s.rotation),1===e||0===e)for(l=o.firstMPT,r=1===e?"e":"b";l;){if((n=l.t).type){if(1===n.type){for(a=n.xs0+n.s+n.xs1,i=1;i<n.l;i++)a+=n["xn"+i]+n["xs"+(i+1)];n[r]=a}}else n[r]=n.s+n.xs0;l=l._next}},function(e,t,n,i,a){this.t=e,this.p=t,this.v=n,this.r=a,i&&(i._prev=this,this._next=i)}),Ce=(z._parseToProxy=function(e,t,n,i,a,r){var o,s,l,c,d,u=i,f={},h={},p=n._transform,g=H;for(n._transform=null,H=t,i=d=n.parse(e,t,i,a),H=g,r&&(n._transform=p,u&&(u._prev=null,u._prev&&(u._prev._next=null)));i&&i!==u;){if(i.type<=1&&(h[s=i.p]=i.s+i.c,f[s]=i.s,r||(c=new we(i,"s",s,c,i.r),i.c=0),1===i.type))for(o=i.l;--o>0;)l="xn"+o,h[s=i.p+"_"+l]=i.data[l],f[s]=i[l],r||(c=new we(i,l,s,c,i.rxp[l]));i=i._next}return{proxy:f,end:h,firstMPT:c,pt:d}},z.CSSPropTween=function(e,t,i,a,o,s,l,c,d,u,f){this.t=e,this.p=t,this.s=i,this.c=a,this.n=l||t,e instanceof Ce||r.push(this.n),this.r=c,this.type=s||0,d&&(this.pr=d,n=!0),this.b=void 0===u?i:u,this.e=void 0===f?i+a:f,o&&(this._next=o,o._prev=this)}),_e=function(e,t,n,i,a,r){var o=new Ce(e,t,n,i-n,a,-1,r);return o.b=n,o.e=o.xs0=i,o},be=o.parseComplex=function(e,t,n,i,a,r,s,l,c,d){n=n||r||"","function"==typeof i&&(i=i(w,y)),s=new Ce(e,t,0,0,s,d?2:1,null,!1,l,n,i),i+="",a&&me.test(i+n)&&(o.colorStringFilter(i=[n,i]),n=i[0],i=i[1]);var u,h,p,g,m,v,b,S,x,E,T,I,P,$=n.split(", ").join(",").split(" "),A=i.split(", ").join(",").split(" "),O=$.length,k=!1!==f;for((-1!==i.indexOf(",")||-1!==n.indexOf(","))&&($=$.join(" ").replace(N,", ").split(" "),A=A.join(" ").replace(N,", ").split(" "),O=$.length),O!==A.length&&(O=($=(r||"").split(" ")).length),s.plugin=c,s.setRatio=d,me.lastIndex=0,u=0;O>u;u++)if(g=$[u],m=A[u],(S=parseFloat(g))||0===S)s.appendXtra("",S,ce(m,S),m.replace(_,""),k&&-1!==m.indexOf("px"),!0);else if(a&&me.test(g))I=")"+((I=m.indexOf(")")+1)?m.substr(I):""),P=-1!==m.indexOf("hsl")&&G,g=pe(g,P),m=pe(m,P),(x=g.length+m.length>6)&&!G&&0===m[3]?(s["xs"+s.l]+=s.l?" transparent":"transparent",s.e=s.e.split(A[u]).join("transparent")):(G||(x=!1),P?s.appendXtra(x?"hsla(":"hsl(",g[0],ce(m[0],g[0]),",",!1,!0).appendXtra("",g[1],ce(m[1],g[1]),"%,",!1).appendXtra("",g[2],ce(m[2],g[2]),x?"%,":"%"+I,!1):s.appendXtra(x?"rgba(":"rgb(",g[0],m[0]-g[0],",",!0,!0).appendXtra("",g[1],m[1]-g[1],",",!0).appendXtra("",g[2],m[2]-g[2],x?",":I,!0),x&&(g=g.length<4?1:g[3],s.appendXtra("",g,(m.length<4?1:m[3])-g,I,!1))),me.lastIndex=0;else if(v=g.match(C)){if(!(b=m.match(_))||b.length!==v.length)return s;for(p=0,h=0;h<v.length;h++)T=v[h],E=g.indexOf(T,p),s.appendXtra(g.substr(p,E-p),Number(T),ce(b[h],T),"",k&&"px"===g.substr(E+T.length,2),0===h),p=E+T.length;s["xs"+s.l]+=g.substr(p)}else s["xs"+s.l]+=s.l||s["xs"+s.l]?" "+m:m;if(-1!==i.indexOf("=")&&s.data){for(I=s.xs0+s.data.s,u=1;u<s.l;u++)I+=s["xs"+u]+s.data["xn"+u];s.e=I+s["xs"+u]}return s.l||(s.type=-1,s.xs0=s.e),s.xfirst||s},Se=9;for((u=Ce.prototype).l=u.pr=0;--Se>0;)u["xn"+Se]=0,u["xs"+Se]="";u.xs0="",u._next=u._prev=u.xfirst=u.data=u.plugin=u.setRatio=u.rxp=null,u.appendXtra=function(e,t,n,i,a,r){var o=this,s=o.l;return o["xs"+s]+=r&&(s||o["xs"+s])?" "+e:e||"",n||0===s||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=i||"",s>0?(o.data["xn"+s]=t+n,o.rxp["xn"+s]=a,o["xn"+s]=t,o.plugin||(o.xfirst=new Ce(o,"xn"+s,t,n,o.xfirst||o,0,o.n,a,o.pr),o.xfirst.xs0=0),o):(o.data={s:t+n},o.rxp={},o.s=t,o.c=n,o.r=a,o)):(o["xs"+s]+=t+(i||""),o)};var xe=function(e,t){t=t||{},this.p=t.prefix&&Q(e)||e,d[e]=d[this.p]=this,this.format=t.formatter||ve(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0},Ee=z._registerComplexSpecialProp=function(e,t,n){"object"!=(void 0===t?"undefined":(0,s.default)(t))&&(t={parser:n});var i,a=e.split(","),r=t.defaultValue;for(n=n||[r],i=0;i<a.length;i++)t.prefix=0===i&&t.prefix,t.defaultValue=n[i]||r,new xe(a[i],t)},Te=z._registerPluginProp=function(e){if(!d[e]){var t=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";Ee(e,{parser:function(e,n,i,a,r,o,s){var l=c.com.greensock.plugins[t];return l?(l._cssRegister(),d[i].parse(e,n,i,a,r,o,s)):(Y("Error: "+t+" js file not loaded."),r)}})}};(u=xe.prototype).parseComplex=function(e,t,n,i,a,r){var o,s,l,c,d,u,f=this.keyword;if(this.multi&&(N.test(n)||N.test(t)?(s=t.replace(N,"|").split("|"),l=n.replace(N,"|").split("|")):f&&(s=[t],l=[n])),l){for(c=l.length>s.length?l.length:s.length,o=0;c>o;o++)t=s[o]=s[o]||this.dflt,n=l[o]=l[o]||this.dflt,f&&((d=t.indexOf(f))!==(u=n.indexOf(f))&&(-1===u?s[o]=s[o].split(f).join(""):-1===d&&(s[o]+=" "+f)));t=s.join(", "),n=l.join(", ")}return be(e,this.p,t,n,this.clrs,this.dflt,i,this.pr,a,r)},u.parse=function(e,t,n,i,r,o,s){return this.parseComplex(e.style,this.format(ee(e,this.p,a,!1,this.dflt)),this.format(t),r,o)},o.registerSpecialProp=function(e,t,n){Ee(e,{parser:function(e,i,a,r,o,s,l){var c=new Ce(e,a,0,0,o,2,a,!1,n);return c.plugin=s,c.setRatio=t(e,i,r._tween,a),c},priority:n})},o.useSVGTransformAttr=p||g;var Ie,Pe="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),$e=Q("transform"),Ae=q+"transform",Oe=Q("transformOrigin"),ke=null!==Q("perspective"),Le=z.Transform=function(){this.perspective=parseFloat(o.defaultTransformPerspective)||0,this.force3D=!(!1===o.defaultForce3D||!ke)&&(o.defaultForce3D||"auto")},Me=window.SVGElement,De=function(e,t,n){var i,a=V.createElementNS("http://www.w3.org/2000/svg",e),r=/([a-z])([A-Z])/g;for(i in n)a.setAttributeNS(null,i.replace(r,"$1-$2").toLowerCase(),n[i]);return t.appendChild(a),a},Ne=V.documentElement,Be=function(){var e,t,n,i=v||/Android/i.test(W)&&!window.chrome;return V.createElementNS&&!i&&(e=De("svg",Ne),n=(t=De("rect",e,{width:100,height:50,x:100})).getBoundingClientRect().width,t.style[Oe]="50% 50%",t.style[$e]="scaleX(0.5)",i=n===t.getBoundingClientRect().width&&!(g&&ke),Ne.removeChild(e)),i}(),Re=function(e,t,n,i,a,r){var s,l,c,d,u,f,h,p,g,m,v,y,w,C,_=e._gsTransform,b=Ve(e,!0);_&&(w=_.xOrigin,C=_.yOrigin),(!i||(s=i.split(" ")).length<2)&&(h=e.getBBox(),s=[(-1!==(t=le(t).split(" "))[0].indexOf("%")?parseFloat(t[0])/100*h.width:parseFloat(t[0]))+h.x,(-1!==t[1].indexOf("%")?parseFloat(t[1])/100*h.height:parseFloat(t[1]))+h.y]),n.xOrigin=d=parseFloat(s[0]),n.yOrigin=u=parseFloat(s[1]),i&&b!==He&&(f=b[0],h=b[1],p=b[2],g=b[3],m=b[4],l=d*(g/(y=f*g-h*p))+u*(-p/y)+(p*(v=b[5])-g*m)/y,c=d*(-h/y)+u*(f/y)-(f*v-h*m)/y,d=n.xOrigin=s[0]=l,u=n.yOrigin=s[1]=c),_&&(r&&(n.xOffset=_.xOffset,n.yOffset=_.yOffset,_=n),a||!1!==a&&!1!==o.defaultSmoothOrigin?(l=d-w,c=u-C,_.xOffset+=l*b[0]+c*b[2]-l,_.yOffset+=l*b[1]+c*b[3]-c):_.xOffset=_.yOffset=0),r||e.setAttribute("data-svg-origin",s.join(" "))},Ue=function(e){return!!(Me&&e.getBBox&&e.getCTM&&function(e){try{return e.getBBox()}catch(e){}}(e)&&(!e.parentNode||e.parentNode.getBBox&&e.parentNode.getCTM))},He=[1,0,0,1,0,0],Ve=function(e,t){var n,i,a,r,o,s,l=e._gsTransform||new Le,c=e.style;if($e?i=ee(e,Ae,null,!0):e.currentStyle&&(i=(i=e.currentStyle.filter.match(M))&&4===i.length?[i[0].substr(4),Number(i[2].substr(4)),Number(i[1].substr(4)),i[3].substr(4),l.x||0,l.y||0].join(","):""),(n=!i||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i)&&$e&&((s="none"===J(e).display)||!e.parentNode)&&(s&&(r=c.display,c.display="block"),e.parentNode||(o=1,Ne.appendChild(e)),n=!(i=ee(e,Ae,null,!0))||"none"===i||"matrix(1, 0, 0, 1, 0, 0)"===i,r?c.display=r:s&&We(c,"display"),o&&Ne.removeChild(e)),(l.svg||e.getBBox&&Ue(e))&&(n&&-1!==(c[$e]+"").indexOf("matrix")&&(i=c[$e],n=0),a=e.getAttribute("transform"),n&&a&&(-1!==a.indexOf("matrix")?(i=a,n=0):-1!==a.indexOf("translate")&&(i="matrix(1,0,0,1,"+a.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",n=0))),n)return He;for(a=(i||"").match(C)||[],Se=a.length;--Se>-1;)r=Number(a[Se]),a[Se]=(o=r-(r|=0))?(1e5*o+(0>o?-.5:.5)|0)/1e5+r:r;return t&&a.length>6?[a[0],a[1],a[4],a[5],a[12],a[13]]:a},Ke=z.getTransform=function(e,n,i,a){if(e._gsTransform&&i&&!a)return e._gsTransform;var r,s,l,c,d,u,f=i&&e._gsTransform||new Le,h=f.scaleX<0,p=1e5,g=ke&&(parseFloat(ee(e,Oe,n,!1,"0 0 0").split(" ")[2])||f.zOrigin)||0,m=parseFloat(o.defaultTransformPerspective)||0;if(f.svg=!(!e.getBBox||!Ue(e)),f.svg&&(Re(e,ee(e,Oe,n,!1,"50% 50%")+"",f,e.getAttribute("data-svg-origin")),Ie=o.useSVGTransformAttr||Be),(r=Ve(e))!==He){if(16===r.length){var v,y,w,C,_,b=r[0],S=r[1],x=r[2],E=r[3],T=r[4],I=r[5],P=r[6],$=r[7],A=r[8],O=r[9],k=r[10],L=r[12],M=r[13],D=r[14],N=r[11],B=Math.atan2(P,k);f.zOrigin&&(L=A*(D=-f.zOrigin)-r[12],M=O*D-r[13],D=k*D+f.zOrigin-r[14]),f.rotationX=B*U,B&&(v=T*(C=Math.cos(-B))+A*(_=Math.sin(-B)),y=I*C+O*_,w=P*C+k*_,A=T*-_+A*C,O=I*-_+O*C,k=P*-_+k*C,N=$*-_+N*C,T=v,I=y,P=w),B=Math.atan2(-x,k),f.rotationY=B*U,B&&(y=S*(C=Math.cos(-B))-O*(_=Math.sin(-B)),w=x*C-k*_,O=S*_+O*C,k=x*_+k*C,N=E*_+N*C,b=v=b*C-A*_,S=y,x=w),B=Math.atan2(S,b),f.rotation=B*U,B&&(b=b*(C=Math.cos(-B))+T*(_=Math.sin(-B)),y=S*C+I*_,I=S*-_+I*C,P=x*-_+P*C,S=y),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY=180-f.rotationY),f.scaleX=(Math.sqrt(b*b+S*S)*p+.5|0)/p,f.scaleY=(Math.sqrt(I*I+O*O)*p+.5|0)/p,f.scaleZ=(Math.sqrt(P*P+k*k)*p+.5|0)/p,f.rotationX||f.rotationY?f.skewX=0:(f.skewX=T||I?Math.atan2(T,I)*U+f.rotation:f.skewX||0,Math.abs(f.skewX)>90&&Math.abs(f.skewX)<270&&(h?(f.scaleX*=-1,f.skewX+=f.rotation<=0?180:-180,f.rotation+=f.rotation<=0?180:-180):(f.scaleY*=-1,f.skewX+=f.skewX<=0?180:-180))),f.perspective=N?1/(0>N?-N:N):0,f.x=L,f.y=M,f.z=D,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*b-f.yOrigin*T),f.y-=f.yOrigin-(f.yOrigin*S-f.xOrigin*I))}else if(!ke||a||!r.length||f.x!==r[4]||f.y!==r[5]||!f.rotationX&&!f.rotationY){var R=r.length>=6,H=R?r[0]:1,V=r[1]||0,K=r[2]||0,j=R?r[3]:1;f.x=r[4]||0,f.y=r[5]||0,l=Math.sqrt(H*H+V*V),c=Math.sqrt(j*j+K*K),d=H||V?Math.atan2(V,H)*U:f.rotation||0,u=K||j?Math.atan2(K,j)*U+d:f.skewX||0,Math.abs(u)>90&&Math.abs(u)<270&&(h?(l*=-1,u+=0>=d?180:-180,d+=0>=d?180:-180):(c*=-1,u+=0>=u?180:-180)),f.scaleX=l,f.scaleY=c,f.rotation=d,f.skewX=u,ke&&(f.rotationX=f.rotationY=f.z=0,f.perspective=m,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*H+f.yOrigin*K),f.y-=f.yOrigin-(f.xOrigin*V+f.yOrigin*j))}for(s in f.zOrigin=g,f)f[s]<2e-5&&f[s]>-2e-5&&(f[s]=0)}return i&&(e._gsTransform=f,f.svg&&(Ie&&e.style[$e]?t.delayedCall(.001,function(){We(e.style,$e)}):!Ie&&e.getAttribute("transform")&&t.delayedCall(.001,function(){e.removeAttribute("transform")}))),f},je=function(e){var t,n,i=this.data,a=-i.rotation*R,r=a+i.skewX*R,o=1e5,s=(Math.cos(a)*i.scaleX*o|0)/o,l=(Math.sin(a)*i.scaleX*o|0)/o,c=(Math.sin(r)*-i.scaleY*o|0)/o,d=(Math.cos(r)*i.scaleY*o|0)/o,u=this.t.style,f=this.t.currentStyle;if(f){n=l,l=-c,c=-n,t=f.filter,u.filter="";var h,p,g=this.t.offsetWidth,m=this.t.offsetHeight,y="absolute"!==f.position,w="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+l+", M21="+c+", M22="+d,C=i.x+g*i.xPercent/100,_=i.y+m*i.yPercent/100;if(null!=i.ox&&(C+=(h=(i.oxp?g*i.ox*.01:i.ox)-g/2)-(h*s+(p=(i.oyp?m*i.oy*.01:i.oy)-m/2)*l),_+=p-(h*c+p*d)),y?w+=", Dx="+((h=g/2)-(h*s+(p=m/2)*l)+C)+", Dy="+(p-(h*c+p*d)+_)+")":w+=", sizingMethod='auto expand')",-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?u.filter=t.replace(D,w):u.filter=w+" "+t,(0===e||1===e)&&1===s&&0===l&&0===c&&1===d&&(y&&-1===w.indexOf("Dx=0, Dy=0")||E.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf(t.indexOf("Alpha"))&&u.removeAttribute("filter")),!y){var b,S,T,I=8>v?1:-1;for(h=i.ieOffsetX||0,p=i.ieOffsetY||0,i.ieOffsetX=Math.round((g-((0>s?-s:s)*g+(0>l?-l:l)*m))/2+C),i.ieOffsetY=Math.round((m-((0>d?-d:d)*m+(0>c?-c:c)*g))/2+_),Se=0;4>Se;Se++)T=(n=-1!==(b=f[S=oe[Se]]).indexOf("px")?parseFloat(b):te(this.t,S,parseFloat(b),b.replace(x,""))||0)!==i[S]?2>Se?-i.ieOffsetX:-i.ieOffsetY:2>Se?h-i.ieOffsetX:p-i.ieOffsetY,u[S]=(i[S]=Math.round(n-T*(0===Se||2===Se?1:I)))+"px"}}},Fe=z.set3DTransformRatio=z.setTransformRatio=function(e){var t,n,i,a,r,o,s,l,c,d,u,f,h,p,m,v,y,w,C,_,b,S,x,E=this.data,T=this.t.style,I=E.rotation,P=E.rotationX,$=E.rotationY,A=E.scaleX,O=E.scaleY,k=E.scaleZ,L=E.x,M=E.y,D=E.z,N=E.svg,B=E.perspective,U=E.force3D;if(!((1!==e&&0!==e||"auto"!==U||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&U||D||B||$||P||1!==k)||Ie&&N||!ke)I||E.skewX||N?(I*=R,S=E.skewX*R,x=1e5,t=Math.cos(I)*A,a=Math.sin(I)*A,n=Math.sin(I-S)*-O,r=Math.cos(I-S)*O,S&&"simple"===E.skewType&&(y=Math.tan(S-E.skewY*R),n*=y=Math.sqrt(1+y*y),r*=y,E.skewY&&(y=Math.tan(E.skewY*R),t*=y=Math.sqrt(1+y*y),a*=y)),N&&(L+=E.xOrigin-(E.xOrigin*t+E.yOrigin*n)+E.xOffset,M+=E.yOrigin-(E.xOrigin*a+E.yOrigin*r)+E.yOffset,Ie&&(E.xPercent||E.yPercent)&&(p=this.t.getBBox(),L+=.01*E.xPercent*p.width,M+=.01*E.yPercent*p.height),(p=1e-6)>L&&L>-p&&(L=0),p>M&&M>-p&&(M=0)),C=(t*x|0)/x+","+(a*x|0)/x+","+(n*x|0)/x+","+(r*x|0)/x+","+L+","+M+")",N&&Ie?this.t.setAttribute("transform","matrix("+C):T[$e]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+C):T[$e]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+A+",0,0,"+O+","+L+","+M+")";else{if(g&&((p=1e-4)>A&&A>-p&&(A=k=2e-5),p>O&&O>-p&&(O=k=2e-5),!B||E.z||E.rotationX||E.rotationY||(B=0)),I||E.skewX)I*=R,m=t=Math.cos(I),v=a=Math.sin(I),E.skewX&&(I-=E.skewX*R,m=Math.cos(I),v=Math.sin(I),"simple"===E.skewType&&(y=Math.tan((E.skewX-E.skewY)*R),m*=y=Math.sqrt(1+y*y),v*=y,E.skewY&&(y=Math.tan(E.skewY*R),t*=y=Math.sqrt(1+y*y),a*=y))),n=-v,r=m;else{if(!($||P||1!==k||B||N))return void(T[$e]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) translate3d(":"translate3d(")+L+"px,"+M+"px,"+D+"px)"+(1!==A||1!==O?" scale("+A+","+O+")":""));t=r=1,n=a=0}c=1,i=o=s=l=d=u=0,f=B?-1/B:0,h=E.zOrigin,p=1e-6,_=",",b="0",(I=$*R)&&(m=Math.cos(I),s=-(v=Math.sin(I)),d=f*-v,i=t*v,o=a*v,c=m,f*=m,t*=m,a*=m),(I=P*R)&&(y=n*(m=Math.cos(I))+i*(v=Math.sin(I)),w=r*m+o*v,l=c*v,u=f*v,i=n*-v+i*m,o=r*-v+o*m,c*=m,f*=m,n=y,r=w),1!==k&&(i*=k,o*=k,c*=k,f*=k),1!==O&&(n*=O,r*=O,l*=O,u*=O),1!==A&&(t*=A,a*=A,s*=A,d*=A),(h||N)&&(h&&(L+=i*-h,M+=o*-h,D+=c*-h+h),N&&(L+=E.xOrigin-(E.xOrigin*t+E.yOrigin*n)+E.xOffset,M+=E.yOrigin-(E.xOrigin*a+E.yOrigin*r)+E.yOffset),p>L&&L>-p&&(L=b),p>M&&M>-p&&(M=b),p>D&&D>-p&&(D=0)),C=E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix3d(":"matrix3d(",C+=(p>t&&t>-p?b:t)+_+(p>a&&a>-p?b:a)+_+(p>s&&s>-p?b:s),C+=_+(p>d&&d>-p?b:d)+_+(p>n&&n>-p?b:n)+_+(p>r&&r>-p?b:r),P||$||1!==k?(C+=_+(p>l&&l>-p?b:l)+_+(p>u&&u>-p?b:u)+_+(p>i&&i>-p?b:i),C+=_+(p>o&&o>-p?b:o)+_+(p>c&&c>-p?b:c)+_+(p>f&&f>-p?b:f)+_):C+=",0,0,0,0,1,0,",C+=L+_+M+_+D+_+(B?1+-D/B:1)+")",T[$e]=C}};(u=Le.prototype).x=u.y=u.z=u.skewX=u.skewY=u.rotation=u.rotationX=u.rotationY=u.zOrigin=u.xPercent=u.yPercent=u.xOffset=u.yOffset=0,u.scaleX=u.scaleY=u.scaleZ=1,Ee("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(e,t,n,i,r,l,c){if(i._lastParsedTransform===c)return r;var d;i._lastParsedTransform=c,"function"==typeof c[n]&&(d=c[n],c[n]=t);var u,f,h,p,g,m,v,C,_,b=e._gsTransform,S=e.style,x=Pe.length,E=c,T={},I="transformOrigin",P=Ke(e,a,!0,E.parseTransform),$=E.transform&&("function"==typeof E.transform?E.transform(w,y):E.transform);if(i._transform=P,$&&"string"==typeof $&&$e)(f=j.style)[$e]=$,f.display="block",f.position="absolute",V.body.appendChild(j),u=Ke(j,null,!1),P.svg&&(m=P.xOrigin,v=P.yOrigin,u.x-=P.xOffset,u.y-=P.yOffset,(E.transformOrigin||E.svgOrigin)&&($={},Re(e,le(E.transformOrigin),$,E.svgOrigin,E.smoothOrigin,!0),m=$.xOrigin,v=$.yOrigin,u.x-=$.xOffset-P.xOffset,u.y-=$.yOffset-P.yOffset),(m||v)&&(C=Ve(j,!0),u.x-=m-(m*C[0]+v*C[2]),u.y-=v-(m*C[1]+v*C[3]))),V.body.removeChild(j),u.perspective||(u.perspective=P.perspective),null!=E.xPercent&&(u.xPercent=de(E.xPercent,P.xPercent)),null!=E.yPercent&&(u.yPercent=de(E.yPercent,P.yPercent));else if("object"==(void 0===E?"undefined":(0,s.default)(E))){if(u={scaleX:de(null!=E.scaleX?E.scaleX:E.scale,P.scaleX),scaleY:de(null!=E.scaleY?E.scaleY:E.scale,P.scaleY),scaleZ:de(E.scaleZ,P.scaleZ),x:de(E.x,P.x),y:de(E.y,P.y),z:de(E.z,P.z),xPercent:de(E.xPercent,P.xPercent),yPercent:de(E.yPercent,P.yPercent),perspective:de(E.transformPerspective,P.perspective)},null!=(g=E.directionalRotation))if("object"==(void 0===g?"undefined":(0,s.default)(g)))for(f in g)E[f]=g[f];else E.rotation=g;"string"==typeof E.x&&-1!==E.x.indexOf("%")&&(u.x=0,u.xPercent=de(E.x,P.xPercent)),"string"==typeof E.y&&-1!==E.y.indexOf("%")&&(u.y=0,u.yPercent=de(E.y,P.yPercent)),u.rotation=ue("rotation"in E?E.rotation:"shortRotation"in E?E.shortRotation+"_short":"rotationZ"in E?E.rotationZ:P.rotation-P.skewY,P.rotation-P.skewY,"rotation",T),ke&&(u.rotationX=ue("rotationX"in E?E.rotationX:"shortRotationX"in E?E.shortRotationX+"_short":P.rotationX||0,P.rotationX,"rotationX",T),u.rotationY=ue("rotationY"in E?E.rotationY:"shortRotationY"in E?E.shortRotationY+"_short":P.rotationY||0,P.rotationY,"rotationY",T)),u.skewX=ue(E.skewX,P.skewX-P.skewY),(u.skewY=ue(E.skewY,P.skewY))&&(u.skewX+=u.skewY,u.rotation+=u.skewY)}for(ke&&null!=E.force3D&&(P.force3D=E.force3D,p=!0),P.skewType=E.skewType||P.skewType||o.defaultSkewType,(h=P.force3D||P.z||P.rotationX||P.rotationY||u.z||u.rotationX||u.rotationY||u.perspective)||null==E.scale||(u.scaleZ=1);--x>-1;)(($=u[_=Pe[x]]-P[_])>1e-6||-1e-6>$||null!=E[_]||null!=H[_])&&(p=!0,r=new Ce(P,_,P[_],$,r),_ in T&&(r.e=T[_]),r.xs0=0,r.plugin=l,i._overwriteProps.push(r.n));return $=E.transformOrigin,P.svg&&($||E.svgOrigin)&&(m=P.xOffset,v=P.yOffset,Re(e,le($),u,E.svgOrigin,E.smoothOrigin),r=_e(P,"xOrigin",(b?P:u).xOrigin,u.xOrigin,r,I),r=_e(P,"yOrigin",(b?P:u).yOrigin,u.yOrigin,r,I),(m!==P.xOffset||v!==P.yOffset)&&(r=_e(P,"xOffset",b?m:P.xOffset,P.xOffset,r,I),r=_e(P,"yOffset",b?v:P.yOffset,P.yOffset,r,I)),$=Ie?null:"0px 0px"),($||ke&&h&&P.zOrigin)&&($e?(p=!0,_=Oe,$=($||ee(e,_,a,!1,"50% 50%"))+"",(r=new Ce(S,_,0,0,r,-1,I)).b=S[_],r.plugin=l,ke?(f=P.zOrigin,$=$.split(" "),P.zOrigin=($.length>2&&(0===f||"0px"!==$[2])?parseFloat($[2]):f)||0,r.xs0=r.e=$[0]+" "+($[1]||"50%")+" 0px",(r=new Ce(P,"zOrigin",0,0,r,-1,r.n)).b=f,r.xs0=r.e=P.zOrigin):r.xs0=r.e=$):le($+"",P)),p&&(i._transformType=P.svg&&Ie||!h&&3!==this._transformType?2:3),d&&(c[n]=d),r},prefix:!0}),Ee("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Ee("borderRadius",{defaultValue:"0px",parser:function(e,t,n,r,o,s){t=this.format(t);var l,c,d,u,f,h,p,g,m,v,y,w,C,_,b,S,x=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],E=e.style;for(m=parseFloat(e.offsetWidth),v=parseFloat(e.offsetHeight),l=t.split(" "),c=0;c<x.length;c++)this.p.indexOf("border")&&(x[c]=Q(x[c])),-1!==(f=u=ee(e,x[c],a,!1,"0px")).indexOf(" ")&&(f=(u=f.split(" "))[0],u=u[1]),h=d=l[c],p=parseFloat(f),w=f.substr((p+"").length),(C="="===h.charAt(1))?(g=parseInt(h.charAt(0)+"1",10),h=h.substr(2),g*=parseFloat(h),y=h.substr((g+"").length-(0>g?1:0))||""):(g=parseFloat(h),y=h.substr((g+"").length)),""===y&&(y=i[n]||w),y!==w&&(_=te(e,"borderLeft",p,w),b=te(e,"borderTop",p,w),"%"===y?(f=_/m*100+"%",u=b/v*100+"%"):"em"===y?(f=_/(S=te(e,"borderLeft",1,"em"))+"em",u=b/S+"em"):(f=_+"px",u=b+"px"),C&&(h=parseFloat(f)+g+y,d=parseFloat(u)+g+y)),o=be(E,x[c],f+" "+u,h+" "+d,!1,"0px",o);return o},prefix:!0,formatter:ve("0px 0px 0px 0px",!1,!0)}),Ee("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(e,t,n,i,r,o){return be(e.style,n,this.format(ee(e,n,a,!1,"0px 0px")),this.format(t),!1,"0px",r)},prefix:!0,formatter:ve("0px 0px",!1,!0)}),Ee("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,n,i,r,o){var s,l,c,d,u,f,h="background-position",p=a||J(e,null),g=this.format((p?v?p.getPropertyValue(h+"-x")+" "+p.getPropertyValue(h+"-y"):p.getPropertyValue(h):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),m=this.format(t);if(-1!==g.indexOf("%")!=(-1!==m.indexOf("%"))&&m.split(",").length<2&&((f=ee(e,"backgroundImage").replace(O,""))&&"none"!==f)){for(s=g.split(" "),l=m.split(" "),F.setAttribute("src",f),c=2;--c>-1;)(d=-1!==(g=s[c]).indexOf("%"))!==(-1!==l[c].indexOf("%"))&&(u=0===c?e.offsetWidth-F.width:e.offsetHeight-F.height,s[c]=d?parseFloat(g)/100*u+"px":parseFloat(g)/u*100+"%");g=s.join(" ")}return this.parseComplex(e.style,g,m,r,o)},formatter:le}),Ee("backgroundSize",{defaultValue:"0 0",formatter:function(e){return le(-1===(e+="").indexOf(" ")?e+" "+e:e)}}),Ee("perspective",{defaultValue:"0px",prefix:!0}),Ee("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Ee("transformStyle",{prefix:!0}),Ee("backfaceVisibility",{prefix:!0}),Ee("userSelect",{prefix:!0}),Ee("margin",{parser:ye("marginTop,marginRight,marginBottom,marginLeft")}),Ee("padding",{parser:ye("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Ee("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,n,i,r,o){var s,l,c;return 9>v?(l=e.currentStyle,c=8>v?" ":",",s="rect("+l.clipTop+c+l.clipRight+c+l.clipBottom+c+l.clipLeft+")",t=this.format(t).split(",").join(c)):(s=this.format(ee(e,this.p,a,!1,this.dflt)),t=this.format(t)),this.parseComplex(e.style,s,t,r,o)}}),Ee("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Ee("autoRound,strictUnits",{parser:function(e,t,n,i,a){return a}}),Ee("border",{defaultValue:"0px solid #000",parser:function(e,t,n,i,r,o){var s=ee(e,"borderTopWidth",a,!1,"0px"),l=this.format(t).split(" "),c=l[0].replace(x,"");return"px"!==c&&(s=parseFloat(s)/te(e,"borderTopWidth",1,c)+c),this.parseComplex(e.style,this.format(s+" "+ee(e,"borderTopStyle",a,!1,"solid")+" "+ee(e,"borderTopColor",a,!1,"#000")),l.join(" "),r,o)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(me)||["#000"])[0]}}),Ee("borderWidth",{parser:ye("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Ee("float,cssFloat,styleFloat",{parser:function(e,t,n,i,a,r){var o=e.style,s="cssFloat"in o?"cssFloat":"styleFloat";return new Ce(o,s,0,0,a,-1,n,!1,0,o[s],t)}});var ze=function(e){var t,n=this.t,i=n.filter||ee(this.data,"filter")||"",a=this.s+this.c*e|0;100===a&&(-1===i.indexOf("atrix(")&&-1===i.indexOf("radient(")&&-1===i.indexOf("oader(")?(n.removeAttribute("filter"),t=!ee(this.data,"filter")):(n.filter=i.replace(I,""),t=!0)),t||(this.xn1&&(n.filter=i=i||"alpha(opacity="+a+")"),-1===i.indexOf("pacity")?0===a&&this.xn1||(n.filter=i+" alpha(opacity="+a+")"):n.filter=i.replace(E,"opacity="+a))};Ee("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,n,i,r,o){var s=parseFloat(ee(e,"opacity",a,!1,"1")),l=e.style,c="autoAlpha"===n;return"string"==typeof t&&"="===t.charAt(1)&&(t=("-"===t.charAt(0)?-1:1)*parseFloat(t.substr(2))+s),c&&1===s&&"hidden"===ee(e,"visibility",a)&&0!==t&&(s=0),G?r=new Ce(l,"opacity",s,t-s,r):((r=new Ce(l,"opacity",100*s,100*(t-s),r)).xn1=c?1:0,l.zoom=1,r.type=2,r.b="alpha(opacity="+r.s+")",r.e="alpha(opacity="+(r.s+r.c)+")",r.data=e,r.plugin=o,r.setRatio=ze),c&&((r=new Ce(l,"visibility",0,0,r,-1,null,!1,0,0!==s?"inherit":"hidden",0===t?"hidden":"inherit")).xs0="inherit",i._overwriteProps.push(r.n),i._overwriteProps.push(n)),r}});var We=function(e,t){t&&(e.removeProperty?(("ms"===t.substr(0,2)||"webkit"===t.substr(0,6))&&(t="-"+t),e.removeProperty(t.replace($,"-$1").toLowerCase())):e.removeAttribute(t))},Ge=function(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.setAttribute("class",0===e?this.b:this.e);for(var t=this.data,n=this.t.style;t;)t.v?n[t.p]=t.v:We(n,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Ee("className",{parser:function(e,t,i,r,o,s,l){var c,d,u,f,h,p=e.getAttribute("class")||"",g=e.style.cssText;if((o=r._classNamePT=new Ce(e,i,0,0,o,2)).setRatio=Ge,o.pr=-11,n=!0,o.b=p,d=ie(e,a),u=e._gsClassPT){for(f={},h=u.data;h;)f[h.p]=1,h=h._next;u.setRatio(1)}return e._gsClassPT=o,o.e="="!==t.charAt(1)?t:p.replace(new RegExp("(?:\\s|^)"+t.substr(2)+"(?![\\w-])"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),e.setAttribute("class",o.e),c=ae(e,d,ie(e),l,f),e.setAttribute("class",p),o.data=c.firstMPT,e.style.cssText=g,o.xfirst=r.parse(e,c.difs,o,s)}});var Xe=function(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var t,n,i,a,r,o=this.t.style,s=d.transform.parse;if("all"===this.e)o.cssText="",a=!0;else for(i=(t=this.e.split(" ").join("").split(",")).length;--i>-1;)n=t[i],d[n]&&(d[n].parse===s?a=!0:n="transformOrigin"===n?Oe:d[n].p),We(o,n);a&&(We(o,$e),(r=this.t._gsTransform)&&(r.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Ee("clearProps",{parser:function(e,t,i,a,r){return(r=new Ce(e,i,0,0,r,2)).setRatio=Xe,r.e=t,r.pr=-10,r.data=a._tween,n=!0,r}}),u="bezier,throwProps,physicsProps,physics2D".split(","),Se=u.length;Se--;)Te(u[Se]);(u=o.prototype)._firstPT=u._lastParsedTransform=u._transform=null,u._onInitTween=function(e,t,s,l){if(!e.nodeType)return!1;this._target=y=e,this._tween=s,this._vars=t,w=l,f=t.autoRound,n=!1,i=t.suffixMap||o.suffixMap,a=J(e,""),r=this._overwriteProps;var c,u,g,v,C,_,b,S,x,E=e.style;if(h&&""===E.zIndex&&(("auto"===(c=ee(e,"zIndex",a))||""===c)&&this._addLazySet(E,"zIndex",0)),"string"==typeof t&&(v=E.cssText,c=ie(e,a),E.cssText=v+";"+t,c=ae(e,c,ie(e)).difs,!G&&T.test(t)&&(c.opacity=parseFloat(RegExp.$1)),t=c,E.cssText=v),t.className?this._firstPT=u=d.className.parse(e,t.className,"className",this,null,null,t):this._firstPT=u=this.parse(e,t,null),this._transformType){for(x=3===this._transformType,$e?p&&(h=!0,""===E.zIndex&&(("auto"===(b=ee(e,"zIndex",a))||""===b)&&this._addLazySet(E,"zIndex",0)),m&&this._addLazySet(E,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(x?"visible":"hidden"))):E.zoom=1,g=u;g&&g._next;)g=g._next;S=new Ce(e,"transform",0,0,null,2),this._linkCSSP(S,null,g),S.setRatio=$e?Fe:je,S.data=this._transform||Ke(e,a,!0),S.tween=s,S.pr=-1,r.pop()}if(n){for(;u;){for(_=u._next,g=v;g&&g.pr>u.pr;)g=g._next;(u._prev=g?g._prev:C)?u._prev._next=u:v=u,(u._next=g)?g._prev=u:C=u,u=_}this._firstPT=v}return!0},u.parse=function(e,t,n,r){var o,s,l,c,u,h,p,g,m,v,C=e.style;for(o in t)"function"==typeof(h=t[o])&&(h=h(w,y)),(s=d[o])?n=s.parse(e,h,o,this,n,r,t):(u=ee(e,o,a)+"",m="string"==typeof h,"color"===o||"fill"===o||"stroke"===o||-1!==o.indexOf("Color")||m&&P.test(h)?(m||(h=((h=pe(h)).length>3?"rgba(":"rgb(")+h.join(",")+")"),n=be(C,o,u,h,!0,"transparent",n,0,r)):m&&B.test(h)?n=be(C,o,u,h,!0,null,n,0,r):(p=(l=parseFloat(u))||0===l?u.substr((l+"").length):"",(""===u||"auto"===u)&&("width"===o||"height"===o?(l=se(e,o,a),p="px"):"left"===o||"top"===o?(l=ne(e,o,a),p="px"):(l="opacity"!==o?0:1,p="")),(v=m&&"="===h.charAt(1))?(c=parseInt(h.charAt(0)+"1",10),h=h.substr(2),c*=parseFloat(h),g=h.replace(x,"")):(c=parseFloat(h),g=m?h.replace(x,""):""),""===g&&(g=o in i?i[o]:p),h=c||0===c?(v?c+l:c)+g:t[o],p!==g&&""!==g&&(c||0===c)&&l&&(l=te(e,o,l,p),"%"===g?(l/=te(e,o,100,"%")/100,!0!==t.strictUnits&&(u=l+"%")):"em"===g||"rem"===g||"vw"===g||"vh"===g?l/=te(e,o,1,g):"px"!==g&&(c=te(e,o,c,g),g="px"),v&&(c||0===c)&&(h=c+l+g)),v&&(c+=l),!l&&0!==l||!c&&0!==c?void 0!==C[o]&&(h||h+""!="NaN"&&null!=h)?(n=new Ce(C,o,c||l||0,0,n,-1,o,!1,0,u,h)).xs0="none"!==h||"display"!==o&&-1===o.indexOf("Style")?h:u:Y("invalid "+o+" tween value: "+t[o]):(n=new Ce(C,o,l,c-l,n,0,o,!1!==f&&("px"===g||"zIndex"===o),0,u,h)).xs0=g)),r&&n&&!n.plugin&&(n.plugin=r);return n},u.setRatio=function(e){var t,n,i,a=this._firstPT;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;a;){if(t=a.c*e+a.s,a.r?t=Math.round(t):1e-6>t&&t>-1e-6&&(t=0),a.type)if(1===a.type)if(2===(i=a.l))a.t[a.p]=a.xs0+t+a.xs1+a.xn1+a.xs2;else if(3===i)a.t[a.p]=a.xs0+t+a.xs1+a.xn1+a.xs2+a.xn2+a.xs3;else if(4===i)a.t[a.p]=a.xs0+t+a.xs1+a.xn1+a.xs2+a.xn2+a.xs3+a.xn3+a.xs4;else if(5===i)a.t[a.p]=a.xs0+t+a.xs1+a.xn1+a.xs2+a.xn2+a.xs3+a.xn3+a.xs4+a.xn4+a.xs5;else{for(n=a.xs0+t+a.xs1,i=1;i<a.l;i++)n+=a["xn"+i]+a["xs"+(i+1)];a.t[a.p]=n}else-1===a.type?a.t[a.p]=a.xs0:a.setRatio&&a.setRatio(e);else a.t[a.p]=t+a.xs0;a=a._next}else for(;a;)2!==a.type?a.t[a.p]=a.b:a.setRatio(e),a=a._next;else for(;a;){if(2!==a.type)if(a.r&&-1!==a.type)if(t=Math.round(a.s+a.c),a.type){if(1===a.type){for(i=a.l,n=a.xs0+t+a.xs1,i=1;i<a.l;i++)n+=a["xn"+i]+a["xs"+(i+1)];a.t[a.p]=n}}else a.t[a.p]=t+a.xs0;else a.t[a.p]=a.e;else a.setRatio(e);a=a._next}},u._enableTransforms=function(e){this._transform=this._transform||Ke(this._target,a,!0),this._transformType=this._transform.svg&&Ie||!e&&3!==this._transformType?2:3};var Ye=function(e){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};u._addLazySet=function(e,t,n){var i=this._firstPT=new Ce(e,t,0,0,this._firstPT,2);i.e=n,i.setRatio=Ye,i.data=this},u._linkCSSP=function(e,t,n,i){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next,i=!0),n?n._next=e:i||null!==this._firstPT||(this._firstPT=e),e._next=t,e._prev=n),e},u._mod=function(e){for(var t=this._firstPT;t;)"function"==typeof e[t.p]&&e[t.p]===Math.round&&(t.r=1),t=t._next},u._kill=function(t){var n,i,a,r=t;if(t.autoAlpha||t.alpha){for(i in r={},t)r[i]=t[i];r.opacity=1,r.autoAlpha&&(r.visibility=1)}for(t.className&&(n=this._classNamePT)&&((a=n.xfirst)&&a._prev?this._linkCSSP(a._prev,n._next,a._prev._prev):a===this._firstPT&&(this._firstPT=n._next),n._next&&this._linkCSSP(n._next,n._next._next,a._prev),this._classNamePT=null),n=this._firstPT;n;)n.plugin&&n.plugin!==i&&n.plugin._kill&&(n.plugin._kill(t),i=n.plugin),n=n._next;return e.prototype._kill.call(this,r)};var qe=function e(t,n,i){var a,r,o,s;if(t.slice)for(r=t.length;--r>-1;)e(t[r],n,i);else for(r=(a=t.childNodes).length;--r>-1;)s=(o=a[r]).type,o.style&&(n.push(ie(o)),i&&i.push(o)),1!==s&&9!==s&&11!==s||!o.childNodes.length||e(o,n,i)};return o.cascadeTo=function(e,n,i){var a,r,o,s,l=t.to(e,n,i),c=[l],d=[],u=[],f=[],h=t._internals.reservedProps;for(e=l._targets||l.target,qe(e,d,f),l.render(n,!0,!0),qe(e,u),l.render(0,!0,!0),l._enabled(!0),a=f.length;--a>-1;)if((r=ae(f[a],d[a],u[a])).firstMPT){for(o in r=r.difs,i)h[o]&&(r[o]=i[o]);for(o in s={},r)s[o]=d[a][o];c.push(t.fromTo(f[a],n,s,r))}return c},e.activate([o]),o},!0),function(){var e=l._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(e,t,n){return this._tween=n,!0}}),t=function(e){for(;e;)e.f||e.blob||(e.m=Math.round),e=e._next},n=e.prototype;n._onInitAllProps=function(){for(var e,n,i,a=this._tween,r=a.vars.roundProps.join?a.vars.roundProps:a.vars.roundProps.split(","),o=r.length,s={},l=a._propLookup.roundProps;--o>-1;)s[r[o]]=Math.round;for(o=r.length;--o>-1;)for(e=r[o],n=a._firstPT;n;)i=n._next,n.pg?n.t._mod(s):n.n===e&&(2===n.f&&n.t?t(n.t._firstPT):(this._add(n.t,e,n.s,n.c),i&&(i._prev=n._prev),n._prev?n._prev._next=i:a._firstPT===n&&(a._firstPT=i),n._next=n._prev=null,a._propLookup[e]=l)),n=i;return!1},n._add=function(e,t,n,i){this._addTween(e,t,n,n+i,t,Math.round),this._overwriteProps.push(t)}}(),l._gsDefine.plugin({propName:"attr",API:2,version:"0.6.0",init:function(e,t,n,i){var a,r;if("function"!=typeof e.setAttribute)return!1;for(a in t)"function"==typeof(r=t[a])&&(r=r(i,e)),this._addTween(e,"setAttribute",e.getAttribute(a)+"",r+"",a,!1,a),this._overwriteProps.push(a);return!0}}),l._gsDefine.plugin({propName:"directionalRotation",version:"0.3.0",API:2,init:function(e,t,n,i){"object"!=(void 0===t?"undefined":(0,s.default)(t))&&(t={rotation:t}),this.finals={};var a,r,o,l,c,d,u=!0===t.useRadians?2*Math.PI:360;for(a in t)"useRadians"!==a&&("function"==typeof(l=t[a])&&(l=l(i,e)),r=(d=(l+"").split("_"))[0],o=parseFloat("function"!=typeof e[a]?e[a]:e[a.indexOf("set")||"function"!=typeof e["get"+a.substr(3)]?a:"get"+a.substr(3)]()),c=(l=this.finals[a]="string"==typeof r&&"="===r.charAt(1)?o+parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)):Number(r)||0)-o,d.length&&(-1!==(r=d.join("_")).indexOf("short")&&((c%=u)!==c%(u/2)&&(c=0>c?c+u:c-u)),-1!==r.indexOf("_cw")&&0>c?c=(c+9999999999*u)%u-(c/u|0)*u:-1!==r.indexOf("ccw")&&c>0&&(c=(c-9999999999*u)%u-(c/u|0)*u)),(c>1e-6||-1e-6>c)&&(this._addTween(e,a,o,o+c,a),this._overwriteProps.push(a)));return!0},set:function(e){var t;if(1!==e)this._super.setRatio.call(this,e);else for(t=this._firstPT;t;)t.f?t.t[t.p](this.finals[t.p]):t.t[t.p]=this.finals[t.p],t=t._next}})._autoCSS=!0,l._gsDefine("easing.Back",["easing.Ease"],function(e){var t,n,i,a=l.GreenSockGlobals||l,r=a.com.greensock,o=2*Math.PI,s=Math.PI/2,c=r._class,d=function(t,n){var i=c("easing."+t,function(){},!0),a=i.prototype=new e;return a.constructor=i,a.getRatio=n,i},u=e.register||function(){},f=function(e,t,n,i,a){var r=c("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new i},!0);return u(r,e),r},h=function(e,t,n){this.t=e,this.v=t,n&&(this.next=n,n.prev=this,this.c=n.v-t,this.gap=n.t-e)},p=function(t,n){var i=c("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),a=i.prototype=new e;return a.constructor=i,a.getRatio=n,a.config=function(e){return new i(e)},i},g=f("Back",p("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),p("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),p("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),m=c("easing.SlowMo",function(e,t,n){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===n},!0),v=m.prototype=new e;return v.constructor=m,v.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},m.ease=new m(.7,.7),v.config=m.config=function(e,t,n){return new m(e,t,n)},(v=(t=c("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0)).prototype=new e).constructor=t,v.getRatio=function(e){return 0>e?e=0:e>=1&&(e=.999999999),(this._p2*e>>0)*this._p1},v.config=t.config=function(e){return new t(e)},(v=(n=c("easing.RoughEase",function(t){for(var n,i,a,r,o,s,l=(t=t||{}).taper||"none",c=[],d=0,u=0|(t.points||20),f=u,p=!1!==t.randomize,g=!0===t.clamp,m=t.template instanceof e?t.template:null,v="number"==typeof t.strength?.4*t.strength:.4;--f>-1;)n=p?Math.random():1/u*f,i=m?m.getRatio(n):n,"none"===l?a=v:"out"===l?a=(r=1-n)*r*v:"in"===l?a=n*n*v:.5>n?a=(r=2*n)*r*.5*v:a=(r=2*(1-n))*r*.5*v,p?i+=Math.random()*a-.5*a:f%2?i+=.5*a:i-=.5*a,g&&(i>1?i=1:0>i&&(i=0)),c[d++]={x:n,y:i};for(c.sort(function(e,t){return e.x-t.x}),s=new h(1,1,null),f=u;--f>-1;)o=c[f],s=new h(o.x,o.y,s);this._prev=new h(0,0,0!==s.t?s:s.next)},!0)).prototype=new e).constructor=n,v.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},v.config=function(e){return new n(e)},n.ease=new n,f("Bounce",d("BounceOut",function(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),d("BounceIn",function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:2/2.75>e?1-(7.5625*(e-=1.5/2.75)*e+.75):2.5/2.75>e?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),d("BounceInOut",function(e){var t=.5>e;return e=1/2.75>(e=t?1-2*e:2*e-1)?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),f("Circ",d("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),d("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),d("CircInOut",function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),f("Elastic",(i=function(t,n,i){var a=c("easing."+t,function(e,t){this._p1=e>=1?e:1,this._p2=(t||i)/(1>e?e:1),this._p3=this._p2/o*(Math.asin(1/this._p1)||0),this._p2=o/this._p2},!0),r=a.prototype=new e;return r.constructor=a,r.getRatio=n,r.config=function(e,t){return new a(e,t)},a})("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1},.3),i("ElasticIn",function(e){return-this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)},.3),i("ElasticInOut",function(e){return(e*=2)<1?this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)*.5+1},.45)),f("Expo",d("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),d("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),d("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),f("Sine",d("SineOut",function(e){return Math.sin(e*s)}),d("SineIn",function(e){return 1-Math.cos(e*s)}),d("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),c("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),u(a.SlowMo,"SlowMo","ease,"),u(n,"RoughEase","ease,"),u(t,"SteppedEase","ease,"),g},!0)}),l._gsDefine&&l._gsQueue.pop()(),function(i,r){var o={},l=i.GreenSockGlobals=i.GreenSockGlobals||i;if(!l.TweenLite){var c,d,u,f,h,p=function(e){var t,n=e.split("."),i=l;for(t=0;t<n.length;t++)i[n[t]]=i=i[n[t]]||{};return i},g=p("com.greensock"),m=1e-10,v=function(e){var t,n=[],i=e.length;for(t=0;t!==i;n.push(e[t++]));return n},y=function(){},w=function(){var e=Object.prototype.toString,t=e.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==(void 0===n?"undefined":(0,s.default)(n))&&!!n.push&&e.call(n)===t)}}(),C={},_=function i(s,c,d,u){this.sc=C[s]?C[s].sc:[],C[s]=this,this.gsClass=null,this.func=d;var f=[];this.check=function(h){for(var g,m,v,y,w,_=c.length,b=_;--_>-1;)(g=C[c[_]]||new i(c[_],[])).gsClass?(f[_]=g.gsClass,b--):h&&g.sc.push(this);if(0===b&&d){if(v=(m=("com.greensock."+s).split(".")).pop(),y=p(m.join("."))[v]=this.gsClass=d.apply(d,f),u)if(l[v]=o[v]=y,!(w=void 0!==e&&e.exports)&&n(337))void 0===(a=function(){return y}.apply(t,[]))||(e.exports=a);else if(w)if(s===r)for(_ in e.exports=o[r]=y,o)y[_]=o[_];else o[r]&&(o[r][v]=y);for(_=0;_<this.sc.length;_++)this.sc[_].check()}},this.check(!0)},b=i._gsDefine=function(e,t,n,i){return new _(e,t,n,i)},S=g._class=function(e,t,n){return t=t||function(){},b(e,[],function(){return t},n),t};b.globals=l;var x=[0,0,1,1],E=S("easing.Ease",function(e,t,n,i){this._func=e,this._type=n||0,this._power=i||0,this._params=t?x.concat(t):x},!0),T=E.map={},I=E.register=function(e,t,n,i){for(var a,r,o,s,l=t.split(","),c=l.length,d=(n||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(r=l[c],a=i?S("easing."+r,null,!0):g.easing[r]||{},o=d.length;--o>-1;)s=d[o],T[r+"."+s]=T[s+r]=a[s]=e.getRatio?e:e[s]||new e};for((u=E.prototype)._calcEnd=!1,u.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,i=1===t?1-e:2===t?e:.5>e?2*e:2*(1-e);return 1===n?i*=i:2===n?i*=i*i:3===n?i*=i*i*i:4===n&&(i*=i*i*i*i),1===t?1-i:2===t?i:.5>e?i/2:1-i/2},d=(c=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--d>-1;)u=c[d]+",Power"+d,I(new E(null,null,1,d),u,"easeOut",!0),I(new E(null,null,2,d),u,"easeIn"+(0===d?",easeNone":"")),I(new E(null,null,3,d),u,"easeInOut");T.linear=g.easing.Linear.easeIn,T.swing=g.easing.Quad.easeInOut;var P=S("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});(u=P.prototype).addEventListener=function(e,t,n,i,a){a=a||0;var r,o,s=this._listeners[e],l=0;for(this!==f||h||f.wake(),null==s&&(this._listeners[e]=s=[]),o=s.length;--o>-1;)(r=s[o]).c===t&&r.s===n?s.splice(o,1):0===l&&r.pr<a&&(l=o+1);s.splice(l,0,{c:t,s:n,up:i,pr:a})},u.removeEventListener=function(e,t){var n,i=this._listeners[e];if(i)for(n=i.length;--n>-1;)if(i[n].c===t)return void i.splice(n,1)},u.dispatchEvent=function(e){var t,n,i,a=this._listeners[e];if(a)for((t=a.length)>1&&(a=a.slice(0)),n=this._eventTarget;--t>-1;)(i=a[t])&&(i.up?i.c.call(i.s||n,{type:e,target:n}):i.c.call(i.s||n))};var $=i.requestAnimationFrame,A=i.cancelAnimationFrame,O=Date.now||function(){return(new Date).getTime()},k=O();for(d=(c=["ms","moz","webkit","o"]).length;--d>-1&&!$;)$=i[c[d]+"RequestAnimationFrame"],A=i[c[d]+"CancelAnimationFrame"]||i[c[d]+"CancelRequestAnimationFrame"];S("Ticker",function(e,t){var n,i,a,r,o,s=this,l=O(),c=!(!1===t||!$)&&"auto",d=500,u=33,p=function e(t){var c,f,h=O()-k;h>d&&(l+=h-u),k+=h,s.time=(k-l)/1e3,c=s.time-o,(!n||c>0||!0===t)&&(s.frame++,o+=c+(c>=r?.004:r-c),f=!0),!0!==t&&(a=i(e)),f&&s.dispatchEvent("tick")};P.call(s),s.time=s.frame=0,s.tick=function(){p(!0)},s.lagSmoothing=function(e,t){d=e||1/m,u=Math.min(t,d,0)},s.sleep=function(){null!=a&&(c&&A?A(a):clearTimeout(a),i=y,a=null,s===f&&(h=!1))},s.wake=function(e){null!==a?s.sleep():e?l+=-k+(k=O()):s.frame>10&&(k=O()-d+5),i=0===n?y:c&&$?$:function(e){return setTimeout(e,1e3*(o-s.time)+1|0)},s===f&&(h=!0),p(2)},s.fps=function(e){return arguments.length?(r=1/((n=e)||60),o=this.time+r,void s.wake()):n},s.useRAF=function(e){return arguments.length?(s.sleep(),c=e,void s.fps(n)):c},s.fps(e),setTimeout(function(){"auto"===c&&s.frame<5&&"hidden"!==document.visibilityState&&s.useRAF(!1)},1500)}),(u=g.Ticker.prototype=new g.events.EventDispatcher).constructor=g.Ticker;var L=S("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!0===t.immediateRender,this.data=t.data,this._reversed=!0===t.reversed,q){h||f.wake();var n=this.vars.useFrames?Y:q;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});f=L.ticker=new g.Ticker,(u=L.prototype)._dirty=u._gc=u._initted=u._paused=!1,u._totalTime=u._time=0,u._rawPrevTime=-1,u._next=u._last=u._onUpdate=u._timeline=u.timeline=null,u._paused=!1;(function e(){h&&O()-k>2e3&&f.wake(),setTimeout(e,2e3)})(),u.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},u.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},u.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},u.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},u.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},u.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},u.render=function(e,t,n){},u.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},u.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime())>=n&&e<n+this.totalDuration()/this._timeScale},u._enabled=function(e,t){return h||f.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},u._kill=function(e,t){return this._enabled(!1,!1)},u.kill=function(e,t){return this._kill(e,t),this},u._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},u._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();--t>-1;)"{self}"===e[t]&&(n[t]=this);return n},u._callback=function(e){var t=this.vars,n=t[e],i=t[e+"Params"],a=t[e+"Scope"]||t.callbackScope||this;switch(i?i.length:0){case 0:n.call(a);break;case 1:n.call(a,i[0]);break;case 2:n.call(a,i[0],i[1]);break;default:n.apply(a,i)}},u.eventCallback=function(e,t,n,i){if("on"===(e||"").substr(0,2)){var a=this.vars;if(1===arguments.length)return a[e];null==t?delete a[e]:(a[e]=t,a[e+"Params"]=w(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,a[e+"Scope"]=i),"onUpdate"===e&&(this._onUpdate=t)}return this},u.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},u.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},u.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},u.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},u.totalTime=function(e,t,n){if(h||f.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>e&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var i=this._totalDuration,a=this._timeline;if(e>i&&!n&&(e=i),this._startTime=(this._paused?this._pauseTime:a._time)-(this._reversed?i-e:e)/this._timeScale,a._dirty||this._uncache(!1),a._timeline)for(;a._timeline;)a._timeline._time!==(a._startTime+a._totalTime)/a._timeScale&&a.totalTime(a._totalTime,!0),a=a._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==e||0===this._duration)&&(B.length&&Q(),this.render(e,t,!1),B.length&&Q())}return this},u.progress=u.totalProgress=function(e,t){var n=this.duration();return arguments.length?this.totalTime(n*e,t):n?this._time/n:this.ratio},u.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},u.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},u.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||m,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,n=t||0===t?t:this._timeline.totalTime();this._startTime=n-(n-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},u.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},u.paused=function(e){if(!arguments.length)return this._paused;var t,n,i=this._timeline;return e!=this._paused&&i&&(h||e||f.wake(),n=(t=i.rawTime())-this._pauseTime,!e&&i.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&(t=i.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var M=S("core.SimpleTimeline",function(e){L.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});(u=M.prototype=new L).constructor=M,u.kill()._gc=!1,u._first=u._last=u._recent=null,u._sortChildren=!1,u.add=u.insert=function(e,t,n,i){var a,r;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),a=this._last,this._sortChildren)for(r=e._startTime;a&&a._startTime>r;)a=a._prev;return a?(e._next=a._next,a._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=a,this._recent=e,this._timeline&&this._uncache(!0),this},u._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},u.render=function(e,t,n){var i,a=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;a;)i=a._next,(a._active||e>=a._startTime&&!a._paused)&&(a._reversed?a.render((a._dirty?a.totalDuration():a._totalDuration)-(e-a._startTime)*a._timeScale,t,n):a.render((e-a._startTime)*a._timeScale,t,n)),a=i},u.rawTime=function(){return h||f.wake(),this._totalTime};var D=S("TweenLite",function(e,t,n){if(L.call(this,t,n),this.render=D.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:D.selector(e)||e;var a,r,o,s=e.jquery||e.length&&e!==i&&e[0]&&(e[0]===i||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?X[D.defaultOverwrite]:"number"==typeof l?l>>0:X[l],(s||e instanceof Array||e.push&&w(e))&&"number"!=typeof e[0])for(this._targets=o=v(e),this._propLookup=[],this._siblings=[],a=0;a<o.length;a++)(r=o[a])?"string"!=typeof r?r.length&&r!==i&&r[0]&&(r[0]===i||r[0].nodeType&&r[0].style&&!r.nodeType)?(o.splice(a--,1),this._targets=o=o.concat(v(r))):(this._siblings[a]=J(r,this,!1),1===l&&this._siblings[a].length>1&&te(r,this,null,1,this._siblings[a])):"string"==typeof(r=o[a--]=D.selector(r))&&o.splice(a+1,1):o.splice(a--,1);else this._propLookup={},this._siblings=J(e,this,!1),1===l&&this._siblings.length>1&&te(e,this,null,1,this._siblings);(this.vars.immediateRender||0===t&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-m,this.render(Math.min(0,-this._delay)))},!0),N=function(e){return e&&e.length&&e!==i&&e[0]&&(e[0]===i||e[0].nodeType&&e[0].style&&!e.nodeType)};(u=D.prototype=new L).constructor=D,u.kill()._gc=!1,u.ratio=0,u._firstPT=u._targets=u._overwrittenProps=u._startAt=null,u._notifyPluginsOfEnabled=u._lazy=!1,D.version="1.19.0",D.defaultEase=u._ease=new E(null,null,1,1),D.defaultOverwrite="auto",D.ticker=f,D.autoSleep=120,D.lagSmoothing=function(e,t){f.lagSmoothing(e,t)},D.selector=i.$||i.jQuery||function(e){var t=i.$||i.jQuery;return t?(D.selector=t,t(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var B=[],R={},U=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,H=function(e){for(var t,n=this._firstPT;n;)t=n.blob?e?this.join(""):this.start:n.c*e+n.s,n.m?t=n.m(t,this._target||n.t):1e-6>t&&t>-1e-6&&(t=0),n.f?n.fp?n.t[n.p](n.fp,t):n.t[n.p](t):n.t[n.p]=t,n=n._next},V=function(e,t,n,i){var a,r,o,s,l,c,d,u=[e,t],f=0,h="",p=0;for(u.start=e,n&&(n(u),e=u[0],t=u[1]),u.length=0,a=e.match(U)||[],r=t.match(U)||[],i&&(i._next=null,i.blob=1,u._firstPT=u._applyPT=i),l=r.length,s=0;l>s;s++)d=r[s],h+=(c=t.substr(f,t.indexOf(d,f)-f))||!s?c:",",f+=c.length,p?p=(p+1)%5:"rgba("===c.substr(-5)&&(p=1),d===a[s]||a.length<=s?h+=d:(h&&(u.push(h),h=""),o=parseFloat(a[s]),u.push(o),u._firstPT={_next:u._firstPT,t:u,p:u.length-1,s:o,c:("="===d.charAt(1)?parseInt(d.charAt(0)+"1",10)*parseFloat(d.substr(2)):parseFloat(d)-o)||0,f:0,m:p&&4>p?Math.round:0}),f+=d.length;return(h+=t.substr(f))&&u.push(h),u.setRatio=H,u},K=function(e,t,n,i,a,r,o,l,c){"function"==typeof i&&(i=i(c||0,e));var d,u="get"===n?e[t]:n,f=(0,s.default)(e[t]),h="string"==typeof i&&"="===i.charAt(1),p={t:e,p:t,s:u,f:"function"===f,pg:0,n:a||t,m:r?"function"==typeof r?r:Math.round:0,pr:0,c:h?parseInt(i.charAt(0)+"1",10)*parseFloat(i.substr(2)):parseFloat(i)-u||0};return"number"!==f&&("function"===f&&"get"===n&&(d=t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),p.s=u=o?e[d](o):e[d]()),"string"==typeof u&&(o||isNaN(u))?(p.fp=o,p={t:V(u,i,l||D.defaultStringFilter,p),p:"setRatio",s:0,c:1,f:2,pg:0,n:a||t,pr:0,m:0}):h||(p.s=parseFloat(u),p.c=parseFloat(i)-p.s||0)),p.c?((p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p,p):void 0},j=D._internals={isArray:w,isSelector:N,lazyTweens:B,blobDif:V},F=D._plugins={},z=j.tweenLookup={},W=0,G=j.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1},X={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Y=L._rootFramesTimeline=new M,q=L._rootTimeline=new M,Z=30,Q=j.lazyRender=function(){var e,t=B.length;for(R={};--t>-1;)(e=B[t])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);B.length=0};q._startTime=f.time,Y._startTime=f.frame,q._active=Y._active=!0,setTimeout(Q,1),L._updateRoot=D.render=function(){var e,t,n;if(B.length&&Q(),q.render((f.time-q._startTime)*q._timeScale,!1,!1),Y.render((f.frame-Y._startTime)*Y._timeScale,!1,!1),B.length&&Q(),f.frame>=Z){for(n in Z=f.frame+(parseInt(D.autoSleep,10)||120),z){for(e=(t=z[n].tweens).length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete z[n]}if((!(n=q._first)||n._paused)&&D.autoSleep&&!Y._first&&1===f._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||f.sleep()}}},f.addEventListener("tick",L._updateRoot);var J=function(e,t,n){var i,a,r=e._gsTweenID;if(z[r||(e._gsTweenID=r="t"+W++)]||(z[r]={target:e,tweens:[]}),t&&((i=z[r].tweens)[a=i.length]=t,n))for(;--a>-1;)i[a]===t&&i.splice(a,1);return z[r].tweens},ee=function(e,t,n,i){var a,r,o=e.vars.onOverwrite;return o&&(a=o(e,t,n,i)),(o=D.onOverwrite)&&(r=o(e,t,n,i)),!1!==a&&!1!==r},te=function(e,t,n,i,a){var r,o,s,l;if(1===i||i>=4){for(l=a.length,r=0;l>r;r++)if((s=a[r])!==t)s._gc||s._kill(null,e,t)&&(o=!0);else if(5===i)break;return o}var c,d=t._startTime+m,u=[],f=0,h=0===t._duration;for(r=a.length;--r>-1;)(s=a[r])===t||s._gc||s._paused||(s._timeline!==t._timeline?(c=c||ne(t,0,h),0===ne(s,c,h)&&(u[f++]=s)):s._startTime<=d&&s._startTime+s.totalDuration()/s._timeScale>d&&((h||!s._initted)&&d-s._startTime<=2e-10||(u[f++]=s)));for(r=f;--r>-1;)if(s=u[r],2===i&&s._kill(n,e,t)&&(o=!0),2!==i||!s._firstPT&&s._initted){if(2!==i&&!ee(s,t))continue;s._enabled(!1,!1)&&(o=!0)}return o},ne=function(e,t,n){for(var i=e._timeline,a=i._timeScale,r=e._startTime;i._timeline;){if(r+=i._startTime,a*=i._timeScale,i._paused)return-100;i=i._timeline}return(r/=a)>t?r-t:n&&r===t||!e._initted&&2*m>r-t?m:(r+=e.totalDuration()/e._timeScale/a)>t+m?0:r-t-m};u._init=function(){var e,t,n,i,a,r,o=this.vars,s=this._overwrittenProps,l=this._duration,c=!!o.immediateRender,d=o.ease;if(o.startAt){for(i in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),a={},o.startAt)a[i]=o.startAt[i];if(a.overwrite=!1,a.immediateRender=!0,a.lazy=c&&!1!==o.lazy,a.startAt=a.delay=null,this._startAt=D.to(this.target,0,a),c)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(o.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(i in 0!==this._time&&(c=!1),n={},o)G[i]&&"autoCSS"!==i||(n[i]=o[i]);if(n.overwrite=0,n.data="isFromStart",n.lazy=c&&!1!==o.lazy,n.immediateRender=c,this._startAt=D.to(this.target,0,n),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=d=d?d instanceof E?d:"function"==typeof d?new E(d,o.easeParams):T[d]||D.defaultEase:D.defaultEase,o.easeParams instanceof Array&&d.config&&(this._ease=d.config.apply(d,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(r=this._targets.length,e=0;r>e;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(t&&D._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=o.onUpdate,this._initted=!0},u._initProps=function(e,t,n,a,r){var o,s,l,c,d,u;if(null==e)return!1;for(o in R[e._gsTweenID]&&Q(),this.vars.css||e.style&&e!==i&&e.nodeType&&F.css&&!1!==this.vars.autoCSS&&function(e,t){var n,i={};for(n in e)G[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!F[n]||F[n]&&F[n]._autoCSS)||(i[n]=e[n],delete e[n]);e.css=i}(this.vars,e),this.vars)if(u=this.vars[o],G[o])u&&(u instanceof Array||u.push&&w(u))&&-1!==u.join("").indexOf("{self}")&&(this.vars[o]=u=this._swapSelfInParams(u,this));else if(F[o]&&(c=new F[o])._onInitTween(e,this.vars[o],this,r)){for(this._firstPT=d={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:o,pg:1,pr:c._priority,m:0},s=c._overwriteProps.length;--s>-1;)t[c._overwriteProps[s]]=this._firstPT;(c._priority||c._onInitAllProps)&&(l=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),d._next&&(d._next._prev=d)}else t[o]=K.call(this,e,o,"get",u,o,0,null,this.vars.stringFilter,r);return a&&this._kill(a,e)?this._initProps(e,t,n,a,r):this._overwrite>1&&this._firstPT&&n.length>1&&te(e,this,t,this._overwrite,n)?(this._kill(t,e),this._initProps(e,t,n,a,r)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(R[e._gsTweenID]=!0),l)},u.render=function(e,t,n){var i,a,r,o,s=this._time,l=this._duration,c=this._rawPrevTime;if(e>=l-1e-7)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(i=!0,a="onComplete",n=n||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(0>c||0>=e&&e>=-1e-7||c===m&&"isPause"!==this.data)&&c!==e&&(n=!0,c>m&&(a="onReverseComplete")),this._rawPrevTime=o=!t||e||c===e?e:m);else if(1e-7>e)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===l&&c>0)&&(a="onReverseComplete",i=this._reversed),0>e&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||n)&&(c>=0&&(c!==m||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=o=!t||e||c===e?e:m)),this._initted||(n=!0);else if(this._totalTime=this._time=e,this._easeType){var d=e/l,u=this._easeType,f=this._easePower;(1===u||3===u&&d>=.5)&&(d=1-d),3===u&&(d*=2),1===f?d*=d:2===f?d*=d*d:3===f?d*=d*d*d:4===f&&(d*=d*d*d*d),this.ratio=1===u?1-d:2===u?d:.5>e/l?d/2:1-d/2}else this.ratio=this._ease.getRatio(e/l);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=c,B.push(this),void(this._lazy=[e,t]);this._time&&!i?this.ratio=this._ease.getRatio(this._time/l):i&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&e>=0&&(this._active=!0),0===s&&(this._startAt&&(e>=0?this._startAt.render(e,t,n):a||(a="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(t||this._callback("onStart"))),r=this._firstPT;r;)r.f?r.t[r.p](r.c*this.ratio+r.s):r.t[r.p]=r.c*this.ratio+r.s,r=r._next;this._onUpdate&&(0>e&&this._startAt&&-1e-4!==e&&this._startAt.render(e,t,n),t||(this._time!==s||i||n)&&this._callback("onUpdate")),a&&(!this._gc||n)&&(0>e&&this._startAt&&!this._onUpdate&&-1e-4!==e&&this._startAt.render(e,t,n),i&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[a]&&this._callback(a),0===l&&this._rawPrevTime===m&&o!==m&&(this._rawPrevTime=0))}},u._kill=function(e,t,n){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:D.selector(t)||t;var i,a,r,o,l,c,d,u,f,h=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((w(t)||N(t))&&"number"!=typeof t[0])for(i=t.length;--i>-1;)this._kill(e,t[i],n)&&(c=!0);else{if(this._targets){for(i=this._targets.length;--i>-1;)if(t===this._targets[i]){l=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],a=this._overwrittenProps[i]=e?this._overwrittenProps[i]||{}:"all";break}}else{if(t!==this.target)return!1;l=this._propLookup,a=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(l){if(d=e||l,u=e!==a&&"all"!==a&&e!==l&&("object"!=(void 0===e?"undefined":(0,s.default)(e))||!e._tempKill),n&&(D.onOverwrite||this.vars.onOverwrite)){for(r in d)l[r]&&(f||(f=[]),f.push(r));if((f||!e)&&!ee(this,n,t,f))return!1}for(r in d)(o=l[r])&&(h&&(o.f?o.t[o.p](o.s):o.t[o.p]=o.s,c=!0),o.pg&&o.t._kill(d)&&(c=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete l[r]),u&&(a[r]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return c},u.invalidate=function(){return this._notifyPluginsOfEnabled&&D._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],L.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-m,this.render(Math.min(0,-this._delay))),this},u._enabled=function(e,t){if(h||f.wake(),e&&this._gc){var n,i=this._targets;if(i)for(n=i.length;--n>-1;)this._siblings[n]=J(i[n],this,!0);else this._siblings=J(this.target,this,!0)}return L.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&D._onPluginEvent(e?"_onEnable":"_onDisable",this)},D.to=function(e,t,n){return new D(e,t,n)},D.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new D(e,t,n)},D.fromTo=function(e,t,n,i){return i.startAt=n,i.immediateRender=0!=i.immediateRender&&0!=n.immediateRender,new D(e,t,i)},D.delayedCall=function(e,t,n,i,a){return new D(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:i,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:a,overwrite:0})},D.set=function(e,t){return new D(e,0,t)},D.getTweensOf=function(e,t){if(null==e)return[];var n,i,a,r;if(e="string"!=typeof e?e:D.selector(e)||e,(w(e)||N(e))&&"number"!=typeof e[0]){for(n=e.length,i=[];--n>-1;)i=i.concat(D.getTweensOf(e[n],t));for(n=i.length;--n>-1;)for(r=i[n],a=n;--a>-1;)r===i[a]&&i.splice(n,1)}else for(n=(i=J(e).concat()).length;--n>-1;)(i[n]._gc||t&&!i[n].isActive())&&i.splice(n,1);return i},D.killTweensOf=D.killDelayedCallsTo=function(e,t,n){"object"==(void 0===t?"undefined":(0,s.default)(t))&&(n=t,t=!1);for(var i=D.getTweensOf(e,t),a=i.length;--a>-1;)i[a]._kill(n,e)};var ie=S("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=ie.prototype},!0);if(u=ie.prototype,ie.version="1.19.0",ie.API=2,u._firstPT=null,u._addTween=K,u.setRatio=H,u._kill=function(e){var t,n=this._overwriteProps,i=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;--t>-1;)null!=e[n[t]]&&n.splice(t,1);for(;i;)null!=e[i.n]&&(i._next&&(i._next._prev=i._prev),i._prev?(i._prev._next=i._next,i._prev=null):this._firstPT===i&&(this._firstPT=i._next)),i=i._next;return!1},u._mod=u._roundProps=function(e){for(var t,n=this._firstPT;n;)(t=e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")])&&"function"==typeof t&&(2===n.f?n.t._applyPT.m=t:n.m=t),n=n._next},D._onPluginEvent=function(e,t){var n,i,a,r,o,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(o=s._next,i=a;i&&i.pr>s.pr;)i=i._next;(s._prev=i?i._prev:r)?s._prev._next=s:a=s,(s._next=i)?i._prev=s:r=s,s=o}s=t._firstPT=a}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(n=!0),s=s._next;return n},ie.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===ie.API&&(F[(new e[t])._propName]=e[t]);return!0},b.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,i=e.priority||0,a=e.overwriteProps,r={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},o=S("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){ie.call(this,n,i),this._overwriteProps=a||[]},!0===e.global),s=o.prototype=new ie(n);for(t in s.constructor=o,o.API=e.API,r)"function"==typeof e[t]&&(s[r[t]]=e[t]);return o.version=e.version,ie.activate([o]),o},c=i._gsQueue){for(d=0;d<c.length;d++)c[d]();for(u in C)C[u].func||i.console.log("GSAP encountered missing dependency: "+u)}h=!1}}(void 0!==e&&e.exports&&void 0!==i?i:window,"TweenMax")}).call(this,n(79))},function(e,t,n){"use strict";var i;i=function(e){var t,n=window,i=[];n.dragIsMove=!1,n.DragscrollFunc=t=function(e,t){for(e=0;e<i.length;)(t=i[e++]).removeEventListener("mousedown",t.md,0),n.removeEventListener("mouseup",t.mu,0),n.removeEventListener("mousemove",t.mm,0);for(i=window.document.getElementsByClassName("dragscroll"),e=0;e<i.length;)!function(e,t,i,a){e.addEventListener("mousedown",e.md=function(e){n.dragIsMove=!0,a=1,t=e.clientX,i=e.clientY,e.preventDefault(),e.stopPropagation()},0),n.addEventListener("mouseup",e.mu=function(){a=0,n.dragIsMove=!1},0),n.addEventListener("mousemove",e.mm=function(r,o){o=e.scroller||e,a&&n.dragIsMove&&("y"!==o.getAttribute("data-direction")&&(o.scrollLeft-=-t+(t=r.clientX)),o.scrollTop-=-i+(i=r.clientY))},0)}(i[e++])};var a=n.isLocal?n:n.parent;if(a)try{a.document.addEventListener("mouseup",function(){n.dragIsMove&&(n.dragIsMove=!1)},!0)}catch(e){}"complete"==window.document.readyState?t():n.addEventListener("load",t,0),e.reset=t},"function"==typeof window.define&&window.define&&window.define.amd?window.define(["exports"],i):i(t)},function(e,t,n){"use strict";var i;!function e(t,n,a){function r(s,l){if(!n[s]){if(!t[s]){if(!l&&("function"==typeof i&&i))return i(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return r(n||e)},d,d.exports,e,t,n,a)}return n[s].exports}for(var o="function"==typeof i&&i,s=0;s<a.length;s++)r(a[s]);return r}({1:[function(e,t,n){t.exports=e("./lib/preventoverscroll")},{"./lib/preventoverscroll":2}],2:[function(e,t,n){var i=e("./util"),a=document,r=window,o={},s={list:[],cClass:"prevent_over_scroll_container",styleId:"prevent_over_scroll_style",styleStr:"{overflow-y: scroll; -webkit-overflow-scrolling: touch;}"};function l(e){this.config=i.extend(s,e||{}),this.init()}l.prototype={constructor:l,init:function(){this._initStyle(),this._initstartMoveMap.call(this),this._bindEvent(this.config.list)},_initStyle:function(){var e,t,n,r=this.config.list;if(i.checkDeviceType("ios")){for(e=0,t=r.length;e<t;e++){if(!(n=a.getElementById(r[e])))throw"";n.className+=" "+this.config.cClass}this._appendStyle()}},_appendStyle:function(){if(!document.getElementById(this.config.styleId)){var e=a.createElement("style"),t="."+this.config.cClass+this.config.styleStr;t+=" html, body {width: 100%; height: 100;}",e.id=this.config.styleId,e.innerHTML=t,a.getElementsByTagName("head")[0].appendChild(e)}},_initstartMoveMap:function(){for(var e=this.config.list,t=0,n=e.length;t<n;t++)o[e[t]]=0},_startMove:function(e){e=e||r.event;o[this.id]=e.touches[0].clientY},_preventMove:function(e){var t="11",n=this,i=(e=e||window.event).touches[0].clientY,a=o[n.id],r=n.scrollTop,s=n.offsetHeight,l=n.scrollHeight;if(!(s>=l&&n.getAttribute("innerScroll"))&&(0===r?t=s>=l?"00":"01":r+s>=l&&(t="10"),"11"!=t)){var c=i-a>0?"10":"01";if(!(parseInt(t,2)&parseInt(c,2)))return e.preventDefault(),void e.stopPropagation()}},_bindEvent:function(e){for(var t,n=0,a=e.length;n<a;n++){if(!(t=document.getElementById(e[n])))throw"elem "+e[n]+"is not exist!";i.addEvent(t,"touchstart",this._startMove),i.addEvent(t,"touchmove",this._preventMove)}},push:function(e){e in o||(this.config.list.push(e),o[e]=0,a.getElementById(e).className+=" "+this.config.cClass,this._bindEvent([e]))},pop:function(e){var t=a.getElementById(e);delete o[e],i.removeEvent(t,"touchstart",this.startMove),i.removeEvent(t,"touchmove",this._preventMove)}},t.exports={PreventOverScroll:l}},{"./util":3}],3:[function(e,t,n){function i(e,t){var n=Object.prototype.toString;return"Null"===t&&null===e||"Undefined"===t&&void 0===e||n.call(e).slice(8,-1)===t}var a={checkDeviceType:function(e){var t=navigator.userAgent,n=/(Android)/i.test(t),i=/(iPhone|iPad|iPod|iOS)/i.test(t)&&!n;return"ios"==e?i:n},addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},removeEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},extend:function e(t,n){for(var a in t){var r=t[a];t===r||a in n||(i(r,"Object")?n[a]=e(r,n[a]||{}):i(r,"Array")?(n[a]=[],n[a]=e(r,n[a]||[])):n[a]=r)}return n}};t.exports=a},{}],4:[function(e,t,n){window.PreventOverScroll=e("./index.js").PreventOverScroll},{"./index.js":1}]},{},[4])},,function(e,t,n){"use strict";window.phoneTypeObj={ip5:["iPhone 5/SE (320*568)",320,568],ip6:["iPhone 6-8 (375*667)",375,667],ip6p:["iPhone 6-8 Plus (414*736)",414,736],ipx:["iPhone X (375*734)",375,734],AN:["Android主流 (360*640)",360,640],SMs8:["Galaxy S8 (360*740)",360,740],XMmix2:["小米Mix2 (360*720)",360,720],XMmix:["小米Mix (360*680)",360,680]},window.webTypeObj={1200:["Base (1200)",1200,2e3],1440:["Mac (1440)",1440,2e3],1680:["Wide (1680)",1680,2e3],1920:["HD (1920)",1920,2e3]}},,,function(e,t,n){"use strict";n(315),window.phoneModelSizeObj={ip5:[354,755,95,95,16],ip6:[436,881,107,107,30],ip6p:[477,973,118,120,30],ipx:[431,862,69,28,28],AN:[387,800,77,86,13],SMs8:[384,809,35,35,11],XMmix2:[394,821,12,50,16],XMmix:[388,773,7,45,13]},window.phoneBaseSize="web"==window.platform?"sketch"==$.getUrlParam("type")?{width:1440,height:2e3,type:"1440"}:{width:1200,height:2e3,type:"1200"}:{width:320,height:568,type:"ip5"};var i="web"==window.platform?window.webTypeObj:window.phoneTypeObj;if(window.phoneSize=$.extend(!0,{},window.phoneBaseSize),window.pSize&&i[window.pSize])window.phoneSize.type=window.pSize,window.phoneSize.width=i[window.pSize][1],window.phoneSize.height=i[window.pSize][2];else if(window.pSize&&-1!=window.pSize.indexOf("_")){var a=window.pSize.split("_");window.phoneSize.type=window.pSize,window.phoneSize.width=+a[0],window.phoneSize.height=+a[1]}else window.pSize&&"web"==window.platform&&(window.phoneSize.type=window.pSize,window.phoneSize.width=parseInt(window.pSize));if(!window.noNew){var r=!1;if($.getUrlParam("pw")&&window.isPrototypeTool&&(r=!0,window.phoneSize.width=parseInt($.getUrlParam("pw"))),$.getUrlParam("ph")&&(r=!0,window.phoneSize.height=parseInt($.getUrlParam("ph"))),$.getUrlParam("ps")){var o=$.getUrlParam("ps");i[o]&&(window.phoneSize.type=o,window.phoneSize.width=i[o][1],window.phoneSize.height=i[o][2])}else r&&(window.phoneSize.type=window.phoneSize.width+"_"+window.phoneSize.height)}window.ss=window.isPc?1:window.phoneSize.width/window.phoneBaseSize.width,window.hss=window.isPc?1:window.phoneSize.height/window.phoneBaseSize.height,e.exports="initPhoneSize"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=f(n(3)),a=f(n(7)),r=f(n(6)),o=f(n(5)),s=f(n(4)),l=f(n(1)),c=f(n(90)),d=f(n(277)),u=f(n(12));f(n(76));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){(0,a.default)(this,t);var e=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={},e._changePhoneSize=e._changePhoneSize.bind(e),e._zoomIn=e._zoomIn.bind(e),e._zoomOut=e._zoomOut.bind(e),e._zoomFit=e._zoomFit.bind(e),e._reset=e._reset.bind(e),e._zoomToast=e._zoomToast.bind(e),e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentWillMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"_changePhoneSize",value:function(e,t){if(-1!=t.indexOf("_")){var n=t.split("_");window.phoneViewSize.type=t,window.phoneViewSize.width=+n[0],window.phoneViewSize.height=+n[1]}else window.phoneViewSize.type=t,window.phoneViewSize.width=window.phoneTypeObj[t][1],window.phoneViewSize.height=window.phoneTypeObj[t][2];window.isLocal&&window.initResize(!0),this.props.phoneViewSelf.setState({})}},{key:"render",value:function(){var e=[],t=[],n=void 0;if(!this.props.show)return null;for(var i in window.phoneTypeObj)e.push(window.phoneTypeObj[i][0]),t.push(i);-1!=window.phoneSize.type.indexOf("_")?(t.push(window.phoneSize.type),n="自定义尺寸 "+window.phoneSize.width+"*"+window.phoneSize.height,e.push(n)):n=e[t.indexOf(""+window.phoneSize.type)];return l.default.createElement("div",{className:"preview-view-setting"},l.default.createElement("div",{className:"scale-group clearfix"},l.default.createElement("i",{className:"material-icons"+(2==this.props.phoneView.scale?" disabled":""),onClick:this._zoomIn},"add"),l.default.createElement("i",{className:"material-icons"+(.5==this.props.phoneView.scale?" disabled":""),onClick:this._zoomOut},"remove"),l.default.createElement("i",{className:"number"+(1==this.props.phoneView.scale?" disabled":""),onClick:this._reset},"100%"),l.default.createElement("i",{className:"scale-btn material-icons",onClick:this._zoomFit},"fullscreen")),"mobile"==this.props.platform?l.default.createElement(c.default,{key:"selectPage",placeholder:"请选择页面",new:!0,text:n,value:window.phoneSize.type,texts:e,values:t,width:178,callback:this._changePhoneSize}):void 0)}},{key:"_zoomIn",value:function(){d.default.zoom("in"),this._zoomToast()}},{key:"_zoomOut",value:function(){d.default.zoom("out"),this._zoomToast()}},{key:"_reset",value:function(){d.default.zoom(null,1),this._zoomToast()}},{key:"_zoomFit",value:function(){d.default.zoomFit(),u.default.show("缩放比例：最佳尺寸")}},{key:"_zoomToast",value:function(){u.default.show("缩放比例："+Math.round(100*this.props.phoneView.scale)+"%")}}]),t}(l.default.Component);t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n(3)),a=d(n(7)),r=d(n(6)),o=d(n(5)),s=d(n(4)),l=d(n(1)),c=d(n(76));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){(0,a.default)(this,t);var e=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={},e._pageClick=e._pageClick.bind(e),e._toggleFolder=e._toggleFolder.bind(e),e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this.props.page;return l.default.createElement("li",{className:(e.active?"active":"")+" "+e.type+"-layer layer-"+this.props.index+(e.fold?"":" unfold"),key:"page"+e.key,id:"pageItem"+e.key,"data-key":e.key,onClick:"page"==e.type?this._pageClick:this._toggleFolder},l.default.createElement("div",{className:"name"},"folder"==e.type?l.default.createElement("div",{className:"unfold-btn"},this.props.childrenNum?l.default.createElement("div",{className:"wrapbox-line",style:{height:30*this.props.childrenNum}}):void 0):void 0,e.name))}},{key:"_pageClick",value:function(e){var t=e.currentTarget.getAttribute("data-key"),n=c.default.getActivePage();t!=n&&(c.default.changeActivePage({nextKey:t}),(window.isLocal||"web"==window.platform?window:window.document.getElementById("viewIframe").contentWindow).goToPage({curr:n,next:t,transition:"empty",notToparent:!0,reset:!0}))}},{key:"_toggleFolder",value:function(){this.props.toggleFolder(this.props.page.key)}}]),t}(l.default.Component);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(3)),a=u(n(7)),r=u(n(6)),o=u(n(5)),s=u(n(4)),l=u(n(1)),c=u(n(76)),d=u(n(320));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){(0,a.default)(this,t);var e=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={},e._toggleFolder=e._toggleFolder.bind(e),e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){if(0===this.props.pagesArr.length)return null;var e=[],t=c.default.getStructHierarchy();return this._addPageStruct(t,1,e),l.default.createElement("div",{className:"preview-page-panel panel"},l.default.createElement("p",{className:"page-num"},this.props.pagesArr.length+" -- [ "+this.props.activePage.name+" ]"),l.default.createElement("ul",{className:"catalog-list scroll-hint preview-pages",id:"pageList"},e))}},{key:"_addPageStruct",value:function(e,t,n){var i=this;e.forEach(function(a){if(a||log(a,e),!1===a.isShow)return!1;"page"==a.type?n.push(l.default.createElement(d.default,{key:"page_"+a.key,page:a,index:t,active:a.active})):"folder"==a.type&&(n.push(l.default.createElement(d.default,{key:"folder_"+a.key,page:a,index:t,childrenNum:a.fold?0:i._getAllChildNum(a),toggleFolder:i._toggleFolder})),a.fold||i._addPageStruct(a.folderHierarchy,t+1,n))})}},{key:"_getAllChildNum",value:function(e){var t=this,n=0;return"folder"!=e.type||e.fold||e.folderHierarchy.forEach(function(e){n++,n+=t._getAllChildNum(e)}),n}},{key:"_toggleFolder",value:function(e){c.default.changeStructFolderFold(e),this.setState({})}}]),t}(l.default.Component);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n(3)),a=d(n(7)),r=d(n(6)),o=d(n(5)),s=d(n(4)),l=d(n(1)),c=d(n(76));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){(0,a.default)(this,t);var e=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={hideNote:c.default.getHideNote()},e._noteMouseEnter=e._noteMouseEnter.bind(e),e._noteMouseLeave=e._noteMouseLeave.bind(e),e._onPhoneViewBtnChange=e._onPhoneViewBtnChange.bind(e),e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentWillMount",value:function(){c.default.addBtnChangeListener(this._onPhoneViewBtnChange)}},{key:"componentWillUnmount",value:function(){c.default.removeBtnChangeListener(this._onPhoneViewBtnChange)}},{key:"_onPhoneViewBtnChange",value:function(){this.setState({hideNote:c.default.getHideNote()})}},{key:"_noteMouseEnter",value:function(e){var t=e.currentTarget.getAttribute("data-pageid"),n=e.currentTarget.getAttribute("data-id");(window.isLocal||window.isPc?window:window.document.getElementById("viewIframe").contentWindow).addNoteHoverClass(t,n)}},{key:"_noteMouseLeave",value:function(e){var t=e.currentTarget.getAttribute("data-pageid"),n=e.currentTarget.getAttribute("data-id");(window.isLocal||window.isPc?window:window.document.getElementById("viewIframe").contentWindow).removeNoteHoverClass(t,n)}},{key:"render",value:function(){if(this.state.hideNote||!this.props.note||0==this.props.note.length)return null;var e=this,t=[];return e.props.note.forEach(function(n){t.push(l.default.createElement("li",{"data-pageid":n.pageId,"data-id":n.id,id:"listPage"+n.pageId+"Note"+n.id,key:n.id,onMouseEnter:e._noteMouseEnter,onMouseLeave:e._noteMouseLeave},l.default.createElement("p",{className:"index"},n.index),l.default.createElement("pre",null,l.default.createElement("p",{className:"note-content"},""==n.text.trim()?"[暂无信息]":n.text))))}),l.default.createElement("div",{className:"preview-note-panel",id:"previewNotePanel"},l.default.createElement("ul",null,t))}}]),t}(l.default.Component);t.default=u},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=c(n(3)),a=c(n(7)),r=c(n(6)),o=c(n(5)),s=c(n(4)),l=c(n(1));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){(0,a.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return n.state={},n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"shouldComponentUpdate",value:function(e){return e.phoneView||!!window.isPrototypeTool&&"ipx"==window.phoneSize.type&&this.props.backColor!=e.backColor||e.isLandscape!=this.props.isLandscape}},{key:"render",value:function(){var e=this.props.phoneView,t=e?window.phoneViewSize:window.phoneSize,n={},i=e?window.phoneTypeObj[window.phoneViewSize.type]:window.phoneTypeObj[window.phoneSize.type],a=this.props.backColor&&e?$.colorToGray(this.props.backColor,!0):0,r=window.phoneModelSizeObj[window.phoneViewSize.type],o=void 0;return this.props.isLandscape&&(n.transformOrigin=Math.floor(t.width/2+r[4])+1+"px "+(Math.floor(t.width/2+r[2])+1)+"px"),i&&"ip5"!=t.type?o="ipx"==t.type?l.default.createElement("div",{className:"mobile-model",style:n},l.default.createElement("div",{className:"page-bg",style:{backgroundColor:this.props.backColor}},e&&!this.props.isLandscape?l.default.createElement("div",{className:"ipx-status-bar "+(a<192?"light":"")}):void 0,l.default.createElement("div",{className:"indicator "+(a<192?"light":"")})),l.default.createElement("div",{className:"mobile-image"})):l.default.createElement("div",{className:"mobile-model",style:n}):("ip5"!=t.type&&(n.height=t.height+186,n.width=t.width+34),o=l.default.createElement("div",{className:"mobile-model",style:n},e?void 0:l.default.createElement("i",{className:"phone-size-tips material-icons iconfont a_c","data-contr":"hovertip","data-option":'{"text":"手机预览时，自动适配所有手机分辨率", "direction": "top", "changePosi": 10}'},"help_outline"),l.default.createElement("div",{className:"power-button"}),l.default.createElement("div",{className:"camera"}),l.default.createElement("div",{className:"handset"}),l.default.createElement("ul",{className:"volume-button-group"},l.default.createElement("li",null),l.default.createElement("li",null),l.default.createElement("li",null)),l.default.createElement("div",{className:"home-button"}))),o}}]),t}(l.default.Component);t.default=d},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(3)),a=u(n(7)),r=u(n(6)),o=u(n(5)),s=u(n(4)),l=u(n(1)),c=u(n(76)),d=u(n(319));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){(0,a.default)(this,t);var e=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={hideNote:c.default.getHideNote(),hideEventTag:c.default.getHideEventTag(),hideSettings:!0},e._onPhoneViewBtnChange=e._onPhoneViewBtnChange.bind(e),e._refreshClick=e._refreshClick.bind(e),e._hideNoteClick=e._hideNoteClick.bind(e),e._hideEventTagClick=e._hideEventTagClick.bind(e),e._hideSettingsClick=e._hideSettingsClick.bind(e),e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentWillMount",value:function(){c.default.addBtnChangeListener(this._onPhoneViewBtnChange)}},{key:"componentWillUnmount",value:function(){c.default.removeBtnChangeListener(this._onPhoneViewBtnChange)}},{key:"_onPhoneViewBtnChange",value:function(){this.setState({hideNote:c.default.getHideNote(),hideEventTag:c.default.getHideEventTag()})}},{key:"render",value:function(){return l.default.createElement("div",{className:"setting-list"+(this.props.notProject?" not-project":"")+(this.props.viewType?" view-type-"+this.props.viewType:"")},l.default.createElement("i",{className:"material-icons setting-icon iconfont a_c"+(this.state.hideSettings?"":" active"),"data-contr":"hovertip","data-option":'{"text":"设置", "direction":"left", "changeOtherPosi": -8}',onClick:this._hideSettingsClick},"settings"),l.default.createElement("i",{className:"material-icons iconfont a_c","data-contr":"hovertip","data-option":'{"text":"刷新项目", "direction":"left", "changeOtherPosi": -6}',onClick:this._refreshClick},"refresh"),l.default.createElement("i",{className:"material-icons note-icon iconfont a_c"+(this.state.hideNote?"":" active"),"data-contr":"hovertip","data-option":'{"text":"'+(this.state.hideNote?"开启":"关闭")+'标注", "direction":"left", "changeOtherPosi": -8}',onClick:this._hideNoteClick},"mode_comment"),l.default.createElement("i",{className:"material-icons iconfont a_c"+(this.state.hideEventTag?"":" active"),"data-contr":"hovertip","data-option":'{"text":"'+(this.state.hideEventTag?"开启":"关闭")+'事件提示", "direction":"left", "changeOtherPosi": -7}',onClick:this._hideEventTagClick},this.state.hideEventTag?"flash_off":"flash_on"),l.default.createElement(d.default,{phoneViewSelf:this.props.phoneViewSelf,show:!this.state.hideSettings,phoneView:this.props.phoneView}))}},{key:"_refreshClick",value:function(e){(window.isLocal?window:window.document.getElementById("viewIframe").contentWindow).location.reload(!0),e.stopPropagation()}},{key:"_hideNoteClick",value:function(e){var t=!this.state.hideNote;c.default.setHideNote(t),t?(window.isLocal?window:window.document.getElementById("viewIframe").contentWindow).addHideNoteClass():(window.isLocal?window:window.document.getElementById("viewIframe").contentWindow).removeHideNoteClass(),e.stopPropagation()}},{key:"_hideEventTagClick",value:function(e){var t=!this.state.hideEventTag;c.default.setHideEventTag(t),t?(window.isLocal?window:window.document.getElementById("viewIframe").contentWindow).addHideEventTagClass():(window.isLocal?window:window.document.getElementById("viewIframe").contentWindow).removeHideEventTagClass(),e.stopPropagation()}},{key:"_hideSettingsClick",value:function(e){this.setState({hideSettings:!this.state.hideSettings}),e.stopPropagation()}}]),t}(l.default.Component);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=u(n(3)),a=u(n(7)),r=u(n(6)),o=u(n(5)),s=u(n(4)),l=u(n(1)),c=u(n(340)),d=u(n(12));function u(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){(0,a.default)(this,t);var e=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e.state={},e._initShare=e._initShare.bind(e),e._copyUrl=e._copyUrl.bind(e),e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.phoneView;if(window.isLocal){e.url=$.removeParamGetUrl("local",e.url);var t=window.qrcode(6,"L");t.addData(e.url),t.make(),window.document.getElementById("qrcodeImgBox").innerHTML=t.createImgTag(5)}new c.default(".preview-site"),this._initShare()}},{key:"componentDidUpdate",value:function(){this._initShare()}},{key:"_copyUrl",value:function(){var e=$.getElById("copiedTips");$.addClass(e,"show"),setTimeout(function(){$.removeClass(e,"show")},2e3)}},{key:"_initShare",value:function(){var e=this.props.phoneView;if($.getElById("shareBox")){var t="project"==e.view.type?"pro":e.view.type;window._bd_share_config={common:{bdSnsKey:{},bdText:"我"+(e.isMine?"做":"发现")+"了一个很棒的app原型"+("project"==e.view.type?"项目":"page"==e.view.type?"页面":"组件")+"《 "+e.view.name+" 》，分享给大家！",bdMini:"2",bdMiniList:["douban","sqq","huaban","youdao","fbook","twi","linkedin","evernotecn"],bdPic:"https://www.xiaopiu.com/shareImage/"+t+"/"+e.view.id+".png",bdUrl:e.url,bdStyle:"1",bdSize:"24"},share:{}},window._bd_share_main?(console.log(window._bd_share_main,"window._bd_share_main"),window._bd_share_main.init()):(window.document.getElementsByTagName("head")[0]||window.body).appendChild(window.document.createElement("script")).src="https://img.xiaopiu.com/static/api/js/share.js?v=89860593.js",$(".bds_more")[0].addEventListener("click",function(e){e.stopPropagation(),e.preventDefault()})}}},{key:"render",value:function(){var e=this.props.phoneView,t=0!==e.url.indexOf(window.hostUrl+"/h5/");return e.url=$.removeParamGetUrl("local",e.url),l.default.createElement("div",{className:"preview-info-panel panel"},l.default.createElement("a",{className:"logo-box",href:"https://www.xiaopiu.com"},l.default.createElement("div",{className:"logo base-img"}),l.default.createElement("p",{className:"title logo-title"},"优雅高效的在线APP原型工具")),e.user?l.default.createElement("div",{className:"view-author"},l.default.createElement("div",{className:"view-name"},"《"+e.view.name+"》"),l.default.createElement("div",{className:"author"},window.isLocal?void 0:l.default.createElement("a",{className:"author-image",target:"_blank",href:window.hostUrl+"/user?uid="+e.user.id},l.default.createElement("img",{src:$.getUserImageUrl(e.user.userImage,0)})),l.default.createElement("a",{className:"author-name",target:"_blank",href:window.hostUrl+"/user?uid="+e.user.id},e.user.nickName))):void 0,l.default.createElement("p",{className:"title"},"分享给他人(手机、PC均可预览)"),l.default.createElement("div",{ref:"copyUrl",className:"preview-site","data-clipboard-text":e.url,onClick:this._copyUrl},"复制链接",l.default.createElement("div",{id:"copiedTips",className:"copied-tips"},"复制成功")),l.default.createElement("div",{className:"qrcode"},window.isLocal?l.default.createElement("div",{id:"qrcodeImgBox"}):l.default.createElement("img",{src:e.image})),t&&!window.isLocal?l.default.createElement("p",{className:"title",style:{marginTop:"5px"}},"(项目未被保存，链接15分钟后失效)"):void 0,!window.isPrototypeTool&&!e.noBtn||e.showBtn||window.isLocal?l.default.createElement("a",{href:window.hostUrl+"/editor?type="+e.view.type+"&id="+e.view.id,target:window.pcApp?"_self":"_blank",className:"view-edit-btn base-btn"},"编辑查看"):void 0,!t||window.isLocal?l.default.createElement("div",{className:"share-box",id:"shareBox"},l.default.createElement("span",{className:"share-title"},"分享到"),l.default.createElement("div",{className:"bdsharebuttonbox"},l.default.createElement("a",{href:"javascript:void(0);",className:"bds_tsina a_c","data-contr":"hovertip","data-option":'{"text": "分享到新浪微博", "direction":"bottom"}',"data-cmd":"tsina",title:"分享到新浪微博"}),l.default.createElement("a",{href:"javascript:void(0);",className:"bds_weixin a_c","data-contr":"hovertip","data-option":'{"text": "分享到微信", "direction":"bottom"}',title:"分享到微信",onClick:function(){d.default.show("手机扫描左侧二维码分享")}}),l.default.createElement("a",{href:"javascript:void(0);",className:"bds_qzone a_c","data-contr":"hovertip","data-option":'{"text": "分享到QQ空间", "direction":"bottom"}',"data-cmd":"qzone",title:"分享到QQ空间"}),l.default.createElement("a",{href:"javascript:void(0);",className:"bds_renren a_c","data-contr":"hovertip","data-option":'{"text": "分享到人人网", "direction":"bottom"}',"data-cmd":"renren",title:"分享到人人网"}),l.default.createElement("a",{href:"javascript:void(0);",className:"bds_more","data-cmd":"more"}))):void 0)}}]),t}(l.default.Component);t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=d(n(3)),a=d(n(7)),r=d(n(6)),o=d(n(5)),s=d(n(4)),l=d(n(1)),c=(d(n(243)),d(n(277)));function d(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){(0,a.default)(this,t);var e=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return e._changeLabel=e._changeLabel.bind(e),e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){var e=this,t=[];return[{type:"info",text:"简介"},{type:"page",text:"页面"}].forEach(function(n,i){t.push(l.default.createElement("div",{key:"label"+i,className:"tabLabel"+(e.props.currLabel==n.type?" active":""),"data-id":n.type,onClick:e._changeLabel},l.default.createElement("span",null,n.text)))}),l.default.createElement("div",{className:"labelBox"},t)}},{key:"_changeLabel",value:function(e){var t=e.currentTarget;$.hasClass(t,"active")||c.default.changeLabel(t.getAttribute("data-id"))}}]),t}(l.default.Component);t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=C(n(3)),a=C(n(7)),r=C(n(6)),o=C(n(5)),s=C(n(4)),l=C(n(1));n(313),n(312),n(311),n(310);var c=C(n(309)),d=C(n(76)),u=C(n(50)),f=C(n(277)),h=C(n(331)),p=C(n(330)),g=C(n(322)),m=C(n(321)),v=C(n(329)),y=C(n(324)),w=C(n(308));function C(e){return e&&e.__esModule?e:{default:e}}var _=!1;function b(e){var t=e.currentTarget.getAttribute("data-key"),n=d.default.getActivePage();t!=n&&(d.default.changeActivePage({nextKey:t,setPos:!0}),(window.isLocal?window:window.document.getElementById("viewIframe").contentWindow).goToPage({curr:n,next:t,transition:"empty",notToparent:!0,reset:!0})),$.tipHide(),e.stopPropagation(),e.preventDefault()}function S(){}function x(){u.default.hide()}function E(){d.default.exit()}function T(e){var t=Math.round(e);return t%2!=0?t+1:t}window.phoneSize||n(318),window.phoneViewSize||d.default.initPhoneViewSize();var I=function(e){function t(){(0,a.default)(this,t);var e=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this));return window.getIframePageArr||(window.getIframePageArr=function(e,t){d.default.setPagesArr(e),d.default.setStructData(t),d.default.emitChange()}),window.getIframePageActive||(window.getIframePageActive=function(e,t){d.default.changeActivePage({currIndex:e,nextIndex:t,setPos:!0})}),window.passwordFrame||(window.passwordFrame=function(){_=!0,d.default.emitChange()}),window.addNoteHoverClass||(window.addNoteHoverClass=function(e,t){var n=$.getElById("listPage"+e+"Note"+t),i=$.getElById("previewNotePanel"),a=n.offsetTop,r=n.offsetHeight,o=i.scrollTop;(a+r>568||a<o)&&(i.scrollTop=a),$.addClass(n,"hover")}),window.removeNoteHoverClass||(window.removeNoteHoverClass=function(e,t){$.removeClass($.getElById("listPage"+e+"Note"+t),"hover")}),window.isLocal&&(window.fromIframe=!0,n(280),n(288),window.CSSAnimations=n(301),window.loadPages={},window.fixedData={},window.innerScrollData={},window.pagesCache={},window.TweenLite&&(window.TweenLite.defaultEase=window.Linear.easeNone),c.default.init({isMobile:!window.fromIframe})),e.state={phoneView:d.default.getPhoneView(),pagesArr:d.default.getPagesArr(),structHierarchy:d.default.getStructHierarchy()},e._onPhoneViewChange=e._onPhoneViewChange.bind(e),e._fullPreview=e._fullPreview.bind(e),e._getPageStructList=e._getPageStructList.bind(e),e}return(0,s.default)(t,e),(0,r.default)(t,[{key:"componentWillMount",value:function(){d.default.addChangeListener(this._onPhoneViewChange)}},{key:"componentDidMount",value:function(){if(window.isLocal){var e="";window.parentOffset=$.offset($.getElById("appContainer")),window.pages.forEach(function(t){e+=c.default.getPage(t).thisCss}),$.loadStyleString(e),window.onresize=function(){f.default.zoomFit(),window.parentOffset=$.offset($.getElById("appContainer")),$("#resizeCss").remove(),e="",c.default.init({isMobile:!window.fromIframe,isLocalResize:!0}),window.pages.forEach(function(t){e+=c.default.getPage(t).thisCss}),$.loadStyleString(e,"resizeCss")}}else window.onresize=function(){f.default.zoomFit()}}},{key:"componentWillUnmount",value:function(){d.default.removeChangeListener(this._onPhoneViewChange)}},{key:"_onPhoneViewChange",value:function(){this.setState({phoneView:d.default.getPhoneView(),pagesArr:d.default.getPagesArr(),structHierarchy:d.default.getStructHierarchy()})}},{key:"_fullPreview",value:function(){$.toggleClass(this.refs.phoneViewMask,"full-preview"),$.toggleClass(window.document.body,"phone-full-preview")}},{key:"_getPageStructList",value:function(e,t){var n=this;e.forEach(function(i){try{if(!i)return log(i,e),!1;if(!1===i.isShow)return!1;"page"==i.type?t.push(i.key):"folder"==i.type&&n._getPageStructList(i.folderHierarchy,t)}catch(e){log(e)}})}},{key:"render",value:function(){if(!this.state.phoneView.isShow)return null;var e=this.state.phoneView,t=d.default.getActivePage(!0),n=[],i=window.phoneModelSizeObj[window.phoneViewSize.type],a=t&&t.isLandscape,r=void 0,o=void 0,s=void 0;switch(e.currLabel){case"info":s=l.default.createElement(p.default,{phoneView:e});break;case"page":s=l.default.createElement(m.default,{phoneView:e,pagesArr:this.state.pagesArr,activePage:t})}if(t){this._getPageStructList(this.state.structHierarchy,n);var c=n.length;if(c>1){var u=n.indexOf(t.key);u>0&&(r=l.default.createElement("div",{className:"page-prev-btn","data-key":n[u-1],onClick:b},l.default.createElement("div",{className:"arrow"}))),u<c-1&&(o=l.default.createElement("div",{className:"page-next-btn",onClick:b,"data-key":n[u+1]},l.default.createElement("div",{className:"arrow"})))}}var f={width:T((i?i[0]:window.phoneViewSize.width+34)*this.state.phoneView.scale),height:T(window.phoneViewSize.height*this.state.phoneView.scale)};if(a){var C=Math.max(f.width,f.height);f.width=C,f.height=C,"ipx"==window.phoneViewSize.type&&(f.width+=68*this.state.phoneView.scale)}return l.default.createElement("div",{ref:"phoneViewMask",className:"phone-view-mask "+(-1!=window.phoneViewSize.type.indexOf("_")?"custom":window.phoneViewSize.type),onClick:x},l.default.createElement("div",{className:"preview-extra-info leftPanel"},this.state.phoneView.view&&"project"!=this.state.phoneView.view.type?void 0:l.default.createElement(h.default,{currLabel:e.currLabel}),s,l.default.createElement("div",{className:"toggle-btn icon-img",onClick:this._fullPreview}),l.default.createElement(v.default,{phoneViewSelf:this,notProject:!(!this.state.phoneView.view||"project"==this.state.phoneView.view.type),viewType:this.state.phoneView.view&&this.state.phoneView.view.type,phoneView:this.state.phoneView})),l.default.createElement("div",{className:"phone-view-box"+(a?" landscape":"")+(t||_?" show":""),onWheel:S,style:{width:a?window.phoneViewSize.height:window.phoneViewSize.width,height:a?window.phoneViewSize.width:window.phoneViewSize.height}},l.default.createElement("div",{className:"model-wrapper",style:{transform:"scale("+this.state.phoneView.scale+")"}},l.default.createElement(y.default,{phoneView:!0,backColor:t?t.backColor:void 0,isLandscape:a})),l.default.createElement("div",{className:"operate-wrapper",style:f},r,o,l.default.createElement(g.default,{phoneView:e,note:t?t.note:null})),window.isLocal?l.default.createElement("div",{id:"appContainer"},l.default.createElement(w.default,{scale:this.state.phoneView.scale})):l.default.createElement("iframe",{title:"preview",id:"viewIframe",className:"phone-view-iframe",src:e.url+"&isMobile=true",style:{transform:"scale("+this.state.phoneView.scale+")"}})),e.noClose?void 0:l.default.createElement("div",{id:"closeBtn",className:"close-btn phone-close base-img",onClick:E}))}}]),t}(l.default.Component);t.default=I},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=f(n(3)),a=f(n(7)),r=f(n(6)),o=f(n(5)),s=f(n(4)),l=f(n(1)),c=f(n(76)),d=f(n(245)),u=f(n(290));function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){(0,a.default)(this,t);var n=(0,o.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return"true"==window.isById||window.isLocal?c.default.init({url:window.hostUrl+"/h5/byId?"+window.code,image:window.hostUrl+"/qrcode/img?"+window.code,noBtn:"true"==window.noBtn,noClose:!0,user:$.unescapeObj(window.user),view:$.unescapeObj(window.view),isMine:"true"==window.noBtn}):c.default.init({url:window.hostUrl+"/h5?"+window.code,image:window.hostUrl+"/qrcode?"+window.code,noBtn:!0,noClose:!0}),n}return(0,s.default)(t,e),(0,r.default)(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"allPanel"},l.default.createElement(d.default,null),l.default.createElement(u.default,null))}}]),t}(l.default.Component);t.default=h},function(e,t,n){"use strict";var i=s(n(1)),a=s(n(243));n(61),n(87),n(60),n(84),n(86);var r=s(n(639)),o=s(n(332));function s(e){return e&&e.__esModule?e:{default:e}}n(263),window.isLocal&&!window.phoneSize&&n(318),a.default.render(i.default.createElement(r.default,null),$.getElById("reactBox")),a.default.render(i.default.createElement(o.default,null),$.getElById("phoneViewPanel"))},function(e,t,n){e.exports=n(640)}]);